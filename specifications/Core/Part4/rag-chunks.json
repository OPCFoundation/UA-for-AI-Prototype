{
  "Title": "Part 4 - Services",
  "Chunks": [
    {
      "Id": "a0e306e9-420f-4ae1-89e1-aad4ad5e0ff4",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "1 Scope"
    },
    {
      "Id": "54bf3483-26fa-4983-a4b0-d0221a404f24",
      "Header": "Document: Part 4 - Services\nSection: 1 Scope\n---\n",
      "Content": "This part of OPC 10000 defines the OPC Unified Architecture (OPC UA) Services. The Services defined are the collection of abstract Remote Procedure Calls (RPC) that are implemented by OPC UA Servers and called by OPC UA Clients. All interactions between OPC UA Clients and Servers occur via these Services. The defined Services are considered abstract because no particular RPC mechanism for implementation is defined in this document.[OPC 10000-6](/\u00A7UAPart6) specifies one or more concrete mappings supported for implementation. For example, one mapping in[OPC 10000-6](/\u00A7UAPart6) is to UA-TCP UA-SC UA-Binary. In that case the Services described in this document appear as OPC UA Binary encoded payload, secured with OPC UA Secure Conversation and transported via OPC UA TCP.\nNot all OPC UA Servers will need to implement all of the defined Services.[OPC 10000-7](/\u00A7UAPart7) defines the Profiles that dictate which Services need to be implemented in order to be compliant with a particular Profile."
    },
    {
      "Id": "5fa7bab5-9a79-4b6c-9af6-9715391bb00e",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "2 Normative references"
    },
    {
      "Id": "98a0e3ea-23a8-4624-9c1f-f2b3d1395269",
      "Header": "Document: Part 4 - Services\nSection: 2 Normative references\n---\n",
      "Content": "The following documents, in whole or in part, are normatively referenced in this document and are indispensable for its application. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments and errata) applies.\nOPC 10000-1: OPC Unified Architecture - Part 1: Overview and Concepts\nhttp://www.opcfoundation.org/UA/Part1/\nOPC 10000-2: OPC Unified Architecture - Part 2: Security Model\nhttp://www.opcfoundation.org/UA/Part2/\nOPC 10000-3: OPC Unified Architecture - Part 3: Address Space Model\nhttp://www.opcfoundation.org/UA/Part3/\nOPC 10000-5: OPC Unified Architecture - Part 5: Information Model\nhttp://www.opcfoundation.org/UA/Part5/\nOPC 10000-6: OPC Unified Architecture - Part 6: Mappings\nhttp://www.opcfoundation.org/UA/Part6/\nOPC 10000-7: OPC Unified Architecture - Part 7: Profiles\nhttp://www.opcfoundation.org/UA/Part7/\nOPC 10000-8: OPC Unified Architecture - Part 8: Data Access\nhttp://www.opcfoundation.org/UA/Part8/\nOPC 10000-9: OPC Unified Architecture - Part 9: Alarms and Conditions\nhttp://www.opcfoundation.org/UA/Part9/\nOPC 10000-11: OPC Unified Architecture - Part 11: Historical Access\nhttp://www.opcfoundation.org/UA/Part11/\nOPC 10000-12:"
    },
    {
      "Id": "70fd116e-07f7-4b07-a7db-387f74a0d6ff",
      "Header": "Document: Part 4 - Services\nSection: 2 Normative references\n---\n",
      "Content": "OPC Unified Architecture - Part 12: Discovery\nhttp://www.opcfoundation.org/UA/Part12/\nOPC 10000-13: OPC Unified Architecture - Part 13: Aggregates\nhttp://www.opcfoundation.org/UA/Part13/\nOPC 10000-18: OPC Unified Architecture - Part 18: Role-Based Security\nhttp://www.opcfoundation.org/UA/Part18/"
    },
    {
      "Id": "7b8eabb8-1eb0-4ba9-b150-5152da2cd5a8",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "3 Terms, definitions, abbreviated terms and conventions"
    },
    {
      "Id": "41d1c835-f3f6-4dae-ba9b-21e48a11732a",
      "Header": "Document: Part 4 - Services\nSection: 3 Terms, definitions, abbreviated terms and conventions\n---\n",
      "Content": "3.1 Terms and definitions"
    },
    {
      "Id": "05609353-9bad-4750-9902-dcf2547f89d8",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "For the purposes of this document, the terms and definitions given in[OPC 10000-1](/\u00A7UAPart1),[OPC 10000-2](/\u00A7UAPart2),[OPC 10000-3](/\u00A7UAPart3), and the following apply.\n3.1.1 Active Server"
    },
    {
      "Id": "7e690176-018f-49f1-9fe6-a60ef337eab4",
      "Header": "Document: Part 4 - Services\nSection: 3.1.1 Active Server\n---\n",
      "Content": "Server which is currently sourcing information\nNote 1 to entry: In OPC UA redundant systems, an Active Server is the Server that a Client is using as the source of data."
    },
    {
      "Id": "869e351d-451f-4b6a-b649-4adcff979176",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.2 Deadband"
    },
    {
      "Id": "54fc39fb-a661-47e2-a6ba-caeb9950b852",
      "Header": "Document: Part 4 - Services\nSection: 3.1.2 Deadband\n---\n",
      "Content": "permitted range for value changes that will not trigger a data change Notification\nNote 1 to entry: Deadband can be applied as a filter when subscribing to Variables and is used to keep noisy signals from updating the Client unnecessarily. This document defines AbsoluteDeadband as a common filter.[OPC 10000-8](/\u00A7UAPart8) defines an additional Deadband filter."
    },
    {
      "Id": "9630ede8-646f-42a2-bfd2-471332b2ceb8",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.3 DiscoveryEndpoint"
    },
    {
      "Id": "7d0fc66c-6ae3-4b0e-abbd-ea1494f28da0",
      "Header": "Document: Part 4 - Services\nSection: 3.1.3 DiscoveryEndpoint\n---\n",
      "Content": "Endpoint that allows Clients access to Discovery Services without security\nNote 1 to entry: A DiscoveryEndpoint allows access to Discovery Services without a Session and without message security."
    },
    {
      "Id": "3b3d45dd-cc87-4fab-b037-27dec6dbd33e",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.4 Endpoint"
    },
    {
      "Id": "62b82bb6-572d-4084-a478-f7c70563d571",
      "Header": "Document: Part 4 - Services\nSection: 3.1.4 Endpoint\n---\n",
      "Content": "physical address available on a network that allows Clients to access one or more Services provided by a Server\nNote 1 to entry: Each Server may have multiple Endpoints. Each Endpoint includes a HostName."
    },
    {
      "Id": "d83fa9c3-6901-4a40-8950-b4fcac24a569",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.5 EphemeralKey"
    },
    {
      "Id": "e2418aeb-5b83-4e18-9447-902742e7bda7",
      "Header": "Document: Part 4 - Services\nSection: 3.1.5 EphemeralKey\n---\n",
      "Content": "public-private key pair generated for each execution of a key establishment process.\nNote 1 to entry: EphemeralKeys are necessary when using ECC based SecurityPolicies."
    },
    {
      "Id": "7779c1a6-908d-439a-8934-dabe8fea1ed5",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.6 Failed Server"
    },
    {
      "Id": "8d3da1c2-0bfd-44ee-bd23-ae7052c55210",
      "Header": "Document: Part 4 - Services\nSection: 3.1.6 Failed Server\n---\n",
      "Content": "Server that is not operational.\nNote 1 to entry: In OPC UA redundant system, a Failed Server is a Server that is unavailable or is not able to serve data."
    },
    {
      "Id": "245a171d-889d-4b95-9321-e31b0c420ddc",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.7 Failover"
    },
    {
      "Id": "44d84e00-85a9-4973-b7ba-c68e7e9cbf13",
      "Header": "Document: Part 4 - Services\nSection: 3.1.7 Failover\n---\n",
      "Content": "act of switching the source or target of information.\nNote 1 to entry: In OPC UA redundant systems, a Failover is the act of a Client switching away from a failed or degraded Server to another Server in the redundant set ( Server failover). In some cases a Client may have no knowledge of a Failover action occurring (transparent redundancy). A Client failover is the act of an alternate Client replacing an existing failed or degraded Client connection to a Server."
    },
    {
      "Id": "55dfca23-279b-4556-abc8-8c8204b38c6d",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.8 Gateway Server"
    },
    {
      "Id": "c63a9288-9e0d-4901-99aa-50b047718c3c",
      "Header": "Document: Part 4 - Services\nSection: 3.1.8 Gateway Server\n---\n",
      "Content": "Server that acts as an intermediary for one or more Servers\nNote 1 to entry: Gateway Servers may be deployed to limit external access, provide protocol conversion or to provide features that the underlying Servers do not support."
    },
    {
      "Id": "f64574e6-c190-4297-98ed-612f16fd1aa7",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.9 HostName"
    },
    {
      "Id": "8c42c1db-feff-442d-8ba7-3c3d19094a3c",
      "Header": "Document: Part 4 - Services\nSection: 3.1.9 HostName\n---\n",
      "Content": "unique identifier for a machine on a network\nNote 1 to entry: This identifier is unique within a local network; however, it may also be globally unique. The identifier can be an IP address."
    },
    {
      "Id": "9b877ce1-2f1c-4c0c-b6a0-15f58f6d6549",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.10 Redundancy"
    },
    {
      "Id": "dc62a2f2-7b71-44d8-9b60-91f436fad6ac",
      "Header": "Document: Part 4 - Services\nSection: 3.1.10 Redundancy\n---\n",
      "Content": "presence of duplicate components enabling the continued operation after a failure of an OPC UA component\nNote 1 to entry: This may apply to Server s, Clients or networks."
    },
    {
      "Id": "b2edc031-6c5b-4537-80ae-fad4d6794054",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.11 RedundantServerSet"
    },
    {
      "Id": "cb901e0a-5ba4-4058-a932-ac0c40ab795f",
      "Header": "Document: Part 4 - Services\nSection: 3.1.11 RedundantServerSet\n---\n",
      "Content": "two or more Servers that are redundant with each other\nNote 1 to entry: A RedundantServerSet is a group of Servers that are configured to provide Redundancy. These Servers have requirements related to the address space and provide Failovers."
    },
    {
      "Id": "915afc97-4ad0-4f36-a3be-ffa80dfd9160",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.12 SecurityToken"
    },
    {
      "Id": "1a7181ed-a912-424d-b2fd-c64461540d27",
      "Header": "Document: Part 4 - Services\nSection: 3.1.12 SecurityToken\n---\n",
      "Content": "identifier for a cryptographic key set\nNote 1 to entry: All SecurityTokens belong to a security context. For OPC UA the security context is the SecureChannel."
    },
    {
      "Id": "85778baa-320d-4a06-ab6d-7f279e567b59",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.13 ServerUri"
    },
    {
      "Id": "0202d69c-44a8-4256-bad6-0d00282b4e55",
      "Header": "Document: Part 4 - Services\nSection: 3.1.13 ServerUri\n---\n",
      "Content": "ApplicationUri for a Server"
    },
    {
      "Id": "66fc062f-adbb-43cf-8a36-49197cdca8f7",
      "Header": "Document: Part 4 - Services\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "3.1.14 SoftwareCertificate"
    },
    {
      "Id": "1da02d58-567b-44dd-80bf-a580629c2ee6",
      "Header": "Document: Part 4 - Services\nSection: 3.1.14 SoftwareCertificate\n---\n",
      "Content": "digital certificate for a software product that can be installed on several hosts to describe the capabilities of the software product\nNote 1 to entry: Different installations of one software product could have the same software certificate. Software certificates are not relevant for security. They are used to identify a software product and its supported features. SoftwareCertificates are described in[6.4](/\u00A7_Ref468992880)."
    },
    {
      "Id": "29aa436a-7da7-4209-ba9f-1735016e918b",
      "Header": "Document: Part 4 - Services\nSection: 3 Terms, definitions, abbreviated terms and conventions\n---\n",
      "Content": "3.2 Abbreviated terms"
    },
    {
      "Id": "fa5b7ed5-11e4-43a4-a342-66a996b5c866",
      "Header": "Document: Part 4 - Services\nSection: 3.2 Abbreviated terms\n---\n",
      "Content": "API Application Programming Interface\nBNF Backus-Naur Form\nCA Certificate Authority\nCRL Certificate Revocation List\nCTL Certificate Trust List\nDA Data Access\nECC Elliptic Curve Cryptography\nGDS Global Discovery Server\nJWT JSON Web Token\nNAT Network Address Translation\nRSA Rivest, Shamir and Adleman [Public Key Encryption System]\nUA Unified Architecture\nURI Uniform Resource Identifier\nURL Uniform Resource Locator"
    },
    {
      "Id": "fe42b574-26e9-461e-bebb-3a1f0cf081fe",
      "Header": "Document: Part 4 - Services\nSection: 3 Terms, definitions, abbreviated terms and conventions\n---\n",
      "Content": "3.3 Conventions for Service definitions"
    },
    {
      "Id": "c3ceaa4e-487c-4e61-9e74-d023180fc07a",
      "Header": "Document: Part 4 - Services\nSection: 3.3 Conventions for Service definitions\n---\n",
      "Content": "OPC UA Services contain parameters that are conveyed between the Client and the Server. The OPC UA Service specifications use tables to describe Service parameters, as shown in[Table 1](/\u00A7_Ref75662306). Parameters are organized in this table into request parameters and response parameters.\nTable 1- Service definition table\nName\nType\nDescription\nRequest\n\nDefines the request parameters of the Service\nSimple Parameter Name\n\nDescription of this parameter\nConstructed Parameter Name\n\nDescription of the constructed parameter\nComponent Parameter Name\n\nDescription of the component parameter\n\n\n\nResponse\n\nDefines the response parameters of the Service\n\n\n\n\nThe Name, Type and Description columns contain the name, data type and description of each parameter. All parameters are mandatory, although some may be unused under certain circumstances. The Description column specifies the value to be supplied when a parameter is unused.\nTwo types of parameters are defined in these tables, simple and constructed. Simple parameters have a simple data type, such as Boolean or String.\nConstructed parameters are composed of two or more component parameters, which can be simple or constructed. Component parameter names are indented below the constructed parameter name.\nThe data types used in these tables may be base types, common types to multiple Services or Service-specific types. Base data types are defined in[OPC 10000-3](/\u00A7UAPart3). The base types used in Services are listed in[Table 2](/\u00A7_Ref129176961). Data types that are common to multiple Services are defined in Clause[7](/\u00A7_Ref81632048). Data types that are Service-specific are defined in the parameter table of the Service.\nTable 2- Parameter Types defined in[OPC 10000-3](/\u00A7UAPart3)\nParameter Type"
    },
    {
      "Id": "4c6f2bef-79bb-48a6-bc12-4d25b5ff683b",
      "Header": "Document: Part 4 - Services\nSection: 3.3 Conventions for Service definitions\n---\n",
      "Content": "Parameter Type\nBaseDataType\nBoolean\nByteString\nDouble\nDuration\nGuid\nInt32\nLocaleId\nNodeId\nQualifiedName\nString\nUInt16\nUInt32\nUInteger\nUtcTime\nXmlElement\n\nThe parameters of the Request and Indication service primitives are represented in[Table 1](/\u00A7_Ref75662306) as Request parameters. Likewise, the parameters of the Response and Confirmation service primitives are represented in[Table 1](/\u00A7_Ref75662306) as Response parameters. All request and response parameters are conveyed between the sender and receiver without change. Therefore, separate columns for request, indication, response and confirmation parameter values are not needed and have been intentionally omitted to improve readability."
    },
    {
      "Id": "72bdbff1-3ce7-48d3-bbd6-828440087cac",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "4 Overview"
    },
    {
      "Id": "191d6f0f-9d8d-40e6-99c8-8459d88fe279",
      "Header": "Document: Part 4 - Services\nSection: 4 Overview\n---\n",
      "Content": "4.1 Service Set model"
    },
    {
      "Id": "dedadd69-e899-4939-b573-e832c47f5dc1",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "This clause specifies the OPC UA Services. The OPC UA Service definitions are abstract descriptions and do not represent a specification for implementation. The mapping between the abstract descriptions and the Communication Stack derived from these Services are defined in[OPC 10000-6](/\u00A7UAPart6).\nThese Services are organized into Service Sets. Each Service Set defines a set of related Services. The organization in Service Sets is a logical grouping used in this document and is not used in the implementation.\nThe Discovery Service Set, illustrated in[Figure 1](/\u00A7_Ref154232635), defines Services that allow a Client to discover the Endpoints implemented by a Server and to read the security configuration for each of those Endpoints."
    },
    {
      "Id": "589cd1c9-1da3-449b-9142-cf260204cc3c",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 1 - Discovery Service Set\n---\n",
      "Content": "[image004.png](images/image004.png)"
    },
    {
      "Id": "4c0f2687-0c01-42a1-97c4-9b26cfcdf14e",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 1 - Discovery Service Set\nThe SecureChannel Service Set, illustrated in[Figure 2](/\u00A7_Ref130016386), defines Services that allow a Client to establish a communication channel to ensure the Confidentiality and Integrity of Messages exchanged with the Server."
    },
    {
      "Id": "c0861086-f7c8-46a4-a989-0b8f4a8e43a0",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 2 - SecureChannel Service Set\n---\n",
      "Content": "[image005.png](images/image005.png)"
    },
    {
      "Id": "f94102eb-bfe0-4391-b5bd-8af2bd47c654",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 2 - SecureChannel Service Set\nThe Session Service Set, illustrated in[Figure 3](/\u00A7_Ref111260594), defines Services that allow the Client to authenticate the user on whose behalf it is acting and to manage Sessions."
    },
    {
      "Id": "15fb5e41-33a3-49c7-9e14-522a21508a36",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 3 - Session Service Set\n---\n",
      "Content": "[image006.png](images/image006.png)"
    },
    {
      "Id": "c9710e32-a03e-44c8-835c-b0936dd76679",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 3 - Session Service Set\nThe NodeManagement Service Set, illustrated in[Figure 4](/\u00A7_Ref112564702), defines Services that allow the Client to add, modify and delete Nodes in the AddressSpace."
    },
    {
      "Id": "616460be-12af-4488-a5cb-17cdeafd8018",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 4 - NodeManagement Service Set\n---\n",
      "Content": "[image007.png](images/image007.png)"
    },
    {
      "Id": "83badda4-9781-4fa6-a90c-c1de4f5b7078",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 4 - NodeManagement Service Set\nThe View Service Set, illustrated in[Figure 5](/\u00A7_Ref111262713), defines Services that allow Clients to browse through the AddressSpace or subsets of the AddressSpace called Views. The Query Service Set allows Clients to get a subset of data from the AddressSpace or the View."
    },
    {
      "Id": "b1629092-bcc5-4b26-999d-367f68997f68",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 5 - View Service Set\n---\n",
      "Content": "[image008.png](images/image008.png)"
    },
    {
      "Id": "79312216-2f91-428d-b8aa-3c65bae6cdc6",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 5 - View Service Set\nThe Attribute Service Set is illustrated in[Figure 6](/\u00A7_Ref130386836). It defines Services that allow Clients to read and write Attributes of Nodes, including their historical values. Since the value of a Variable is modelled as an Attribute, these Services allow Clients to read and write the values of Variables."
    },
    {
      "Id": "a6f88af1-d61b-41a1-a395-afb906d7d7fb",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 6 - Attribute Service Set\n---\n",
      "Content": "[image009.png](images/image009.png)"
    },
    {
      "Id": "1ead940e-6bab-4559-95f8-7952d3bf8e86",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 6 - Attribute Service Set\nThe Method Service Set is illustrated in[Figure 7](/\u00A7_Ref111263243). It defines Services that allow Clients to call methods. Methods run to completion when called. They may be called with method-specific input parameters and may return method-specific output parameters."
    },
    {
      "Id": "3e024742-5ece-412f-990b-16d8f34e4661",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 7 - Method Service Set\n---\n",
      "Content": "[image010.png](images/image010.png)"
    },
    {
      "Id": "099d9650-e043-4df9-88ea-274fa2c56e2c",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 7 - Method Service Set\nThe MonitoredItem Service Set and the Subscription Service Set, illustrated in[Figure 8](/\u00A7_Ref111266159), are used together to subscribe to Nodes in the OPC UA AddressSpace.\nThe MonitoredItem Service Set defines Services that allow Clients to create, modify, and delete MonitoredItems used to monitor Attributes for value changes and Objects for Events.\nThese Notifications are queued for transfer to the Client by Subscriptions.\nThe Subscription Service Set defines Services that allow Clients to create, modify and delete Subscriptions. Subscriptions send Notifications generated by MonitoredItems to the Client. Subscription Services also provide for Client recovery from missed Messages and communication failures."
    },
    {
      "Id": "946a3838-09ea-472c-aec8-38530377dd09",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\nCaption: Figure 8 - MonitoredItem and Subscription Service Sets\n---\n",
      "Content": "[image011.png](images/image011.png)"
    },
    {
      "Id": "113856fb-f67f-4373-a4fa-8874cf5b3c9c",
      "Header": "Document: Part 4 - Services\nSection: 4.1 Service Set model\n---\n",
      "Content": "Figure 8 - MonitoredItem and Subscription Service Sets"
    },
    {
      "Id": "7e63cd97-2fa3-43f3-ad4c-2aa94a11653d",
      "Header": "Document: Part 4 - Services\nSection: 4 Overview\n---\n",
      "Content": "4.2 Request/response Service procedures"
    },
    {
      "Id": "1c0b7390-fa25-4e9e-8ff1-8e3135bf7650",
      "Header": "Document: Part 4 - Services\nSection: 4.2 Request/response Service procedures\n---\n",
      "Content": "Request/response Service procedures describe the processing of requests received by the Server, and the subsequent return of responses. The procedures begin with the requesting Client submitting a Service request Message to the Server.\nUpon receipt of the request, the Server processes the Message in two steps. In the first step, it attempts to decode and locate the Service to execute. The error handling for this step is specific to the communication technology used and is described in[OPC 10000-6](/\u00A7UAPart6).\nIf it succeeds, then it attempts to access each operation identified in the request and perform the requested operation. For each operation in the request, it generates a separate success/failure code that it includes in a positive response Message along with any data that is to be returned.\nTo perform these operations, both the Client and the Server may make use of the API of a Communication Stack to construct and interpret Messages and to access the requested operation.\nThe implementation of each service request or response handling shall check that each service parameter lies within the specified range for that parameter."
    },
    {
      "Id": "e638cdd2-436f-40eb-b353-84e5c9ba5fa3",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "5 Service Sets"
    },
    {
      "Id": "3beeec83-2461-4f46-b433-f2ad75adff04",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.1 General"
    },
    {
      "Id": "cc3a87f5-1681-49dd-8973-a2e2481f73b7",
      "Header": "Document: Part 4 - Services\nSection: 5.1 General\n---\n",
      "Content": "This clause defines the OPC UA Service Sets and their Services. Clause[7](/\u00A7_Ref286601677) contains the definitions of common parameters used by these Services. Subclause[6.5](/\u00A7_Ref468992894) describes auditing requirements for all services.\nWhether or not a Server supports a Service Set, or a Service within a Service Set, is defined by its Profile. Profiles are described in[OPC 10000-7](/\u00A7UAPart7)."
    },
    {
      "Id": "b6de6a0a-0bb4-4055-b9d9-de9c63716cba",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.2 Service request and response header"
    },
    {
      "Id": "d85cbbb8-9245-462e-8f81-05153122f9db",
      "Header": "Document: Part 4 - Services\nSection: 5.2 Service request and response header\n---\n",
      "Content": "Each Service request has a RequestHeader and each Service response has a ResponseHeader.\nThe RequestHeader structure is defined in[7.32](/\u00A7_Ref129000055) and contains common request parameters such as authenticationToken, timestamp and requestHandle.\nThe ResponseHeader structure is defined in[7.33](/\u00A7_Ref115239340) and contains common response parameters such as serviceResult and diagnosticInfo."
    },
    {
      "Id": "a7f6843a-5822-4643-9602-ff17c60c29a5",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.3 Service results"
    },
    {
      "Id": "0f879660-d9cd-4f91-b114-b2ba426fe4b3",
      "Header": "Document: Part 4 - Services\nSection: 5.3 Service results\n---\n",
      "Content": "Service results are returned at two levels in OPC UA responses, one that indicates the status of the Service call, and the other that indicates the status of each operation requested by the Service.\nService results are defined via the StatusCode(see[7.38](/\u00A7_Ref127346441)).\nThe status of the Service call is represented by the serviceResult contained in the ResponseHeader(see[7.33](/\u00A7_Ref115239340)). The mechanism for returning this parameter is specific to the communication technology used to convey the Service response and is defined in[OPC 10000-6](/\u00A7UAPart6).\nThe status of individual operations in a request is represented by individual StatusCode s.\nThe following cases define the use of these parameters.\nA bad code is returned in serviceResult if the Service itself failed. In this case, a ServiceFault shall be returned instead of the Service response message. The ServiceFault is defined in[7.34](/\u00A7_Ref139872149).\nThe good code is returned in serviceResult if the Service fully or partially succeeded. In this case, other response parameters are returned. The Client shall always check the response parameters, especially all StatusCodes associated with each operation. These StatusCodes may indicate bad or uncertain results for one or more operations requested in the Service call.\nAll Services with arrays of operations in the request shall return a bad code in the serviceResult if the array is empty.\nThe Services define various specific StatusCodes and a Server shall use these specific StatusCodes as described in the Service. A Client should be able to handle these Service specific StatusCodes. In addition, a Client shall expect other common StatusCodes defined in[Table 176](/\u00A7_Ref90539276) and[Table 177](/\u00A7_Ref127606591)"
    },
    {
      "Id": "c960b9d8-546d-40d2-921e-2987c67b83d7",
      "Header": "Document: Part 4 - Services\nSection: 5.3 Service results\n---\n",
      "Content": ". Additional details for Client handling of specific StatusCodes may be defined in[OPC 10000-7](/\u00A7UAPart7).\nIf the Server discovers, through some out-of-band mechanism that the application or user credentials used to create a Session or SecureChannel have been compromised, then the Server should immediately terminate all sessions and channels that use those credentials. In this case, the Service result code should be either Bad_ IdentityTokenRejected or Bad_ CertificateUntrusted.\nMessage parsing can fail due to syntax errors or if data contained within the message exceeds ranges supported by the receiver. When this happens messages shall be rejected by the receiver. If the receiver is a Server then it shall return a ServiceFault with result code of Bad_ DecodingError or Bad_ EncodingLimitsExceeded. If the receiver is the Client then the Communication Stack should report these errors to the Client application.\nMany applications will place limits on the size of messages and/or data elements contained within these messages. For example, a Server may reject requests containing string values longer than a certain length. These limits are typically set by administrators and apply to all connections between a Client and a Server.\nClients that receive Bad_ EncodingLimitsExceeded faults from the Server will likely need to reformulate their requests. The administrator may need to increase the limits for the Client if it receives a response from the Server with this fault.\nIn some cases, parsing errors are fatal and it is not possible to return a fault. For example, the incoming message could exceed the buffer capacity of the receiver. In these cases, these errors may be treated as a communication fault which requires the SecureChannel to be re-established (see[5.6](/\u00A7_Ref187648579)).\nThe Client and Server reduce the chances of a fatal error by exchanging their message size limits in the CreateSession"
    },
    {
      "Id": "df8405e4-4f07-41b8-a3cd-7ed81622cf32",
      "Header": "Document: Part 4 - Services\nSection: 5.3 Service results\n---\n",
      "Content": "CreateSession service. This will allow either party to avoid sending a message that causes a communication fault. The Server should return a Bad_ ResponseTooLarge fault if a serialized response message exceeds the message size specified by the Client. Similarly, the Client Communication Stack should report a Bad_ RequestTooLarge error to the application before sending a message that exceeds the Server\u0027s limit.\nNote that the message size limits only apply to the raw message body and do not include headers or the effect of applying any security. This means that a message body that is smaller than the specified maximum could still cause a fatal error."
    },
    {
      "Id": "2c0e0b52-46f6-42ae-a86b-1f1365db19b9",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.4 Locale Negotiation"
    },
    {
      "Id": "d5dee4be-6c1b-4c23-842e-66304f8eac1d",
      "Header": "Document: Part 4 - Services\nSection: 5.4 Locale Negotiation\n---\n",
      "Content": "A number of Services expect an array of LocaleIds which are used by a Server to determine in what language or languages LocalizedText should be returned.\nThe array of LocaleIds is in the preferred order the Client would like the Server to use when selecting the locale of the LocalizedText to be returned. The first LocaleId in the list is the most preferred. If the Server returns a LocalizedText to the Client, the Server shall return the translation which is the most preferred that it can. If it does not have a translation for any of the locales identified in this list, then it shall return LocalizedText in an available locale. See[OPC 10000-3](/\u00A7UAPart3) for more details on LocaleIds. If the Client fails to specify at least one LocaleId, the Server shall return any one that it has.\nMulti-language LocalizedText can be requested using the special \u0027mul\u0027 or \u0027qst\u0027 locales as the first entry of the list. See[OPC 10000-3](/\u00A7UAPart3) for detail of the special locales and how LocalizedText is used with them. If there are no further entries, the Server shall return all languages available. If there are more languages included after \u0027mul\u0027 or \u0027qst\u0027, the Server shall return only those languages from that list. If the Server doesn\u0027t have a translation for any of the locales included in the list, then it shall return LocalizeText in an available locale. The special \u0027mul\u0027 or \u0027qst\u0027 locales shall not be used in Write.\nIf a Client requests \u0027mul\u0027 it shall be prepared to receive a \u0027mul\u0027 or another locale, but not \u0027qst\u0027 depending on what the Server can provide for a particular LocalizedText.\nIf a Client"
    },
    {
      "Id": "93054b24-1fd5-439c-8c0e-6090bd7689ca",
      "Header": "Document: Part 4 - Services\nSection: 5.4 Locale Negotiation\n---\n",
      "Content": ".\nIf a Client requests \u0027qst\u0027 it shall be prepared to receive a \u0027qst\u0027, \u0027mul\u0027 or another locale depending on what the Server can provide for a particular LocalizedText."
    },
    {
      "Id": "9f1ff9b9-8cce-43d8-a121-64656e4ef003",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.5 Discovery Service Set"
    },
    {
      "Id": "5035e155-b0db-41c9-9e3d-af9511758f85",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.1 Overview"
    },
    {
      "Id": "9bff0bef-c04c-4a70-ace6-86c274130108",
      "Header": "Document: Part 4 - Services\nSection: 5.5.1 Overview\n---\n",
      "Content": "This Service Set defines Services used to discover the Endpoints implemented by a Server and to read the security configuration for those Endpoints. The Discovery Services are implemented by individual Servers and by dedicated Discovery Servers.[OPC 10000-12](/\u00A7UAPart12) describes how to use the Discovery Services with dedicated Discovery Servers.\nEvery Server shall have a DiscoveryEndpoint that Clients can access without establishing a Session. This Endpoint may or may not be the same Session Endpoint that Clients use to establish a SecureChannel. Clients read the security information necessary to establish a SecureChannel by calling the GetEndpoints Service on the DiscoveryEndpoint.\nIn addition, Servers may register themselves with a well-known Discovery Server using the RegisterServer Service. Clients can later discover any registered Servers by calling the FindServers Service on the Discovery Server.\nThe discovery process using FindServers is illustrated in[Figure 9](/\u00A7_Ref131593999). The establishment of a SecureChannel(with MessageSecurityMode NONE) for FindServers and GetEndpoints is omitted from the figure for clarity."
    },
    {
      "Id": "7f2b7f0e-81d4-4b37-9cc9-780f3006fdde",
      "Header": "Document: Part 4 - Services\nSection: 5.5.1 Overview\nCaption: Figure 9 - Discovery process\n---\n",
      "Content": "[image012.png](images/image012.png)"
    },
    {
      "Id": "c4dc6706-baf6-452f-84c7-63354da655a0",
      "Header": "Document: Part 4 - Services\nSection: 5.5.1 Overview\n---\n",
      "Content": "Figure 9 - Discovery process\nThe URL for a DiscoveryEndpoint shall provide all of the information that the Client needs to connect to the DiscoveryEndpoint.\nOnce a Client retrieves the Endpoints, the C lient can save this information and use it to connect directly to the Server again without going through the discovery process. If the Client finds that it cannot connect then the Server configuration may have changed and the Client needs to go through the discovery process again.\nDiscoveryEndpoints shall not require any message security, but it may require transport layer security. In production systems, Administrators may disable discovery for security reasons and Clients shall rely on cached EndpointDescriptions. To provide support for systems with disabled Discovery Services Clients shall allow Administrators to manually update the EndpointDescriptions used to connect to a Server. Servers shall allow Administrators to disable the DiscoveryEndpoint. If GetEndpoints is disabled and the Server Certificate is updated either automatically with Certificate Manager or manually, Clients will no longer be able to connect to the Server without manual re-configuration of the Client.\nA Client shall be careful when using the information returned from a DiscoveryEndpoint since it has no security. A Client does this by comparing the information returned from the DiscoveryEndpoint to the information returned in the CreateSession response. A Client shall verify that:\nThe ApplicationUri specified in the Server Certificate is the same as the ApplicationUri provided in the EndpointDescription returned from CreateSession response.\nThe Server Certificate returned in CreateSession response is the same as the Certificate used to create the SecureChannel.\nThe EndpointDescriptions returned from the DiscoveryEndpoint are the same as the EndpointDescriptions returned in the CreateSession response, but they may be in a different order. For the content, the fields ApplicationUri, EndpointUrl, SecurityMode, SecurityPolicyUri, UserIdentityTokens, TransportProfileUri and SecurityLevel"
    },
    {
      "Id": "06615929-a99a-48ff-94e0-9a2068594fb6",
      "Header": "Document: Part 4 - Services\nSection: 5.5.1 Overview\n---\n",
      "Content": "and SecurityLevel shall be compared for exact match. All other fields are ignored for the comparison.\nIf the Client detects that one of the above requirements is not fulfilled, then the Client shall close the SecureChannel and report an error.\nA Client shall verify the HostName specified in the Server Certificate is the same as the HostName contained in the endpointUrl provided in the EndpointDescription returned by CreateSession. If there is a difference then the Client shall report the difference and may close the SecureChannel. Servers shall add all possible HostNames like MyHost and MyHost.local into the Server Certificate. This includes IP addresses of the host or the HostName exposed by a NAT router used to connect to the Server."
    },
    {
      "Id": "52ecedc8-a8e8-4e27-886e-82f40e926103",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.2 FindServers"
    },
    {
      "Id": "5dc62ef2-e595-4432-99d0-387be40580d5",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2 FindServers\n---\n",
      "Content": "5.5.2.1 Description"
    },
    {
      "Id": "b746bf5c-a681-4129-9411-fa588d8f5365",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2.1 Description\n---\n",
      "Content": "This Service returns the Servers known to a Server or Discovery Server. The behaviour of Discovery Servers is described in detail in[OPC 10000-12](/\u00A7UAPart12).\nThe Client may reduce the number of results returned by specifying filter criteria. A Discovery Server returns an empty list if no Servers match the criteria specified by the Client. The filter criteria supported by this Service are described in[5.5.2.2](/\u00A7_Ref286601892).\nEvery Server shall provide a DiscoveryEndpoint that supports this Service. The Server shall always return a record that describes itself, however in some cases more than one record may be returned. Gateway Servers shall return a record for each Server that they provide access to plus (optionally) a record that allows the Gateway Server to be accessed as an ordinary OPC UA Server. Non-transparent redundant Servers shall provide a record for each Server in the RedundantServerSet.\nEvery Server shall have a globally unique identifier called the ServerUri. This identifier should be a fully qualified domain name; however, it may be a GUID or similar construct that ensures global uniqueness. The ServerUri returned by this Service shall be the same value that appears in index 0 of the ServerArray property (see[OPC 10000-5](/\u00A7UAPart5)). The ServerUri is returned as the applicationUri field in the ApplicationDescription(see[7.2](/\u00A7_Ref153821547)).\nEvery Server shall also have a human readable identifier called the ServerName which is not necessarily globally unique. This identifier may be available in multiple locales.\nA Server may have multiple HostNames. For this reason, the Client shall pass the URL it used to connect to the Endpoint to this Service. The implementation of this Service"
    },
    {
      "Id": "de76c277-060e-4dfa-bf34-9b8eb27033d8",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2.1 Description\n---\n",
      "Content": "Service shall use this information to return responses that are accessible to the Client via the provided URL.\nThis Service shall not require message security but it may require transport layer security.\nSome Servers may be accessed via a Gateway Server and shall have a value specified for gatewayServerUri in their ApplicationDescription(see[7.2](/\u00A7_Ref153821547)). The discoveryUrls provided in ApplicationDescription shall belong to the Gateway Server. Some Discovery Servers may return multiple records for the same Server if that Server can be accessed via multiple paths.\nThis Service can be used without security and it is therefore vulnerable to Denial of Service (DOS) attacks. A Server should minimize the amount of processing required to send the response for this Service. This can be achieved by preparing the result in advance. The Server should also add a short delay before starting processing of a request during high traffic conditions."
    },
    {
      "Id": "89fade99-995d-4eeb-a451-2c20e1330bf7",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2 FindServers\n---\n",
      "Content": "5.5.2.2 Parameters"
    },
    {
      "Id": "1c3947db-e2bb-467c-9d23-93eb92def24d",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2.2 Parameters\n---\n",
      "Content": "[Table 3](/\u00A7_Ref153658081) defines the parameters for the Service.\nTable 3- FindServers Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The authenticationToken is always null. The authenticationToken shall be ignored if it is provided.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000055).\nendpointUrl\nString\nThe network address that the Client used to access the DiscoveryEndpoint.\nThe Server uses this information for diagnostics and to determine what URLs to return in the response.\nThe Server should return a suitable default URL if it does not recognize the HostName in the URL.\nlocaleIds []\nLocaleId\nList of locales to use.\nThe Server should return the applicationName in the ApplicationDescription defined in[7.2](/\u00A7_Ref153821547) using one of the locales specified.\nSee locale negotiation in[5.4](/\u00A7_Ref161623610) which applies to this Service.\nserverUris []\nString\nList of Servers to return.\nAll known Servers are returned if the list is empty.\nA serverUri matches the applicationUri from the ApplicationDescription defined in[7.2](/\u00A7_Ref153821547).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters.\nThe ResponseHeader type is defined in[7.33](/\u00A7_Ref115239340).\nservers []\nApplicationDescription\nList of Servers that meet criteria specified in the request.\nThis list is empty if no Servers meet the criteria.\nThe ApplicationDescription type is defined in[7.2](/\u00A7_Ref153821547)."
    },
    {
      "Id": "510a5f63-01be-4f31-8655-65d08c9e0295",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2 FindServers\n---\n",
      "Content": "5.5.2.3 Service results"
    },
    {
      "Id": "ac91bc34-1153-4d57-af87-4e26fcab00dd",
      "Header": "Document: Part 4 - Services\nSection: 5.5.2.3 Service results\n---\n",
      "Content": "Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276)."
    },
    {
      "Id": "c1c945eb-f9a2-4918-9164-4b550571605d",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.3 FindServersOnNetwork"
    },
    {
      "Id": "9b449716-18a1-486c-b1cf-475e384bc9c3",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3 FindServersOnNetwork\n---\n",
      "Content": "5.5.3.1 Description"
    },
    {
      "Id": "60753376-b1d6-4614-8467-b7cf120a493c",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3.1 Description\n---\n",
      "Content": "This Service returns the Servers known to a Discovery Server. Unlike FindServers, this Service is only implemented by Discovery Servers.\nThe Client may reduce the number of results returned by specifying filter criteria. An empty list is returned if no Server matches the criteria specified by the Client.\nThis Service shall not require message security but it may require transport layer security.\nEach time the Discovery Server creates or updates a record in its cache it shall assign a monotonically increasing identifier to the record. This allows Clients to request records in batches by specifying the identifier for the last record received in the last call to FindServersOnNetwork. To support this the Discovery Server shall return records in numerical order starting from the lowest record identifier. The Discovery Server shall also return the last time the counter was reset for example due to a restart of the Discovery Server. If a Client detects that this time is more recent than the last time the Client called the Service it shall call the Service again with a startingRecordId of 0.\nThis Service can be used without security and it is therefore vulnerable to denial of service (DOS) attacks. A Server should minimize the amount of processing required to send the response for this Service. This can be achieved by preparing the result in advance."
    },
    {
      "Id": "39e93e26-33e9-4cf5-a6ac-36b78258a9ee",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3 FindServersOnNetwork\n---\n",
      "Content": "5.5.3.2 Parameters"
    },
    {
      "Id": "d748f999-d792-4375-a450-aa145d8749e2",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3.2 Parameters\n---\n",
      "Content": "[Table 4](/\u00A7_Ref407044876) defines the parameters for the Service.\nTable 4- FindServersOnNetwork Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The authenticationToken is always null. The authenticationToken shall be ignored if it is provided.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000055).\nstartingRecordId\nCounter\nOnly records with an identifier greater than this number will be returned.\nSpecify 0 to start with the first record in the cache.\nmaxRecordsToReturn\nUInt32\nThe maximum number of records to return in the response.\n0 indicates that there is no limit.\nserverCapabilityFilter[]\nString\nList of Server capability filters. The set of allowed Server capabilities are defined in[OPC 10000-12](/\u00A7UAPart12).\nOnly records with all of the specified Server capabilities are returned.\nThe comparison is case insensitive.\nIf this list is empty then no filtering is performed.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters.\nThe ResponseHeader type is defined in[7.33](/\u00A7_Ref115239340).\nlastCounterResetTime\nUtcTime\nThe last time the counters were reset.\nservers[]\nServerOnNetwork\nList of DNS service records that meet criteria specified in the request.\nThis list is empty if no Servers meet the criteria.\nrecordId\nUInt32\nA unique identifier for the record.\nThis can be used to fetch the next batch of Servers in a subsequent call to FindServersOnNetwork.\nserverName\nString\nThe name of the Server specified in the mDNS announcement (see"
    },
    {
      "Id": "0b713816-65cc-4338-ab0e-7f91ab5a1a29",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3.2 Parameters\n---\n",
      "Content": "[OPC 10000-12](/\u00A7UAPart12)).\nThis may be the same as the ApplicationName for the Server.\ndiscoveryUrl\nString\nThe URL of the DiscoveryEndpoint.\nserverCapabilities\nString[]\nThe set of Server capabilities supported by the Server.\nThe set of allowed Server capabilities are defined in[OPC 10000-12](/\u00A7UAPart12)."
    },
    {
      "Id": "31f28ecc-5ff4-44d4-9695-d4928e4d732f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3 FindServersOnNetwork\n---\n",
      "Content": "5.5.3.3 Service results"
    },
    {
      "Id": "65529f3a-da35-4c10-b4b4-40290f5d6a37",
      "Header": "Document: Part 4 - Services\nSection: 5.5.3.3 Service results\n---\n",
      "Content": "Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276)."
    },
    {
      "Id": "b692d52d-45d7-4d73-8f42-9d4a34f80753",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.4 GetEndpoints"
    },
    {
      "Id": "0e675450-b2b2-4998-89e1-36168dc5397f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4 GetEndpoints\n---\n",
      "Content": "5.5.4.1 Description"
    },
    {
      "Id": "72091f33-b474-402f-8550-5a2632ba17b4",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.1 Description\n---\n",
      "Content": "This Service returns the Endpoints supported by a Server and all of the configuration information required to establish a SecureChannel and a Session.\nThis Service shall not require message security but it may require transport layer security.\nA Client may reduce the number of results returned by specifying filter criteria based on LocaleIds and Transport Profile URIs. The Server returns an empty list if no Endpoints match the criteria specified by the Client. The filter criteria supported by this Service are described in[5.5.4.2](/\u00A7_Ref157827129).\nA Server may support multiple security configurations for the same Endpoint. In this situation, the Server shall return separate EndpointDescription records for each available configuration. Clients should treat each of these configurations as distinct Endpoints even if the physical URL happens to be the same.\nThe security configuration for an Endpoint has four components:\nServer Application Instance Certificate\nMessage Security Mode\nSecurity Policy\nSupported User Identity Tokens\nThe ApplicationInstanceCertificate is used to secure the OpenSecureChannel request (see[5.6.2](/\u00A7_Ref154236901)). The MessageSecurityMode and the SecurityPolicy tell the Client how to secure messages sent via the SecureChannel. The UserIdentityTokens tell the Client which type of user credentials shall be passed to the Server in the ActivateSession request (see[5.7.3](/\u00A7_Ref154395720)).\nIf the securityPolicyUri is None and none of the UserTokenPolicies requires encryption, the Client shall ignore the ApplicationInstanceCertificate. If the securityPolicyUri is not None or one of the UserTokenPolicies requires encryption, the Server shall include the ApplicationInstanceCertificate in the EndpointDescription.\nEach EndpointDescription also specifies a URI for the Transport Profile that the Endpoint supports. The Transport Profiles specify information such as message encoding format and protocol version and are defined in"
    },
    {
      "Id": "433ecbcd-7f4c-4dff-86bb-587d709a225f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.1 Description\n---\n",
      "Content": "[OPC 10000-7](/\u00A7UAPart7).\nMessages are secured by applying standard cryptography algorithms to the messages before they are sent over the network. The exact set of algorithms used depends on the SecurityPolicy for the Endpoint.[OPC 10000-7](/\u00A7UAPart7) defines Profiles for common SecurityPolicies and assigns a unique URI to them. It is expected that applications have built in knowledge of the SecurityPolicies that they support, as a result, only the Profile URI for the SecurityPolicy is specified in the EndpointDescription. A Client cannot connect to an Endpoint that does not support a SecurityPolicy that it recognizes.\nAn EndpointDescription may specify that the message security mode is NONE. This configuration is not recommended unless the applications are communicating on a physically isolated network where the risk of intrusion is extremely small. If the message security is NONE then it is possible for Clients to deliberately or accidentally hijack Sessions created by other Clients.\nA Server may have multiple HostNames. For this reason, the Client shall pass the URL it used to connect to the Endpoint to this Service. The implementation of this Service shall use this information to return responses that are accessible to the Client via the provided URL.\nThis Service can be used without security and it is therefore vulnerable to Denial of Service (DOS) attacks. A Server should minimize the amount of processing required to send the response for this Service. This can be achieved by preparing the result in advance. The Server should also add a short delay before starting processing of a request during high traffic conditions.\nSome of the EndpointDescriptions returned in a response shall specify the Endpoint information for a Gateway Server that can be used to access another Server. In these situations, the gatewayServerUri is specified in the EndpointDescription and all security checks used to verify Certificates shall use the"
    },
    {
      "Id": "ac7aa40d-2c64-4372-b048-67b271f911f0",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.1 Description\n---\n",
      "Content": "Certificates shall use the gatewayServerUri(see[6.1.3](/\u00A7_Ref171496136)) instead of the serverUri.\nTo connect to a Server via the gateway the Client shall first establish a SecureChannel with the Gateway Server. Then the Client shall call the CreateSession service and pass the serverUri specified in the EndpointDescription to the Gateway Server. The Gateway Server shall then connect to the underlying Server on behalf of the Client. The process of connecting to a Server via a Gateway Server is illustrated in[Figure 10](/\u00A7_Ref189163559)."
    },
    {
      "Id": "97892ba5-92e1-4c97-acae-c047b8952b6e",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.1 Description\nCaption: Figure 10 - Using a Gateway Server\n---\n",
      "Content": "[image013.png](images/image013.png)"
    },
    {
      "Id": "f5b37e0a-9b04-42b5-80c9-0a1941a31914",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.1 Description\n---\n",
      "Content": "Figure 10 - Using a Gateway Server"
    },
    {
      "Id": "8362ea40-2d95-4a95-b2e9-3176afe9132f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4 GetEndpoints\n---\n",
      "Content": "5.5.4.2 Parameters"
    },
    {
      "Id": "0bc49950-1846-48cf-b5fc-0b103b89b1f2",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.2 Parameters\n---\n",
      "Content": "[Table 5](/\u00A7_Ref151146140) defines the parameters for the Service.\nTable 5- GetEndpoints Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters.\nThe authenticationToken is always null. The authenticationToken shall be ignored if it is provided.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000055).\nendpointUrl\nString\nThe network address that the Client used to access the DiscoveryEndpoint.\nThe Server uses this information for diagnostics and to determine what URLs to return in the response.\nThe Server should return a suitable default URL if it does not recognize the HostName in the URL.\nlocaleIds []\nLocaleId\nList of locales to use.\nSee locale negotiation in[5.4](/\u00A7_Ref161623610) which applies to this Service.\nprofileUris []\nString\nList of Transport Profile that the returned Endpoints shall support.[OPC 10000-7](/\u00A7UAPart7) defines URIs for the Transport Profiles.\nAll Endpoints are returned if the list is empty.\nIf the URI is a URL, this URL may have a query string appended. The Transport Profiles that support query strings are defined in[OPC 10000-7](/\u00A7UAPart7).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters.\nThe ResponseHeader type is defined in[7.33](/\u00A7_Ref115239340).\nEndpoints []\nEndpointDescription\nList of Endpoints that meet criteria specified in the request.\nThis list is empty if no Endpoints meet the criteria.\nThe EndpointDescription type is defined in[7.14](/\u00A7_Ref171928664)."
    },
    {
      "Id": "e74f1130-93b2-4a87-ab4a-ae8fd8a4bb96",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4 GetEndpoints\n---\n",
      "Content": "5.5.4.3 Service Results"
    },
    {
      "Id": "7c260da6-93be-4683-a654-ed43ce4cd536",
      "Header": "Document: Part 4 - Services\nSection: 5.5.4.3 Service Results\n---\n",
      "Content": "Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276)."
    },
    {
      "Id": "8214379a-2f44-41d3-a81a-dfd7654bd2ff",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.5 RegisterServer"
    },
    {
      "Id": "77b39726-20f5-499c-a469-9d1cbf67713f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5 RegisterServer\n---\n",
      "Content": "5.5.5.1 Description"
    },
    {
      "Id": "3eddfa99-05fa-4cfc-9143-738a05277492",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.1 Description\n---\n",
      "Content": "This Service is implemented by Discovery Servers.\nThis Service registers a Server with a Discovery Server. This Service will be called by a Server or a separate configuration utility. Clients will not use this Service.\nA Server shall establish a SecureChannel with the Discovery Server before calling this Service. The SecureChannel is described in[5.6](/\u00A7_Ref187648579). The Administrator of the Server shall provide the Server with an EndpointDescription for the Discovery Server as part of the configuration process. Discovery Servers shall reject registrations if the serverUri provided does not match the applicationUri in Server Certificate used to create the SecureChannel.\nThis Service can only be invoked via SecureChannels that support Client authentication (i.e. HTTPS cannot be used to call this Service).\nA Server only provides its serverUri and the URLs of the DiscoveryEndpoints to the Discovery Server. Clients shall use the GetEndpoints Service to fetch the most up to date configuration information directly from the Server.\nThe Server shall provide a localized name for itself in all locales that it supports.\nServers shall be able to register themselves with a Discovery Server running on the same machine. The exact mechanisms depend on the Discovery Server implementation and are described in[OPC 10000-6](/\u00A7UAPart6).\nThere are two types of Server applications: those which are manually launched including a start by the operating system at boot and those that are automatically launched when a Client attempts to connect. The registration process that a Server shall use depends on which category it falls into.\nThe registration process for manually launched Servers is illustrated in[Figure 11](/\u00A7_Ref151133511)."
    },
    {
      "Id": "ae28b860-e92f-47e4-bcae-7d9313a30407",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.1 Description\nCaption: Figure 11 - The Registration Process - Manually Launched Servers\n---\n",
      "Content": "[image014.png](images/image014.png)"
    },
    {
      "Id": "5ccad6b7-6b68-4ba3-b574-36239e8b5aec",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.1 Description\n---\n",
      "Content": "Figure 11 - The Registration Process - Manually Launched Servers\nThe registration process for automatically launched Servers is illustrated in[Figure 12](/\u00A7_Ref153738822)."
    },
    {
      "Id": "128a1a12-1c90-41f6-b3e3-28314609dbff",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.1 Description\nCaption: Figure 12 - The Registration Process - Automatically Launched Servers\n---\n",
      "Content": "[image015.png](images/image015.png)"
    },
    {
      "Id": "6a8cb091-90be-42f6-95d2-62ef9aaba163",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.1 Description\n---\n",
      "Content": "Figure 12 - The Registration Process - Automatically Launched Servers\nThe registration process is designed to be platform independent, robust and able to minimize problems created by configuration errors. For that reason, Servers shall register themselves more than once.\nUnder normal conditions, manually launched Servers shall periodically register with the Discovery Server as long as they are able to receive connections from Clients. If a Server goes offline then it shall register itself once more and indicate that it is going offline. The period of the recurring registration should be configurable; however, the maximum is 10 minutes. If an error occurs during registration (e.g. the Discovery Server is not running) then the Server shall periodically re-attempt registration. The frequency of these attempts should start at 1 second but gradually increase until the registration frequency is the same as what it would be if no errors occurred. The recommended approach would be to double the period of each attempt until reaching the maximum.\nWhen an automatically launched Server(or its install program) registers with the Discovery Server it shall provide a path to a semaphore file which the Discovery Server can use to determine if the Server has been uninstalled from the machine. The Discovery Server shall have read access to the file system that contains the file."
    },
    {
      "Id": "4584caa3-cd5c-4757-9fdb-d42bb2a42285",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5 RegisterServer\n---\n",
      "Content": "5.5.5.2 Parameters"
    },
    {
      "Id": "b73c45a2-0cf6-41bf-b063-30e491572d75",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.2 Parameters\n---\n",
      "Content": "[Table 6](/\u00A7_Ref151146114) defines the parameters for the Service.\nTable 6- RegisterServer Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters.\nThe authenticationToken is always null.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000055).\nServer\nRegisteredServer\nThe Server to register. The type RegisteredServer is defined in[7.31](/\u00A7_Ref413265664).\n\n\n\nResponse\n\n\nResponseHeader\nResponseHeader\nCommon response parameters.\nThe type ResponseHeader is defined in[7.33](/\u00A7_Ref115239340)."
    },
    {
      "Id": "52bf3aba-e18c-4bc5-ad8b-931d43407bbc",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5 RegisterServer\n---\n",
      "Content": "5.5.5.3 Service Results"
    },
    {
      "Id": "d1c195ae-68c0-4044-9410-c561b4e99c24",
      "Header": "Document: Part 4 - Services\nSection: 5.5.5.3 Service Results\n---\n",
      "Content": "[Table 7](/\u00A7_Ref157830433) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 7- RegisterServer Service Result Codes\nSymbolic Id\nDescription\nBad_InvalidArgument\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ServerUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ServerNameMissing\nNo ServerName was specified.\nBad_DiscoveryUrlMissing\nNo discovery URL was specified.\nBad_SemaphoreFileMissing\nThe semaphore file specified is not valid."
    },
    {
      "Id": "7109d871-001a-45d1-b888-61d42f761757",
      "Header": "Document: Part 4 - Services\nSection: 5.5 Discovery Service Set\n---\n",
      "Content": "5.5.6 RegisterServer2"
    },
    {
      "Id": "c563128b-69aa-46ac-b0b4-7b613a75b8a6",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6 RegisterServer2\n---\n",
      "Content": "5.5.6.1 Description"
    },
    {
      "Id": "66aa682b-c4fe-4e3b-a69e-9e067a095a44",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6.1 Description\n---\n",
      "Content": "This Service is implemented by Discovery Servers.\nThis Service allows a Server to register its DiscoveryUrls and capabilities with a Discovery Server. It extends the registration information from RegisterServer with information necessary for FindServersOnNetwork. This Service will be called by a Server or a separate configuration utility. Clients will not use this Service.\nServers that support RegisterServer2 shall try to register with the Discovery Server using this Service and shall fall back to RegisterServer if RegisterServer2 fails with the status Bad_ServiceUnsupported.\nA Discovery Server that implements this Service needs to assign unique record ids each time this Service is called. See[5.5.3](/\u00A7_Ref407044762) for more details.\nThis Service can only be invoked via SecureChannels that support Client authentication (i.e. HTTPS cannot be used to call this Service)."
    },
    {
      "Id": "66d68f32-c197-478d-8563-dbb15f5503cc",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6 RegisterServer2\n---\n",
      "Content": "5.5.6.2 Parameters"
    },
    {
      "Id": "f62c5915-4675-4809-a506-942fb101271a",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6.2 Parameters\n---\n",
      "Content": "[Table 8](/\u00A7_Ref407044784) defines the parameters for the Service.\nTable 8- RegisterServer2\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters.\nThe authenticationToken is always null.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000055).\nServer\nRegisteredServer\nThe Server to register. The type RegisteredServer is defined in[7.31](/\u00A7_Ref413265664).\ndiscoveryConfiguration []\nExtensibleParameter DiscoveryConfiguration\nAdditional configuration settings for the Server to register.\nThe discoveryConfiguration is an extensible parameter type defined in[7.13](/\u00A7_Ref413267662).\nDiscovery Servers that do not understand a configuration shall return Bad_NotSupported for this configuration.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters.\nThe type ResponseHeader is defined in[7.33](/\u00A7_Ref115239340).\nconfigurationResults []\nStatusCode\nList of results for the discoveryConfiguration parameters.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the discoveryConfiguration parameters. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "37d0e25d-329b-4399-947e-d8d2fe02b1fb",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6 RegisterServer2\n---\n",
      "Content": "5.5.6.3 Service results"
    },
    {
      "Id": "b52c798c-7be0-4b80-be20-ed6367a73333",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6.3 Service results\n---\n",
      "Content": "[Table 9](/\u00A7_Ref407044794) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 9- RegisterServer2 Service Result Codes\nSymbolic Id\nDescription\nBad_InvalidArgument\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ServerUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ServerNameMissing\nNo ServerName was specified.\nBad_DiscoveryUrlMissing\nNo discovery URL was specified.\nBad_SemaphoreFileMissing\nThe semaphore file specified is not valid.\nBad_ServiceUnsupported\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "7b113530-23ce-4241-ab15-8d626ae865ef",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6 RegisterServer2\n---\n",
      "Content": "5.5.6.4 StatusCodes"
    },
    {
      "Id": "f293059b-6104-41ac-9959-af5999430a7f",
      "Header": "Document: Part 4 - Services\nSection: 5.5.6.4 StatusCodes\n---\n",
      "Content": "[Table 10](/\u00A7_Ref469069600) defines values for the operation level configurationResults parameters that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 10- RegisterServer2 Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NotSupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "51fefc7e-db56-4881-a86a-ca9deabfb1a8",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.6 SecureChannel Service Set"
    },
    {
      "Id": "336fca23-c0ad-465a-a82f-e8b19608fd17",
      "Header": "Document: Part 4 - Services\nSection: 5.6 SecureChannel Service Set\n---\n",
      "Content": "5.6.1 Overview"
    },
    {
      "Id": "c1d05a15-d55f-4f54-9c83-a378c4e75ec9",
      "Header": "Document: Part 4 - Services\nSection: 5.6.1 Overview\n---\n",
      "Content": "This Service Set defines Services used to open a communication channel that ensures the Confidentiality and Integrity of all Messages exchanged with the Server. The base concepts for OPC UA security are defined in[OPC 10000-2](/\u00A7UAPart2).\nThe SecureChannel Services are unlike other Services because they are not implemented directly by the OPC UA Application. Instead, they are provided by the Communication Stack on which the OPC UA Application is built. For example, an OPC UA Server may be built on a stack that allows applications to establish a SecureChannel using HTTPS. In these cases, the OPC UA Application shall verify that the Message it received was in the context of an HTTPS connection.[OPC 10000-6](/\u00A7UAPart6) describes how the SecureChannel Services are implemented.\nA SecureChannel is a long-running logical connection between a single Client and a single Server. This channel maintains a set of keys known only to the Client and Server, which are used to sign and encrypt Messages sent across the network to ensure Confidentiality and Integrity. The SecureChannel Services allow the Client and Server to securely negotiate the keys to use.\nLogical connections may be initiated by the Client or by the Server as described in[OPC 10000-6](/\u00A7UAPart6). After the connection is initiated, the SecureChannel is opened and closed by the Client using the SecureChannel Services.\nAn EndpointDescription tells a Client how to establish a SecureChannel with a given Endpoint. A Client may obtain the EndpointDescription from a Discovery Server, via some non-UA defined directory server or from its own configuration.\nThe exact algorithms used to sign and encrypt Messages are described in the SecurityPolicy field of the EndpointDescription. A Client shall use these algorithms when it creates a SecureChannel."
    },
    {
      "Id": "16007856-48ea-480e-88a2-c48a9bb6d4e8",
      "Header": "Document: Part 4 - Services\nSection: 5.6.1 Overview\n---\n",
      "Content": "SecureChannel.\nIt should be noted that some SecurityPolicies defined in[OPC 10000-7](/\u00A7UAPart7) will turn off authentication and encryption resulting in a SecureChannel that provides no security.\nWhen a Client and Server are communicating via a SecureChannel, they shall verify that all incoming Messages have been signed and encrypted according to the requirements specified in the EndpointDescription. An OPC UA Application shall not process any Message that does not conform to these requirements.\nThe relationship between the SecureChannel and the OPC UA Application depends on the implementation technology.[OPC 10000-6](/\u00A7UAPart6) defines any requirements that depend on the technology used.\nThe correlation between the OPC UA Application Session and the SecureChannel is illustrated in[Figure 13](/\u00A7_Ref130140149). The Communication Stack is used by the OPC UA Applications to exchange Messages. In the first step, the SecureChannel Services are used to establish a SecureChannel between the two Communication Stacks which allows the secure exchange of Messages. In the second step, the OPC UA Applications use the Session Service Set to establish an OPC UA Application Session."
    },
    {
      "Id": "9617c89f-c92a-4dd1-94be-806a6832c7f1",
      "Header": "Document: Part 4 - Services\nSection: 5.6.1 Overview\nCaption: Figure 13 - SecureChannel and Session Services\n---\n",
      "Content": "[image016.png](images/image016.png)"
    },
    {
      "Id": "0137b151-0c36-4c64-bf9e-82f657346143",
      "Header": "Document: Part 4 - Services\nSection: 5.6.1 Overview\n---\n",
      "Content": "Figure 13 - SecureChannel and Session Services\nOnce a Client has established a Session it may wish to access the Session from a different SecureChannel. The Client can do this by validating the new SecureChannel with the ActivateSession Service described in[5.7.3](/\u00A7_Ref154395746).\nIf a Server acts as a Client to other Servers, which is commonly referred to as Server chaining, then the Server shall be able to maintain user level security. By this we mean that the user identity should be passed to the underlying Server or it should be mapped to an appropriate user identity in the underlying Server. It is unacceptable to ignore user level security. This is required to ensure that security is maintained and that a user does not obtain information that they should not have access to. Whenever possible a Server should impersonate the original Client by passing the original Client\u0027s user identity to the underlying Server when it calls the ActivateSession Service. If impersonation is not an option then the Server shall map the original Client\u0027s user identity onto a new user identity which the underlying Server does recognize."
    },
    {
      "Id": "3c98b402-504e-42d5-9409-baa7d8938dee",
      "Header": "Document: Part 4 - Services\nSection: 5.6 SecureChannel Service Set\n---\n",
      "Content": "5.6.2 OpenSecureChannel"
    },
    {
      "Id": "8b646805-82de-48cf-b8d9-c7c81c8a4c2b",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2 OpenSecureChannel\n---\n",
      "Content": "5.6.2.1 Description"
    },
    {
      "Id": "a9d26923-fc5f-42f8-9349-95d2b659f449",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.1 Description\n---\n",
      "Content": "This Service is used to open or renew a SecureChannel that can be used to ensure Confidentiality and Integrity for Message exchange during a Session. This Service requires the Communication Stack to apply the various security algorithms to the Messages as they are sent and received. Specific implementations of this Service for different Communication Stacks are described in[OPC 10000-6](/\u00A7UAPart6).\nEach SecureChannel has a globally-unique identifier and is valid for a specific combination of Client and Server application instances. Each channel contains one or more SecurityTokens that identify a set of cryptography keys that are used to encrypt and authenticate Messages. SecurityTokens also have globally-unique identifiers which are attached to each Message secured with the token. This allows an authorized receiver to know how to decrypt and verify the Message.\nSecurityTokens have a finite lifetime negotiated with this Service. However, differences between the system clocks on different machines and network latencies mean that valid Messages could arrive after the token has expired. To prevent valid Messages from being discarded, the applications should do the following:\nClients should request a new SecurityToken after 75 % of its lifetime has elapsed. This should ensure that Clients will receive the new SecurityToken before the old one actually expires.\nServers shall use the existing SecurityToken to secure outgoing Messages until the SecurityToken expires or the Server receives a Message secured with a new SecurityToken. This should ensure that Clients do not reject Messages secured with the new SecurityToken that arrive before the Client receives the new SecurityToken.\nClients should accept Messages secured by an expired SecurityToken for up to 25 % of the token lifetime. This should ensure that Messages sent by the Server before the token expired are not rejected because of network delays.\nEach SecureChannel exists until it is explicitly closed or until the last token has expired and the overlap period has elapsed. A"
    },
    {
      "Id": "e6e0ad16-5e6c-43b8-9281-420a3337e0d3",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.1 Description\n---\n",
      "Content": "Server application should limit the number of SecureChannels. To protect against misbehaving Clients and denial of service attacks, the Server shall close the oldest unused SecureChannel that has no Session assigned before reaching the maximum number of supported SecureChannels. When Session-less Service invocation is done through a transport mapping that requires the OpenSecureChannel Service, the Server shall maintain a last used time for the SecureChannel to detect the oldest unused SecureChannel.\nThe OpenSecureChannel request and response Messages shall be signed with the sender\u0027s private key. These Messages shall always be encrypted. If the transport layer does not provide encryption, then these Messages shall be encrypted with the receiver\u0027s public key. These requirements for OpenSecureChannel only apply if the securityPolicyUri is not None.\nIf the protocol defined in[OPC 10000-6](/\u00A7UAPart6) requires that ApplicationInstanceCertificates are used in the OpenSecureChannel Service, then Clients and Servers shall verify that the same Certificates are used in the CreateSession and ActivateSession Services. Certificates are not provided and shall not be verified if the securityPolicyUri is None.\nIf the securityPolicyUri is not None, a Client shall verify the HostName specified in the Server Certificate is the same as the HostName contained in the endpointUrl. If there is a difference then the Client shall report the difference and may choose to not open the SecureChannel. Servers shall add all possible HostNames like MyHost and MyHost.mycompany.com into the Server Certificate. This includes IP addresses of the host or the HostName exposed by a NAT router used to connect to the Server. Servers shall not append the \u0027local\u0027 top level domain to any domains declared in their Certificate; an unqualified domain name is used if a more appropriate qualifier does not exist. Clients"
    },
    {
      "Id": "6e41ddea-ac75-420f-9c3c-11fbf5b2bee1",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.1 Description\n---\n",
      "Content": "Clients using a URL returned from an LDS-ME shall remove the \u0027local\u0027 top level domain when checking the domain against the Server Certificate.\nClients should be prepared to replace the HostName and port returned in the EndpointDescription with the HostName or the IP addresses and the port they used to call GetEndpoints. The Client shall still execute the HostName verification comparing the HostName used by the Client to create the SecureChannel with the HostName list in the Server Certificate. See[Table 100](/\u00A7_Ref181603918) for more details."
    },
    {
      "Id": "4c26c2e9-651b-432a-97c3-34f296be53f3",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2 OpenSecureChannel\n---\n",
      "Content": "5.6.2.2 Parameters"
    },
    {
      "Id": "bfc097cf-2c7b-4e7d-a7ab-1d9f36b0e454",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.2 Parameters\n---\n",
      "Content": "[Table 11](/\u00A7_Ref157834565) defines the parameters for the Service.\nUnlike other Services, the parameters for this Service provide only an abstract definition. The concrete representation on the network depends on the mappings defined in[OPC 10000-6](/\u00A7UAPart6).\nTable 11- OpenSecureChannel Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The authenticationToken is always null.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000063).\nclientCertificate\nApplicationInstance Certificate\nA Certificate that identifies the Client.\nThe OpenSecureChannel request shall be signed with the private key for this Certificate.\nThe ApplicationInstanceCertificate type is defined in[7.3](/\u00A7_Ref182127421).\nIf the securityPolicyUri is None, the Server shall ignore the ApplicationInstanceCertificate.\nrequestType\nEnum\nSecurityToken RequestType\nThe type of SecurityToken request:\nAn enumeration that shall be one of the following:\nISSUE creates a new SecurityToken for a new SecureChannel.\nRENEW creates a new SecurityToken for an existing SecureChannel.\nsecureChannelId\nBaseDataType\nThe identifier for the SecureChannel that the new token should belong to. This parameter shall be null when creating a new SecureChannel.\nThe concrete security protocol definition in[OPC 10000-6](/\u00A7UAPart6) chooses the concrete DataType.\nsecurityMode\nEnum\nMessageSecurityMode\nThe type of security to apply to the messages.\nThe type MessageSecurityMode type is defined in[7.20](/\u00A7_Ref153806472).\nA SecureChannel may need to be created even if the securityMode is NONE"
    },
    {
      "Id": "f2b1b98e-6fb6-4db8-ac9c-9c1fbab915ac",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.2 Parameters\n---\n",
      "Content": "securityMode is NONE. The exact behaviour depends on the mapping used and is described in the[OPC 10000-6](/\u00A7UAPart6).\nsecurityPolicyUri\nString\nThe URI for SecurityPolicy to use when securing messages sent over the SecureChannel.\nThe set of known URIs and the S ecurityPolicies associated with them are defined in[OPC 10000-7](/\u00A7UAPart7).\nclientNonce\nByteString\nA random number that shall not be used in any other request. A new clientNonce shall be generated for each time a SecureChannel is renewed.\nThis parameter shall have a length equal to the SecureChannelNonceLength defined for the SecurityPolicy in[OPC 10000-7](/\u00A7UAPart7). The SecurityPolicy is identified by the securityPolicyUri.\nrequestedLifetime\nDuration\nThe requested lifetime, in milliseconds, for the new SecurityToken. It specifies when the Client expects to renew the SecureChannel by calling the OpenSecureChannel Service again. If a SecureChannel is not renewed, then all Messages sent using the current SecurityTokens shall be rejected by the receiver.\nSeveral cryptanalytic attacks become easier as more material encrypted with a specific key is available. By limiting the amount of data processed using a particular key, those attacks are made more difficult. Therefore the volume of data exchanged between Client and Server shall be limited by establishing a new SecurityToken after the lifetime.\nThe setting of the requested lifetime depends on the expected number of exchanged messages and their size in the lifetime. A higher volume of data requires shorter lifetime.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader type definition).\nsecurityToken\nChannelSecurityToken"
    },
    {
      "Id": "6d7fb9f9-2916-45fe-89bb-0603bf803f45",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.2 Parameters\n---\n",
      "Content": "ChannelSecurityToken\nDescribes the new SecurityToken issued by the Server. This structure is defined in-line with the following indented items.\nchannelId\nBaseDataType\nA unique identifier for the SecureChannel. This is the identifier that shall be supplied whenever the SecureChannel is renewed.\nThe concrete security protocol definition in[OPC 10000-6](/\u00A7UAPart6) chooses the concrete DataType.\ntokenId\nByteString\nA unique identifier for a single SecurityToken within the channel. This is the identifier that shall be passed with each Message secured with the SecurityToken.\ncreatedAt\nUtcTime\nThe time when the SecurityToken was created.\nrevisedLifetime\nDuration\nThe lifetime of the SecurityToken in milliseconds. The UTC expiration time for the token may be calculated by adding the lifetime to the createdAt time.\nThe revised lifetime shall be used by the Client to renew a SecureChannel before it expires even if the MessageSecurityMode is NONE.\nThe Server shall provide a lifetime greater than 0. It should be a sensible value based on the capabilities and configuration of the Server.\nserverNonce\nByteString\nA random number that shall not be used in any other request. A new serverNonce shall be generated for each time a SecureChannel is renewed.\nThis parameter shall have a length equal to the SecureChannelNonceLength defined for the SecurityPolicy in[OPC 10000-7](/\u00A7UAPart7). The SecurityPolicy is identified by the securityPolicyUri."
    },
    {
      "Id": "20d4969f-bd1b-45e9-bf86-ae47f1e86655",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2 OpenSecureChannel\n---\n",
      "Content": "5.6.2.3 Service results"
    },
    {
      "Id": "d5ff187f-6b18-4040-ac52-df8d45889d32",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.3 Service results\n---\n",
      "Content": "[Table 12](/\u00A7_Ref130141799) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 12- OpenSecureChannel Service Result Codes\nSymbolic Id\nDescription\nBad_SecurityChecksFailed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateTimeInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerTimeInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateHostNameInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUseNotAllowed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerUseNotAllowed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUntrusted\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateRevocationUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerRevocationUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateRevoked\nSee[Table 176](/\u00A7_Ref90539276)"
    },
    {
      "Id": "eab08c9e-58f2-4097-b150-a7650fa6b93e",
      "Header": "Document: Part 4 - Services\nSection: 5.6.2.3 Service results\n---\n",
      "Content": "for the description of this result code.\nBad_CertificateIssuerRevoked\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_RequestTypeInvalid\nThe SecurityToken request type is not valid.\nBad_SecurityModeRejected\nThe security mode does not meet the requirements set by the server.\nBad_SecurityPolicyRejected\nThe security policy does not meet the requirements set by the Server.\nBad_SecureChannelIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NonceInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nA Server shall check the minimum length of the Client nonce and return this status if the length is below 32 bytes. A check for duplicated nonce can only be done in OpenSecureChannel calls with the request type RENEW."
    },
    {
      "Id": "49270efc-e6a6-47c9-b8ed-7ebcdffd989a",
      "Header": "Document: Part 4 - Services\nSection: 5.6 SecureChannel Service Set\n---\n",
      "Content": "5.6.3 CloseSecureChannel"
    },
    {
      "Id": "7836f2ed-9151-45ab-9a8e-48e036a0322b",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3 CloseSecureChannel\n---\n",
      "Content": "5.6.3.1 Description"
    },
    {
      "Id": "87e4ccc6-289d-443b-ab66-907d41ce2ed4",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3.1 Description\n---\n",
      "Content": "This Service is used to terminate a SecureChannel.\nThe request Messages shall be signed with the appropriate key associated with the current token for the SecureChannel."
    },
    {
      "Id": "288f689b-22a7-4233-8aa3-ae00e792c25c",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3 CloseSecureChannel\n---\n",
      "Content": "5.6.3.2 Parameters"
    },
    {
      "Id": "8f2ae353-9820-466a-b850-fa4cc0ba1be9",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3.2 Parameters\n---\n",
      "Content": "[Table 13](/\u00A7_Ref130141878) defines the parameters for the Service.\nSpecific protocol mappings defined in[OPC 10000-6](/\u00A7UAPart6) may choose to omit the response.\nTable 13- CloseSecureChannel Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The authenticationToken is always null.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000063).\nsecureChannelId\nBaseDataType\nThe identifier for the SecureChannel to close.\nThe concrete security protocol definition in[OPC 10000-6](/\u00A7UAPart6) chooses the concrete DataType.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition)."
    },
    {
      "Id": "bf6d0230-a361-4280-bb8e-0452480b5926",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3 CloseSecureChannel\n---\n",
      "Content": "5.6.3.3 Service results"
    },
    {
      "Id": "9518ae9c-5d0c-4084-9154-29dcd5b3edbb",
      "Header": "Document: Part 4 - Services\nSection: 5.6.3.3 Service results\n---\n",
      "Content": "[Table 14](/\u00A7_Ref130141783) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 14- CloseSecureChannel Service Result Codes\nSymbolic Id\nDescription\nBad_SecureChannelIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "828a5375-4706-4e8b-9c91-f7dd13abf3b7",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.7 Session Service Set"
    },
    {
      "Id": "87e5b273-fbcc-457a-a526-5f285d373cb8",
      "Header": "Document: Part 4 - Services\nSection: 5.7 Session Service Set\n---\n",
      "Content": "5.7.1 Overview"
    },
    {
      "Id": "7a9afbf4-5273-4bc0-9c0b-5d337247cea2",
      "Header": "Document: Part 4 - Services\nSection: 5.7.1 Overview\n---\n",
      "Content": "This Service Set defines Services for an application layer connection establishment in the context of a Session."
    },
    {
      "Id": "84ecd538-c34a-43a9-aa7a-cca7214bf1b4",
      "Header": "Document: Part 4 - Services\nSection: 5.7 Session Service Set\n---\n",
      "Content": "5.7.2 CreateSession"
    },
    {
      "Id": "3475171c-e6e7-40e4-b4d5-00e61b0a78bc",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2 CreateSession\n---\n",
      "Content": "5.7.2.1 Description"
    },
    {
      "Id": "5a8f5aa2-4f5d-43f8-aea7-2ae33df9a054",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\n---\n",
      "Content": "This Service is used by an OPC UA Client to create a Session and the Server returns two values which uniquely identify the Session. The first value is the sessionId which is used to identify the Session in the audit logs and in the Server\u0027s AddressSpace. The second is the authenticationToken which is used to associate an incoming request with a Session.\nBefore calling this Service, the Client shall create a SecureChannel with the OpenSecureChannel Service to ensure the Integrity of all Messages exchanged during a Session. This SecureChannel has a unique identifier which the Server shall associate with the a uthenticationToken. The Server may accept requests with the a uthenticationToken only if they are associated with the same SecureChannel that was used to create the Session. The Client may associate a new SecureChannel with the Session by calling ActivateSession. For the N Sessions supported by a Server, the Server shall support N\u002B1 SecureChannels. A Server may support multiple Sessions for one SecureChannel.\nThe SecureChannel is always managed by the Communication Stack which means it shall provide APIs which the Server can use to find out information about the SecureChannel used for any given request. The Communication Stack shall, at a minimum, provide the SecurityPolicy and SecurityMode used by the SecureChannel. It shall also provide a SecureChannelId which uniquely identifies the SecureChannel or the Client Certificate used to establish the SecureChannel. The Server uses one of these to identify the SecureChannel used to send a request. Clause[7.35](/\u00A7_Ref183363986) describes how to create the a uthenticationToken for different types of Communication Stack.\nDepending upon on the SecurityPolicy and the SecurityMode of the SecureChannel, the exchange of ApplicationInstanceCertificates and Nonces may be optional and the signatures may be empty. See[OPC 10000-7](/\u00A7UAPart7)"
    },
    {
      "Id": "43246fa7-bcf9-45d8-9b69-fd3e0bee078d",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\n---\n",
      "Content": "for the definition of SecurityPolicies and the handling of these parameters.\nThe Server returns its EndpointDescriptions in the response. Clients use this information to determine whether the list of EndpointDescriptions returned from the DiscoveryEndpoint matches the Endpoints that the Server has. If there is a difference then the Client shall close the Session and report an error. The Server returns all EndpointDescriptions for the serverUri specified by the Client in the request. The Client only verifies EndpointDescriptions with a transportProfileUri that matches the profileUri specified in the original GetEndpoints request. A Client may skip this check if the EndpointDescriptions were provided by a trusted source such as the Administrator.\nThe Client shall check that the ApplicationUri specified in the Server Certificate matches the ApplicationUri provided in the EndpointDescription returned by the CreateSession response. If it does not match, the Client shall close the Session.\nThe Server shall check that the ApplicationUri specified in the clientDescription matches the Client Certificate. If it does not match, CreateSession shall return Bad_CertificateUriInvalid.\nThe Session created with this Service shall not be used until the Client calls the ActivateSession Service and proves possession of its ApplicationInstanceCertificate and any user identity token that it provided.\nA Server application should limit the number of Sessions. To protect against misbehaving Clients and denial of service attacks, the Server shall close the oldest Session that is not activated before reaching the maximum number of supported Sessions.\nThe SoftwareCertificates parameter in the Server response is deprecated to reduce the message size for OPC UA Applications with limited resources. The SoftwareCertificates are provided in the Server\u0027s AddressSpace as defined in[OPC 10000-5](/\u00A7UAPart5). A SoftwareCertificate identifies the capabilities of the Server and also contains the list of OPC UA Profiles supported by the Server. OPC UA Profiles are defined in"
    },
    {
      "Id": "845a7836-8f76-4623-be21-cc341ba9a077",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\n---\n",
      "Content": "Profiles are defined in[OPC 10000-7](/\u00A7UAPart7).\nAdditional Certificates issued by other organizations may be included to identify additional Server capabilities. Examples of these Profiles include support for specific information models and support for access to specific types of devices.\nWhen a Session is created, the Server adds an entry for the Client in its SessionDiagnosticsArray Variable. See[OPC 10000-5](/\u00A7UAPart5) for a description of this Variable.\nSessions are created to be independent of the underlying communications connection. Therefore, if a communications connection fails, the Session is not immediately affected. When the communication connection fails, the Client should try to create a new communication connection and call ActivateSession again. See[6.7](/\u00A7_Ref65519698) for more details.\nSessions are terminated by the Server automatically if the Client fails to issue a Service request on the Session within the timeout period negotiated by the Server in the CreateSession Service response. This protects the Server against Client failures and against situations where a failed underlying connection cannot be re-established. Clients shall be prepared to submit requests in a timely manner to prevent the Session from closing automatically. Clients may explicitly terminate Sessions using the CloseSession Service.\nWhen a Session is terminated, all outstanding requests on the Session are aborted and Bad_SessionClosed StatusCodes are returned to the Client. In addition, the Server deletes the entry for the Client from its SessionDiagnosticsArray Variable and notifies any other Clients who were subscribed to this entry.\nIf a Client invokes the CloseSession Service then all Subscriptions associated with the Session are also deleted if the deleteSubscriptions flag is set to TRUE. If a Server terminates a Session for any other reason, Subscriptions associated with the Session, are not deleted. Each Subscription"
    },
    {
      "Id": "40267ef8-d386-4b72-9d72-7b01b9230486",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\n---\n",
      "Content": "Subscription has its own lifetime to protect against data loss in the case of a Session termination. In these cases, the Subscription can be reassigned to another Client before its lifetime expires.\nSome Servers, such as aggregating Servers, also act as Clients to other Servers. These Servers typically support more than one system user, acting as their agent to the Servers that they represent. Security for these Servers is supported at two levels.\nFirst, each OPC UA Service request contains a string parameter that is used to carry an audit record id. A Client, or any Server operating as a Client, such as an aggregating Server, can create a local audit log entry for a request that it submits. This parameter allows the Client to pass the identifier for this entry with the request. If the Server also maintains an audit log, then it can include this id in the audit log entry that it writes. When the log is examined and the entry is found, the examiner will be able to relate it directly to the audit log entry created by the Client. This capability allows for traceability across audit logs within a system. See[OPC 10000-2](/\u00A7UAPart2) for additional information on auditing. A Server that maintains an audit log shall provide the information in the audit log entries via event Messages defined in this document. The Server may choose to only provide the Audit information via event Messages. The Audit EventType is defined in[OPC 10000-3](/\u00A7UAPart3).\nSecond, these aggregating Servers may open independent Sessions to the underlying Servers for each Client that accesses data from them.[Figure 14](/\u00A7_Ref102967761) illustrates this concept."
    },
    {
      "Id": "60e31697-167d-4269-9e3e-4d1ccfefeea9",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\nCaption: Figure 14 - Multiplexing users on a Session\n---\n",
      "Content": "[image017.png](images/image017.png)"
    },
    {
      "Id": "7bfca120-6af2-4161-b93e-4e4dce3b0be9",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.1 Description\n---\n",
      "Content": "Figure 14 - Multiplexing users on a Session"
    },
    {
      "Id": "50034788-1c8c-4b56-894a-4f28a3c11d8d",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2 CreateSession\n---\n",
      "Content": "5.7.2.2 Parameters"
    },
    {
      "Id": "ce4b3c53-a3b3-49b1-85bb-dfe8c74ccb5a",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.2 Parameters\n---\n",
      "Content": "[Table 15](/\u00A7_Ref74381726) defines the parameters for the Service.\nTable 15- CreateSession Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The authenticationToken is always null.\nThe type RequestHeader is defined in[7.32](/\u00A7_Ref129000063).\nclientDescription\nApplication Description\nInformation that describes the Client application.\nThe type ApplicationDescription is defined in[7.2](/\u00A7_Ref153821547).\nserverUri\nString\nThis value is only specified if the EndpointDescription has a gatewayServerUri.\nThis value is the applicationUri from the EndpointDescription which is the applicationUri for the underlying Server. The type EndpointDescription is defined in[7.14](/\u00A7_Ref171928664).\nendpointUrl\nString\nThe network address that the Client used to access the Session Endpoint.\nThe Server uses this information for diagnostics and to determine what URLs to return in the response.\nThe Server should return a suitable default URL if it does not recognize the HostName in the URL\nsessionName\nString\nHuman readable string that identifies the Session. The Server makes this name and the sessionId visible in its AddressSpace for diagnostic purposes. The Client should provide a name that is unique for the instance of the Client.\nIf this parameter is null or empty the Server shall assign a value.\nclientNonce\nByteString\nA random number that should never be used in any other request. This number shall have a length between 32 and 128 bytes inclusive. The Server shall check the length.\nThe Server shall use this value to prove possession of its ApplicationInstanceCertificate in the response.\nclientCertificate\nApplicationInstance\nCertificate\nThe ApplicationInstanceCertificate issued to the Client.\nThe"
    },
    {
      "Id": "0e898efd-06cc-45aa-8aae-3c3487645b21",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.2 Parameters\n---\n",
      "Content": "Client.\nThe ApplicationInstanceCertificate type is defined in[7.3](/\u00A7_Ref182127421).\nIf the securityPolicyUri is None, the Server shall ignore the ApplicationInstanceCertificate.\nIf the SecurityMode is not None, a Client shall prove possession by using the private key to create a Signature using the Nonce provided by the Server in the response.\nIf the SecurityMode is not None, the Server shall verify that this ApplicationInstanceCertificate is the same as the one it used to create the SecureChannel.\nRequested\nSessionTimeout\nDuration\nRequested maximum number of milliseconds that a Session should remain open without activity. If the Client fails to issue a Service request within this interval, then the Server shall automatically terminate the Client Session.\nmaxResponse\nMessageSize\nUInt32\nThe maximum size, in bytes, for the body of any response message.\nThe Server should return a Bad_ResponseTooLarge service fault if a response message exceeds this limit.\nThe value zero indicates that this parameter is not used.\nThe transport protocols defined in[OPC 10000-6](/\u00A7UAPart6) may imply minimum message sizes.\nMore information on the use of this parameter is provided in[5.3](/\u00A7_Ref187648629).\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader type).\nsessionId\nNodeId\nA unique NodeId assigned by the Server to the Session. This identifier is used to access the diagnostics information for the Session in the Server AddressSpace. It is also used in the audit logs and any events that report information related to the Session. The Session diagnostic information is described in[OPC 10000-5](/\u00A7UAPart5)"
    },
    {
      "Id": "ee2c755f-0c74-4aa0-b2c1-faa69e9c1036",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.2 Parameters\n---\n",
      "Content": ". Audit logs and their related events are described in[6.5](/\u00A7_Ref468992909).\nauthentication\nToken\nSession\nAuthenticationToken\nA unique identifier assigned by the Server to the Session. This identifier shall be passed in the RequestHeader of each request and is used with the SecureChannelId to determine whether a Client has access to the Session. This identifier shall not be reused in a way that the Client or the Server has a chance of confusing them with a previous or existing Session.\nThe SessionAuthenticationToken type is described in[7.35](/\u00A7_Ref183363986).\nrevisedSession Timeout\nDuration\nActual maximum number of milliseconds that a Session shall remain open without activity. The Server should attempt to honour the Client request for this parameter, but may negotiate this value up or down to meet its own constraints.\nThe Server shall provide a timeout greater than 0. It should be a sensible value based on the capabilities and configuration of the Server.\nserverNonce\nByteString\nA random number that should never be used in any other request.\nThis number shall have a length between 32 and 128 bytes inclusive. The Client shall check the length.\nThe Client shall use this value to prove possession of its ApplicationInstanceCertificate in the ActivateSession request.\nThis value may also be used to prove possession of the userIdentityToken it specified in the ActivateSession request.\nserverCertificate\nApplicationInstance\nCertificate\nThe ApplicationInstanceCertificate issued to the Server.\nA Server shall prove possession by using the private key to sign the Nonce provided by the Client in the request. For SecureChannels that use the ApplicationInstanceCertificate the Client shall verify that this Certificate is the same as the one it used to create the SecureChannel.\nThe ApplicationInstanceCertificate type is defined in"
    },
    {
      "Id": "940fdaae-f6cf-4998-9a46-6671f1418304",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.2 Parameters\n---\n",
      "Content": "type is defined in[7.3](/\u00A7_Ref182127421).\nIf the securityPolicyUri is None and none of the UserTokenPolicies requires encryption, the Client shall ignore the ApplicationInstanceCertificate.\nserverEndpoints []\nEndpointDescription\nList of Endpoints that the Server supports.\nThe Server shall return a set of EndpointDescriptions available for the serverUri specified in the request. All Endpoints are returned if the serverUri is null or empty. The EndpointDescription type is defined in[7.14](/\u00A7_Ref171928664). If the Client used a DiscoveryEndpoint to select the security options from the available EndpointDescriptions, the Client shall verify this list with the list from a DiscoveryEndpoint. If the Client has the security options configured for the connection to the Server, it uses this configuration and ignores the list.\nA Client shall compare only the EndpointDescriptions that match the transportProfileUri of the current SecureChannel. It is recommended that Servers only include the server. applicationUri, endpointUrl, securityMode, securityPolicyUri, userIdentityTokens, transportProfileUri and securityLevel with all other parameters set to null or empty. Only the recommended parameters shall be verified by the Client.\nserverSoftware\nCertificates []\nSignedSoftware Certificate\nThis parameter is no longer used and the array shall be empty.\nThe SoftwareCertificates are provided in the Server AddressSpace as defined in[OPC 10000-5](/\u00A7UAPart5).\nserverSignature\nSignatureData\nThis is a signature generated with the private key associated with the serverCertificate. This parameter is calculated by appending the clientNonce to the clientCertificate and signing the resulting sequence of bytes.\nIf the clientCertificate contains a chain, the signature calculation shall be done only with the leaf Certificate. For backward compatibility a Client"
    },
    {
      "Id": "e7bf5206-0fef-4432-a84a-6b2000b373eb",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.2 Parameters\n---\n",
      "Content": "Client shall check the signature with the full chain if the check with the leaf Certificate fails.\nThe SignatureAlgorithm shall be the AsymmetricSignatureAlgorithm specified in the SecurityPolicy for the Endpoint.\nThe SignatureData type is defined in[7.36](/\u00A7_Ref153782728).\nThe clientCertificate shall be validated according to the rules in[6.1.3](/\u00A7_Ref169270721) even if the Server chooses to allow connections from untrusted Clients. This validation may have occurred when the SecureChannel was established and does not need to be repeated.\nThe Signature is not generated if the SecurityMode is None.\nmaxRequest\nMessageSize\nUInt32\nThe maximum size, in bytes, for the body of any request message.\nThe Client Communication Stack should return a Bad_RequestTooLarge error to the application if a request message exceeds this limit.\nThe value zero indicates that this parameter is not used.\nSee[OPC 10000-6](/\u00A7UAPart6) for protocol specific minimum or default values.\n[5.3](/\u00A7_Ref187648629) provides more information on the use of this parameter."
    },
    {
      "Id": "5dc84611-25d8-4160-823f-159c5708ff98",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2 CreateSession\n---\n",
      "Content": "5.7.2.3 Service results"
    },
    {
      "Id": "9d83d82b-f601-4053-91a1-94f8190832d4",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.3 Service results\n---\n",
      "Content": "[Table 16](/\u00A7_Ref89580600) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 16- CreateSession Service Result Codes\nSymbolic Id\nDescription\nBad_SecureChannelIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NonceInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nA Server shall check the length of the Client nonce and return this status if the length is less than 32 bytes or greater than 128 bytes. A check for a duplicated nonce is optional and requires access to the nonce used to create the secure channel.\nBad_SecurityChecksFailed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateTimeInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerTimeInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateHostNameInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUseNotAllowed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerUseNotAllowed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateUntrusted"
    },
    {
      "Id": "adf846f8-088b-4c91-9435-8df8b8ccbe6d",
      "Header": "Document: Part 4 - Services\nSection: 5.7.2.3 Service results\n---\n",
      "Content": "Bad_CertificateUntrusted\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateRevocationUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerRevocationUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateRevoked\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_CertificateIssuerRevoked\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManySessions\nThe Server has reached its maximum number of Sessions.\nBad_ServerUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SecurityPolicyRejected\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "dc3b0041-2d45-413f-856e-96f47cea08a9",
      "Header": "Document: Part 4 - Services\nSection: 5.7 Session Service Set\n---\n",
      "Content": "5.7.3 ActivateSession"
    },
    {
      "Id": "6506787f-6189-4adc-ac38-8cf395604585",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3 ActivateSession\n---\n",
      "Content": "5.7.3.1 Description"
    },
    {
      "Id": "a4d14b19-2839-4df7-964a-28409ba36580",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.1 Description\n---\n",
      "Content": "This Service is used by the Client to specify the identity of the user associated with the Session. This Service request shall be issued by the Client before it issues any Service request other than CloseSession after CreateSession. Failure to do so shall cause the Server to close the Session.\nWhenever the Client calls this Service the Client shall prove that it is the same application that called the CreateSession Service. The Client does this by creating a signature with the private key associated with the clientCertificate specified in the CreateSession request. This signature is created by appending the last serverNonce provided by the Server to the serverCertificate and calculating the signature of the resulting sequence of bytes.\nOnce used, a serverNonce cannot be used again. For that reason, the Server returns a new serverNonce each time the ActivateSession Service is called.\nWhen the ActivateSession Service is called for the first time then the Server shall reject the request if the SecureChannel is not same as the one associated with the CreateSession request. Subsequent calls to ActivateSession may be associated with different SecureChannels. If this is the case then the Server shall verify that the Certificate the Client used to create the new SecureChannel is the same as the Certificate used to create the original SecureChannel. In addition, the Server shall verify that the Client supplied a UserIdentityToken that contains the same ClientUserId as the token currently associated with the Session. Once the Server accepts the new SecureChannel it shall reject requests sent via the old SecureChannel.\nThe ActivateSession Service is used to associate a user identity with a Session. When a Client provides a user identity then it shall provide proof that it is authorized to use that user identity. The exact mechanism used to provide this proof depends on the type of the UserIdentityToken. If the token is a UserNameIdentityToken then the proof is the password"
    },
    {
      "Id": "23d29c56-36ae-4127-bcb6-18953532964f",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.1 Description\n---\n",
      "Content": "password that is included in the token. If the token is an X509IdentityToken then the proof is a signature generated with private key associated with the Certificate. The data to sign is created by appending the last serverNonce to the serverCertificate specified in the CreateSession response. If a token includes a secret then it should be encrypted using the public key from the serverCertificate.\nServers shall take proper measures to protect against attacks on user identity tokens. Such an attack is assumed if repeated connection attempts with invalid user identity tokens happen. One option is to lock out an OPC UA Client for a period of time if the user identity token validation fails several times. The OPC UA Client is either detected by IP address for unsecured connections or by the ApplicationUri for secured connections. Another option is delaying the Service response when the validation of a user identity fails. This delay time could be increased with repeated failures. Sporadic failures shall not delay connections with valid tokens.\nClients can change the identity of a user associated with a Session by calling the ActivateSession Service. The Server validates the signatures provided with the request and then validates the new user identity. If no errors occur the Server replaces the user identity for the Session. Changing the user identity for a Session may cause discontinuities in active Subscriptions because the Server may need to tear down connections to an underlying system and re-establish them using the new credentials. A Server shall re-evaluate the permissions of all MonitoredItems in Subscriptions assigned to the Session after a user identity change.\nWhen a Client supplies a list of locale ids in the request, each locale id is required to contain the language component. It may optionally contain the \u003Ccountry/region\u003E component. When the Server returns a LocalizedText in the context of the Session"
    },
    {
      "Id": "2ee41b02-2a72-43e5-9947-e007cf2bbc8a",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.1 Description\n---\n",
      "Content": "Session, it also may return both the language and the country/region or just the language as its default locale id.\nWhen a Server returns a string to the Client, it first determines if there are available translations for it. If there are, then the Server returns the string whose locale id exactly matches the locale id with the highest priority in the Client-supplied list.\nIf there are no exact matches, then the Server ignores the \u003Ccountry/region\u003E component of the locale id, and returns the string whose \u003Clanguage\u003E component matches the \u003Clanguage\u003E component of the locale id with the highest priority in the Client supplied list.\nIf there still are no matches, then the Server returns the string that it has along with the locale id.\nA Gateway Server is expected to impersonate the user provided by the Client when it connects to the underlying Server. This means it shall re-calculate the signatures on the UserIdentityToken using the nonce provided by the underlying Server. The Gateway Server shall use its own user credentials if the UserIdentityToken provided by the Client does not support impersonation."
    },
    {
      "Id": "0af5ccbf-eab1-472d-bb1c-07938e06ef6c",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3 ActivateSession\n---\n",
      "Content": "5.7.3.2 Parameters"
    },
    {
      "Id": "e6b5bc46-45bc-40be-b2d4-2a812bbdd41d",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.2 Parameters\n---\n",
      "Content": "[Table 17](/\u00A7_Ref109722150) defines the parameters for the Service.\nTable 17- ActivateSession Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters. The type RequestHeader is defined in[7.32](/\u00A7_Ref129000063).\nclientSignature\nSignatureData\nThis is a signature generated with the private key associated with the clientCertificate. This parameter is calculated by appending the serverNonce to the serverCertificate and signing the resulting sequence of bytes.\nIf the serverCertificate contains a chain, the signature calculation shall be done only with the leaf Certificate. For backward compatibility a Server shall check the signature with the full chain if the check with the leaf Certificate fails.\nThe SignatureAlgorithm shall be the AsymmetricSignatureAlgorithm specified in the SecurityPolicy for the Endpoint.\nThe SignatureData type is defined in[7.36](/\u00A7_Ref153782728).\nclientSoftwareCertificates []\nSignedSoftware Certificate\nReserved for future use.\nThe SignedSoftwareCertificate type is defined in[7.37](/\u00A7_Ref180486734).\nlocaleIds []\nLocaleId\nList of locale ids to use. See locale negotiation in[5.4](/\u00A7_Ref161623610) which applies to this Service.\nThis parameter only needs to be specified during the first call to ActivateSession during a single application Session. If it is null or empty the Server shall keep using the current localeIds for the Session.\nuserIdentityToken\nExtensible Parameter\nUserIdentityToken\nThe credentials of the user associated with the Client application. The Server uses these credentials to determine whether the Client should be allowed to activate a Session and what resources the Client has access to during this Session.\nThe UserIdentityToken"
    },
    {
      "Id": "baf644e6-169c-460f-a7a2-4ed78f2d7048",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.2 Parameters\n---\n",
      "Content": "The UserIdentityToken is an extensible parameter type defined in[7.40](/\u00A7_Ref128235836).\nThe EndpointDescription specifies what UserIdentityTokens the Server shall accept.\nNull or empty user token shall always be interpreted as anonymous.\nuserTokenSignature\nSignatureData\nIf the Client specified a user identity token that supports digital signatures, then it shall create a signature and pass it as this parameter. Otherwise the parameter is null or empty.\nThe SignatureAlgorithm depends on the identity token type.\nThe SignatureData type is defined in[7.36](/\u00A7_Ref153782728).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nserverNonce\nByteString\nA random number that should never be used in any other request.\nThis number shall have a length between 32 and 128 bytes inclusive. The Client shall check the length.\nThe Client shall use this value to prove possession of its ApplicationInstanceCertificate in the next call to ActivateSession request.\nresults []\nStatusCode\nList of validation results for the SoftwareCertificates(see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information associated with SoftwareCertificate validation errors (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "df809182-c178-4b9c-b605-f8d038dd7335",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3 ActivateSession\n---\n",
      "Content": "5.7.3.3 Service results"
    },
    {
      "Id": "024fb468-b7ff-4bd8-bb3e-46d8d1d9fc6b",
      "Header": "Document: Part 4 - Services\nSection: 5.7.3.3 Service results\n---\n",
      "Content": "[Table 18](/\u00A7_Ref109722179) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 18- ActivateSession Service Result Codes\nSymbolic Id\nDescription\nBad_IdentityTokenInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_IdentityTokenRejected\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ApplicationSignatureInvalid\nThe signature provided by the Client application is missing or invalid.\nBad_UserSignatureInvalid\nThe user token signature is missing or invalid.\nBad_NoValidCertificates\nThe Client did not provide at least one Software Certificate that is valid and meets the profile requirements for the Server.\nBad_IdentityChangeNotSupported\nThe Server does not support changing the user identity assigned to the session.\nBad_SecurityPolicyRejected\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nGood_PasswordChangeRequired\nThe log-on for the user succeeded but the user is required to change the password.\nThe activated Session has limited rights and is mainly available to change the password.\nThe detailed definitions for UserManagement, restrictions for Sessions and the Method ChangePassword used to set a new password are defined in[OPC 10000-18](/\u00A7UAPart18). This result code is only used by Servers that support the Method ChangePassword."
    },
    {
      "Id": "593f7599-5f7c-4589-a503-32c0c5567f1e",
      "Header": "Document: Part 4 - Services\nSection: 5.7 Session Service Set\n---\n",
      "Content": "5.7.4 CloseSession"
    },
    {
      "Id": "94000b2f-9f4e-41a3-8b1b-be594a6201f5",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4 CloseSession\n---\n",
      "Content": "5.7.4.1 Description"
    },
    {
      "Id": "fc8e8cb6-de10-4dbd-b39b-392e3b46b252",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4.1 Description\n---\n",
      "Content": "This Service is used to terminate a Session. The Server takes the following actions when it receives a CloseSession request:\nIt stops accepting requests for the Session. All subsequent requests received for the Session are discarded.\nIt returns negative responses with the StatusCode Bad_SessionClosed to all requests that are currently outstanding to provide for the timely return of the CloseSession response. Clients are urged to wait for all outstanding requests to complete before submitting the CloseSession request.\nIt removes the entry for the Client in its SessionDiagnosticsArray Variable.\nWhen the CloseSession Service is called before the Session is successfully activated, the Server shall reject the request if the SecureChannel is not the same as the one associated with the CreateSession request."
    },
    {
      "Id": "e475e042-3373-4371-8a90-d5bde19e4cf2",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4 CloseSession\n---\n",
      "Content": "5.7.4.2 Parameters"
    },
    {
      "Id": "0b3407d2-ff57-464f-908b-753a220b5a86",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4.2 Parameters\n---\n",
      "Content": "[Table 19](/\u00A7_Ref74381727) defines the parameters for the Service.\nTable 19- CloseSession Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\ndeleteSubscriptions\nBoolean\nIf the value is TRUE, the Server deletes all Subscriptions associated with the Session. If the value is FALSE, the Server keeps the Subscriptions associated with the Session until they timeout based on their own lifetime.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition)."
    },
    {
      "Id": "4047aba9-74db-46b9-88a2-41a25cf05f42",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4 CloseSession\n---\n",
      "Content": "5.7.4.3 Service results"
    },
    {
      "Id": "25eb3bee-e694-4a3c-a9da-67e1d15b624c",
      "Header": "Document: Part 4 - Services\nSection: 5.7.4.3 Service results\n---\n",
      "Content": "[Table 20](/\u00A7_Ref88280183) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 20- CloseSession Service Result Codes\nSymbolic Id\nDescription\nBad_SessionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "e0859cec-571d-480e-b63d-189c403478e7",
      "Header": "Document: Part 4 - Services\nSection: 5.7 Session Service Set\n---\n",
      "Content": "5.7.5 Cancel"
    },
    {
      "Id": "ae053338-ff73-42ba-9445-fface43dd474",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5 Cancel\n---\n",
      "Content": "5.7.5.1 Description"
    },
    {
      "Id": "564eebc8-b346-4a97-a2fc-55c511ad4c67",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5.1 Description\n---\n",
      "Content": "This Service is used to cancel outstanding Service requests. Successfully cancelled service requests shall respond with Bad_RequestCancelledByClient."
    },
    {
      "Id": "10b97fe8-6e67-4688-9b8a-d32f91e24495",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5 Cancel\n---\n",
      "Content": "5.7.5.2 Parameters"
    },
    {
      "Id": "48e367d7-3fb6-4403-a843-12915551af31",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5.2 Parameters\n---\n",
      "Content": "[Table 21](/\u00A7_Ref154214840) defines the parameters for the Service.\nTable 21- Cancel Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nrequestHandle\nIntegerId\nThe requestHandle assigned to one or more requests that should be cancelled. All outstanding requests with the matching requestHandle shall be cancelled.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\ncancelCount\nUInt32\nNumber of cancelled requests."
    },
    {
      "Id": "00ea10e8-3baf-435f-8a37-e3959d1a30c7",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5 Cancel\n---\n",
      "Content": "5.7.5.3 Service results"
    },
    {
      "Id": "a8fa85ab-2be9-4e98-95cf-9a311e9ad0d0",
      "Header": "Document: Part 4 - Services\nSection: 5.7.5.3 Service results\n---\n",
      "Content": "Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276)."
    },
    {
      "Id": "a5043704-d501-4934-8de0-31dd4545cd4e",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.8 NodeManagement Service Set"
    },
    {
      "Id": "2619c0a8-f651-40d5-a584-68bdbd852d53",
      "Header": "Document: Part 4 - Services\nSection: 5.8 NodeManagement Service Set\n---\n",
      "Content": "5.8.1 Overview"
    },
    {
      "Id": "1ed55db9-f158-44fc-9f29-3c3ce7a06e43",
      "Header": "Document: Part 4 - Services\nSection: 5.8.1 Overview\n---\n",
      "Content": "This Service Set defines Services to add and delete AddressSpace Nodes and References between them. All added Nodes continue to exist in the AddressSpace even if the Client that created them disconnects from the Server.\nCalls to NodeManagement Services may result in changes to the AddressSpace in addition to the requested change. The actual behaviour is Server specific."
    },
    {
      "Id": "bb8d4a64-d9fc-4c6e-8b93-0a3a44d37083",
      "Header": "Document: Part 4 - Services\nSection: 5.8 NodeManagement Service Set\n---\n",
      "Content": "5.8.2 AddNodes"
    },
    {
      "Id": "01cfbb47-116a-4ad7-bc7c-66c909a385d8",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2 AddNodes\n---\n",
      "Content": "5.8.2.1 Description"
    },
    {
      "Id": "2465d509-fa9e-4f1a-b92c-e54e5dca2c2f",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.1 Description\n---\n",
      "Content": "This Service is used to add one or more Nodes into the AddressSpace hierarchy. Using this Service, each Node is added as the TargetNode of a HierarchicalReference to ensure that the AddressSpace is fully connected and that the Node is added as a child within the AddressSpace hierarchy (see[OPC 10000-3](/\u00A7UAPart3)).\nWhen a Server creates an instance of a TypeDefinitionNode it shall create the same hierarchy of Nodes beneath the new Object or Variable depending on the ModellingRule of each InstanceDeclaration. All Nodes with a ModellingRule of Mandatory shall be created or an existing Node shall be referenced that conforms to the InstanceDeclaration. The creation of Nodes with other ModellingRules is Server specific."
    },
    {
      "Id": "6691b869-4b55-4d9d-891d-d81551bd50b7",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2 AddNodes\n---\n",
      "Content": "5.8.2.2 Parameters"
    },
    {
      "Id": "fb329b25-8c7b-4876-8dd9-144eb06020a8",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.2 Parameters\n---\n",
      "Content": "[Table 22](/\u00A7_Ref71355893) defines the parameters for the Service.\nTable 22- AddNodes Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nnodesToAdd []\nAddNodesItem\nList of Nodes to add. All Nodes are added as a Reference to an existing Node using a hierarchical ReferenceType. This structure is defined in-line with the following indented items.\nparentNodeId\nExpanded NodeId\nExpandedNodeId of the parent Node for the Reference. The ExpandedNodeId type is defined in[7.16](/\u00A7_Ref129164940).\nIf the server Index indicates that the parent Node is a remote Node, then the nodeId shall contain the absolute namespace URI. If the parent Node is a local Node the nodeId shall contain the namespace index.\nreferenceTypeId\nNodeId\nNodeId of the hierarchical ReferenceType to use for the Reference from the parent Node to the new Node.\nrequestedNewNodeId\nExpanded NodeId\nClient requested expanded NodeId of the Node to add. The serverIndex in the expanded NodeId shall be 0.\nIf the Server cannot use this NodeId, it rejects this Node and returns the appropriate error code.\nIf the Client does not want to request a NodeId, then it sets the value of this parameter to the null expanded NodeId.\nIf the Node to add is a ReferenceType Node, its NodeId should be a numeric id. See[OPC 10000-3](/\u00A7UAPart3) for a description of ReferenceType NodeIds.\nbrowseName\nQualifiedName\nThe browse name of the Node to add.\nnodeClass\nNodeClass\nNodeClass of the Node to add.\nnodeAttributes"
    },
    {
      "Id": "beb43ba6-fdc2-4156-b7d4-b405b5e343c3",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.2 Parameters\n---\n",
      "Content": "nodeAttributes\nExtensible Parameter\nNodeAttributes\nThe Attributes that are specific to the NodeClass. The NodeAttributes parameter type is an extensible parameter type specified in[7.24](/\u00A7_Ref130144342).\nA Client is allowed to omit values for some or all Attributes. If an Attribute value is null, the Server shall use the default values from the TypeDefinitionNode. If a TypeDefinitionNode was not provided the Server shall choose a suitable default value.\nThe Server may still add an optional Attribute to the Node with an appropriate default value even if the Client does not specify a value.\ntypeDefinition\nExpanded NodeId\nNodeId of the TypeDefinitionNode for the Node to add. This parameter shall be null for all NodeClasses other than Object and Variable in which case it shall be provided.\nIf the server Index indicates that the type definition Node is a remote Node, then the nodeId shall contain the absolute namespace URI. If the type definition Node is a local Node the nodeId shall contain the namespace index.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nAddNodesResult\nList of results for the Nodes to add. The size and order of the list matches the size and order of the nodesToAdd request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the Node to add (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\naddedNodeId\nNodeId\nServer assigned NodeId of the added Node. Null NodeId if the operation failed.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the Nodes to add (see"
    },
    {
      "Id": "f140ee40-9bd5-484e-ae59-86386b06c045",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.2 Parameters\n---\n",
      "Content": "Nodes to add (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the nodesToAdd request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "a44dace5-0404-4b34-9990-d08cd768092d",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2 AddNodes\n---\n",
      "Content": "5.8.2.3 Service results"
    },
    {
      "Id": "6217631c-8360-4217-a2f9-86a7d2cae794",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.3 Service results\n---\n",
      "Content": "[Table 23](/\u00A7_Ref89583258) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 23- AddNodes Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "83f3d122-1a18-45d9-aa08-0c8e896b43eb",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2 AddNodes\n---\n",
      "Content": "5.8.2.4 StatusCodes"
    },
    {
      "Id": "6482bbac-4ffa-494b-a05e-317c000c45c8",
      "Header": "Document: Part 4 - Services\nSection: 5.8.2.4 StatusCodes\n---\n",
      "Content": "[Table 24](/\u00A7_Ref71358695) defines values for the operation level statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 24- AddNodes Operation Level Result Codes\nSymbolic Id\nDescription\nBad_ParentNodeIdInvalid\nThe parent node id does not to refer to a valid node.\nBad_ReferenceTypeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceNotAllowed\nThe reference could not be created because it violates constraints imposed by the data model.\nBad_NodeIdRejected\nThe requested node id was rejected either because it was invalid or because the Server does not allow node ids to be specified by the Client.\nBad_NodeIdExists\nThe requested node id is already used by another node.\nBad_NodeClassInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_BrowseNameInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_BrowseNameDuplicated\nThe browse name is not unique among nodes that share the same relationship with the parent.\nBad_NodeAttributesInvalid\nThe node Attributes are not valid for the node class.\nBad_TypeDefinitionInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "16004e1d-155d-4e92-a81f-109a5d510469",
      "Header": "Document: Part 4 - Services\nSection: 5.8 NodeManagement Service Set\n---\n",
      "Content": "5.8.3 AddReferences"
    },
    {
      "Id": "41f1d6f2-10f2-4252-9ad8-aab68cb4c4f2",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3 AddReferences\n---\n",
      "Content": "5.8.3.1 Description"
    },
    {
      "Id": "cf8105f1-ada1-4baa-9379-d6c24a52f06b",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3.1 Description\n---\n",
      "Content": "This Service is used to add one or more References to one or more Nodes. The NodeClass is an input parameter that is used to validate that the Reference to be added matches the NodeClass of the TargetNode. This parameter is not validated if the Reference refers to a TargetNode in a remote Server.\nIn certain cases, adding new References to the AddressSpace shall require that the Server add new Server ids to the Server\u0027s ServerArray Variable. For this reason, remote Servers are identified by their URI and not by their ServerArray index. This allows the Server to add the remote Server URIs to its ServerArray."
    },
    {
      "Id": "4d0a30fe-2015-4df8-817e-5723777d6845",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3 AddReferences\n---\n",
      "Content": "5.8.3.2 Parameters"
    },
    {
      "Id": "95dce554-ff47-4823-8940-b56731f342b1",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3.2 Parameters\n---\n",
      "Content": "[Table 25](/\u00A7_Ref71435580) defines the parameters for the Service.\nTable 25- AddReferences Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nreferencesToAdd []\nAddReferences Item\nList of Reference instances to add to the SourceNode. The targetNodeClass of each Reference in the list shall match the NodeClass of the TargetNode. This structure is defined in-line with the following indented items.\nsourceNodeId\nNodeId\nNodeId of the Node to which the Reference is to be added. The source Node shall always exist in the Server to add the Reference. The isForward parameter can be set to FALSE if the target Node is on the local Server and the source Node on the remote Server.\nreferenceTypeId\nNodeId\nNodeId of the ReferenceType that defines the Reference.\nisForward\nBoolean\nIf the value is TRUE, the Server creates a forward Reference. If the value is FALSE, the Server creates an inverse Reference.\ntargetServerUri\nString\nURI of the remote Server. If this parameter is not null or empty, it overrides the serverIndex in the targetNodeId.\ntargetNodeId\nExpanded NodeId\nExpanded NodeId of the TargetNode. The ExpandedNodeId type is defined in[7.16](/\u00A7_Ref129164940).\nIf the server Index indicates that the TargetNode is a remote Node, then the nodeId shall contain the absolute namespace URI. If the TargetNode is a local Node the nodeId shall contain the namespace index.\ntargetNodeClass\nNodeClass\nNodeClass of the TargetNode. The Client shall specify this since the TargetNode might not be accessible directly by the Server.\n\n\n\nResponse"
    },
    {
      "Id": "c3d9173b-f3c5-4c96-855f-8379c02fad7b",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3.2 Parameters\n---\n",
      "Content": "Response\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the References to add (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the referencesToAdd request parameter.\ndiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the References to add (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the referencesToAdd request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "717dad2d-b35a-47c6-b59e-d9e40307c58e",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3 AddReferences\n---\n",
      "Content": "5.8.3.3 Service results"
    },
    {
      "Id": "f2e6f381-bb89-4d8e-baa9-0decbd58e322",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3.3 Service results\n---\n",
      "Content": "[Table 26](/\u00A7_Ref89583306) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 26- AddReferences Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "ccbd8583-3aa3-4de2-82cb-d0186dee0b57",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3 AddReferences\n---\n",
      "Content": "5.8.3.4 StatusCodes"
    },
    {
      "Id": "87ce93c1-f386-462f-9110-104226322df7",
      "Header": "Document: Part 4 - Services\nSection: 5.8.3.4 StatusCodes\n---\n",
      "Content": "[Table 27](/\u00A7_Ref71435581) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 27- AddReferences Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SourceNodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceTypeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ServerUriInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TargetNodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeClassInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceNotAllowed\nThe reference could not be created because it violates constraints imposed by the data model on this Server.\nBad_ReferenceLocalOnly\nThe reference type is not valid for a reference to a remote Server.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_DuplicateReferenceNotAllowed\nThe reference type between the nodes is already defined.\nBad_InvalidSelfReference\nThe Server does not allow this type of self reference on this node."
    },
    {
      "Id": "2f2a9e88-a597-4f31-aac8-80db229dd7c4",
      "Header": "Document: Part 4 - Services\nSection: 5.8 NodeManagement Service Set\n---\n",
      "Content": "5.8.4 DeleteNodes"
    },
    {
      "Id": "e1b8c8b5-0f41-434d-8c68-646b4f8f0680",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4 DeleteNodes\n---\n",
      "Content": "5.8.4.1 Description"
    },
    {
      "Id": "b6eeba8f-d00a-4520-a495-47f51d94c335",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4.1 Description\n---\n",
      "Content": "This Service is used to delete one or more Nodes from the AddressSpace.\nWhen any of the Nodes deleted by an invocation of this Service is the TargetNode of a Reference, then those References are left unresolved based on the deleteTargetReferences parameter.\nServers may delete additional Nodes and References like child Nodes that exist based on a TypeDefinition. The behaviour is Server specific.\nWhen any of the Nodes deleted by an invocation of this Service is being monitored, then a Notification containing the status code Bad_NodeIdUnknown is sent to the monitoring Client indicating that the Node has been deleted."
    },
    {
      "Id": "50fd071e-18bc-4328-8af1-f0200963ade6",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4 DeleteNodes\n---\n",
      "Content": "5.8.4.2 Parameters"
    },
    {
      "Id": "6bcd289a-a411-469b-ab31-5035e2d00113",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4.2 Parameters\n---\n",
      "Content": "[Table 28](/\u00A7_Ref71358561) defines the parameters for the Service.\nTable 28- DeleteNodes Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nnodesToDelete []\nDeleteNodes Item\nList of Nodes to delete. This structure is defined in-line with the following indented items.\nnodeId\nNodeId\nNodeId of the Node to delete.\ndeleteTargetReferences\nBoolean\nA Boolean parameter with the following values:\nTRUE delete References in TargetNodes that Reference the Node to delete.\nFALSE delete only the References for which the Node to delete is the source.\nThe Server cannot guarantee that it is able to delete all References from TargetNodes if this parameter is TRUE.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the Nodes to delete (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the list of the nodesToDelete request parameter.\ndiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the Nodes to delete (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the nodesToDelete request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "440092db-a2aa-4ab1-b68d-31c859ae4cf9",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4 DeleteNodes\n---\n",
      "Content": "5.8.4.3 Service results"
    },
    {
      "Id": "e956a028-1795-47ab-a6fb-5e43b21e6c76",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4.3 Service results\n---\n",
      "Content": "[Table 29](/\u00A7_Ref89583511) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 29- DeleteNodes Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "b4d1afe3-ecdb-4f1a-9579-2a61acae9a10",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4 DeleteNodes\n---\n",
      "Content": "5.8.4.4 StatusCodes"
    },
    {
      "Id": "49c740a8-1e7f-469f-9938-1f758dee210a",
      "Header": "Document: Part 4 - Services\nSection: 5.8.4.4 StatusCodes\n---\n",
      "Content": "[Table 30](/\u00A7_Ref71358535) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 30- DeleteNodes Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NoDeleteRights\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUncertain_ReferenceNotDeleted\nThe Server was not able to delete all target references."
    },
    {
      "Id": "0ebd4b25-1106-449c-aad6-521c5733df97",
      "Header": "Document: Part 4 - Services\nSection: 5.8 NodeManagement Service Set\n---\n",
      "Content": "5.8.5 DeleteReferences"
    },
    {
      "Id": "86e0848a-6d04-4674-96c3-fdbd92648602",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5 DeleteReferences\n---\n",
      "Content": "5.8.5.1 Description"
    },
    {
      "Id": "c60b6638-756f-43dd-b1bc-3e4eb9c17ce3",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5.1 Description\n---\n",
      "Content": "This Service is used to delete one or more References of a Node.\nWhen any of the References deleted by an invocation of this Service are contained in a View, then the ViewVersion Property is updated if this Property is supported.\n[Table 31](/\u00A7_Ref324447564) defines the parameters for the Service.\nTable 31- DeleteReferences Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nreferencesToDelete []\nDeleteReferences Item\nList of References to delete. This structure is defined in-line with the following indented items.\nsourceNodeId\nNodeId\nNodeId of the Node that contains the Reference to delete.\nreferenceTypeId\nNodeId\nNodeId of the ReferenceType that defines the Reference to delete.\nisForward\nBoolean\nIf the value is TRUE, the Server deletes a forward Reference. If the value is FALSE, the Server deletes an inverse Reference.\ntargetNodeId\nExpandedNodeId\nNodeId of the TargetNode of the Reference.\nIf the Server index indicates that the TargetNode is a remote Node, then the nodeId shall contain the absolute namespace URI. If the TargetNode is a local Node the nodeId shall contain the namespace index.\ndeleteBidirectional\nBoolean\nA Boolean parameter with the following values:\nTRUE delete the specified Reference and the opposite Reference from the TargetNode. If the TargetNode is located in a remote Server, the Server is permitted to delete the specified Reference only.\nFALSE delete only the specified Reference.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes"
    },
    {
      "Id": "7befd1bc-7e38-4853-bcad-d3a312a1abcb",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5.1 Description\n---\n",
      "Content": "List of StatusCodes for the References to delete (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the referencesToDelete request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the References to delete (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the referencesToDelete request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "3ad5d5f2-cb9c-4cbe-8b44-b345387d1306",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5 DeleteReferences\n---\n",
      "Content": "5.8.5.2 Service results"
    },
    {
      "Id": "9cec8fdc-d87d-47d0-94cf-777b20eb6d1c",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5.2 Service results\n---\n",
      "Content": "[Table 32](/\u00A7_Ref108420688) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 32- DeleteReferences Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "efd40782-690a-46a6-8c6a-544af83cae69",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5 DeleteReferences\n---\n",
      "Content": "5.8.5.3 StatusCodes"
    },
    {
      "Id": "86672db2-7b5c-46a9-896c-4c61fa6bd08a",
      "Header": "Document: Part 4 - Services\nSection: 5.8.5.3 StatusCodes\n---\n",
      "Content": "[Table 33](/\u00A7_Ref108420690) defines values for the r esults parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 33- DeleteReferences Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SourceNodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceTypeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ServerIndexInvalid\nThe Server index is not valid.\nBad_TargetNodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NoDeleteRights\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "2e7903f0-e9bd-4279-bb23-cb38d0ea5974",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.9 View Service Set"
    },
    {
      "Id": "4e9f6efe-2567-49e3-894a-6213c3a2e0c4",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.1 Overview"
    },
    {
      "Id": "e4113de7-9713-45bc-8532-9f19d9c9846e",
      "Header": "Document: Part 4 - Services\nSection: 5.9.1 Overview\n---\n",
      "Content": "Clients use the browse Services of the View Service Set to navigate through the AddressSpace or through a View which is a subset of the AddressSpace.\nA View is a subset of the AddressSpace created by the Server. Future versions of this document may also define services to create Client-defined Views. See[OPC 10000-5](/\u00A7UAPart5) for a description of the organization of views in the AddressSpace."
    },
    {
      "Id": "330d4ee4-0fa2-4cd0-89e1-d2ee0504a449",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.2 Browse"
    },
    {
      "Id": "13cf79ee-bfd4-4ac1-8988-101b7a1461f3",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2 Browse\n---\n",
      "Content": "5.9.2.1 Description"
    },
    {
      "Id": "636edfc5-fe40-4d97-a369-64e979f7de4a",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.1 Description\n---\n",
      "Content": "This Service is used to discover the References of a specified Node. The browse can be further limited by the use of a View. This Browse Service also supports a primitive filtering capability.\nIn some cases it may take longer than the Client timeout hint to process all nodes to browse. In this case the Server may return zero results with a continuation point for the affected nodes before the timeout expires."
    },
    {
      "Id": "12c31bee-5cc5-4d34-826d-3fc8e488b581",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2 Browse\n---\n",
      "Content": "5.9.2.2 Parameters"
    },
    {
      "Id": "862fdd4b-45e1-45ca-ad2f-82f868a8f35e",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.2 Parameters\n---\n",
      "Content": "[Table 34](/\u00A7_Ref86802881) defines the parameters for the Service.\nTable 34- Browse Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nView\nViewDescription\nDescription of the View to browse (see[7.44](/\u00A7_Ref141201863) for ViewDescription definition). An empty ViewDescription value indicates the entire AddressSpace. Use of the empty ViewDescription value causes all References of the nodesToBrowse to be returned. Use of any other View causes only the References of the nodesToBrowse that are defined for that View to be returned.\nrequestedMax\nReferencesPerNode\nCounter\nIndicates the maximum number of references to return for each starting Node specified in the request. The value 0 indicates that the Client is imposing no limitation (see[7.8](/\u00A7_Ref128930737) for Counter definition).\nnodesToBrowse []\nBrowseDescription\nA list of nodes to Browse. This structure is defined in-line with the following indented items.\nnodeId\nNodeId\nNodeId of the Node to be browsed. If a view is provided, it shall include this Node.\nbrowseDirection\nEnum\nBrowseDirection\nAn enumeration that specifies the direction of References to follow. The enumeration is defined in[7.5](/\u00A7_Ref42717663).\nThe returned References do indicate the direction the Server followed in the isForward parameter of the ReferenceDescription.\nSymmetric References are always considered to be in forward direction therefore the isForward flag is always set to TRUE and symmetric References are not returned if browseDirection is set to INVERSE.\nreferenceTypeId\nNodeId\nSpecifies the NodeId of the"
    },
    {
      "Id": "973a300e-fe5b-4777-a88d-1a23ea1e2bc3",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.2 Parameters\n---\n",
      "Content": "Specifies the NodeId of the ReferenceType to follow. Only instances of this ReferenceType or its subtypes are returned.\nIf not specified then all References are returned and includeSubtypes is ignored.\nincludeSubtypes\nBoolean\nIndicates whether subtypes of the ReferenceType should be included in the browse. If TRUE, then instances of referenceTypeId and all of its subtypes are returned.\nnodeClassMask\nUInt32\nSpecifies the NodeClasses of the TargetNodes. Only TargetNodes with the selected NodeClasses are returned. The NodeClasses are assigned the following bits:\nBit\nNodeClass\n0\nObject\n1\nVariable\n2\nMethod\n3\nObjectType\n4\nVariableType\n5\nReferenceType\n6\nDataType\n7\nView\nIf set to zero, then all NodeClasses are returned.\nIf the NodeClass is unknown for a remote Node, the nodeClassMask is ignored.\nresultMask\nUInt32\nSpecifies the fields in the ReferenceDescription structure that should be returned. The fields are assigned the following bits:\nBit\nResult\n0\nReferenceType\n1\nIsForward\n2\nNodeClass\n3\nBrowseName\n4\nDisplayName\n5\nTypeDefinition\nThe ReferenceDescription type is defined in[7.29](/\u00A7_Ref129166653).\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nBrowseResult\nA list of BrowseResults. The size and order of the list matches the size and order of the nodesToBrowse specified in the request.\nThe BrowseResult type is defined in[7.6](/\u00A7_Ref182132862).\ndiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the"
    },
    {
      "Id": "fdcf716f-5ad5-433e-85f6-6219966c3a26",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.2 Parameters\n---\n",
      "Content": "results(see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the results response parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "326b48f4-25d7-4d42-a2f8-c5023a7c04f4",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2 Browse\n---\n",
      "Content": "5.9.2.3 Service results"
    },
    {
      "Id": "460a9c79-6337-4c95-86a5-e9994f91250e",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.3 Service results\n---\n",
      "Content": "[Table 35](/\u00A7_Ref89583684) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 35- Browse Service Result Codes\nSymbolic Id\nDescription\nBad_ViewIdUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewTimestampInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewParameterMismatchInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewVersionInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "2444a079-3e28-4b8e-8ef2-e94940f65a3b",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2 Browse\n---\n",
      "Content": "5.9.2.4 StatusCodes"
    },
    {
      "Id": "57ed7d6e-1a72-4396-a875-9eda24a1b0ca",
      "Header": "Document: Part 4 - Services\nSection: 5.9.2.4 StatusCodes\n---\n",
      "Content": "[Table 36](/\u00A7_Ref181564146) defines values for the r esults parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 36- Browse Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceTypeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_BrowseDirectionInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeNotInView\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NoContinuationPoints\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUncertain_NotAllNodesAvailable\nBrowse results may be incomplete because of the unavailability of a subsystem."
    },
    {
      "Id": "3110a70c-2b13-4147-89c7-aaebd1d92736",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.3 BrowseNext"
    },
    {
      "Id": "f5a3199f-ee46-4a76-b84d-04e3d5cbd7b0",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3 BrowseNext\n---\n",
      "Content": "5.9.3.1 Description"
    },
    {
      "Id": "2bf82198-a4df-4311-9b04-692447568146",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3.1 Description\n---\n",
      "Content": "This Service is used to request the next set of Browse or BrowseNext response information that is too large to be sent in a single response. \u0022Too large\u0022 in this context means that the Server is not able to return a larger response or that the number of results to return exceeds the maximum number of results to return that was specified by the Client in the original Browse request. The BrowseNext shall be submitted on the same Session that was used to submit the Browse or BrowseNext that is being continued."
    },
    {
      "Id": "b7d03e35-8167-423b-af4b-52b0b2a6de75",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3 BrowseNext\n---\n",
      "Content": "5.9.3.2 Parameters"
    },
    {
      "Id": "2e161a69-9eba-4b3f-a802-a660719e257d",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3.2 Parameters\n---\n",
      "Content": "[Table 37](/\u00A7_Ref93320494) defines the parameters for the Service.\nTable 37- BrowseNext Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nreleaseContinuationPoints\nBoolean\nA Boolean parameter with the following values:\nTRUE passed continuationPoints shall be reset to free resources in the Server. The continuation points are released and the results and diagnosticInfos arrays are empty.\nFALSE passed continuationPoints shall be used to get the next set of browse information.\nA Client shall always use the continuation point returned by a Browse or BrowseNext response to free the resources for the continuation point in the Server. If the Client does not want to get the next set of browse information, BrowseNext shall be called with this parameter set to TRUE.\ncontinuationPoints []\nContinuation Point\nA list of Server-defined opaque values that represent continuation points. The value for a continuation point was returned to the Client in a previous Browse or BrowseNext response. These values are used to identify the previously processed Browse or BrowseNext request that is being continued and the point in the result set from which the browse response is to continue.\nClients may mix continuation points from different Browse or BrowseNext responses.\nThe ContinuationPoint type is described in[7.9](/\u00A7_Ref183360083).\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nBrowseResult\nA list of references that met the criteria specified in the original Browse request.\nThe size and order of this list matches the size and order of the continuationPoints"
    },
    {
      "Id": "c0f826bc-0558-40f2-8dac-9d341d3cbe63",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3.2 Parameters\n---\n",
      "Content": "continuationPoints request parameter.\nThe BrowseResult type is defined in[7.6](/\u00A7_Ref182132862).\ndiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the results(see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the results response parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "ef022fc1-0762-49df-8e83-ffb544d4092e",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3 BrowseNext\n---\n",
      "Content": "5.9.3.3 Service results"
    },
    {
      "Id": "c2c6b946-1d61-43f1-a842-0a06a6ac0d96",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3.3 Service results\n---\n",
      "Content": "[Table 38](/\u00A7_Ref93320492) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 38- BrowseNext Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "2f01b152-aa38-418a-929c-a3a359df1b9b",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3 BrowseNext\n---\n",
      "Content": "5.9.3.4 StatusCodes"
    },
    {
      "Id": "a2f29ea9-b490-430d-a5a2-47a35abf9e22",
      "Header": "Document: Part 4 - Services\nSection: 5.9.3.4 StatusCodes\n---\n",
      "Content": "[Table 39](/\u00A7_Ref181564527) defines values for the r esults parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 39- BrowseNext Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ReferenceTypeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_BrowseDirectionInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeNotInView\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ContinuationPointInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "f122e359-6f2d-4204-9610-fd19bccc23db",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.4 TranslateBrowsePathsToNodeIds"
    },
    {
      "Id": "3f8f5c4a-54bd-4e18-8560-1ca565d54c0b",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4 TranslateBrowsePathsToNodeIds\n---\n",
      "Content": "5.9.4.1 Description"
    },
    {
      "Id": "a90ec476-f244-473f-bafd-f57e2a5b8441",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4.1 Description\n---\n",
      "Content": "This Service is used to request that the Server translates one or more browse paths to NodeIds. Each browse path is constructed of a starting Node and a RelativePath. The specified starting Node identifies the Node from which the RelativePath is based. The RelativePath contains a sequence of ReferenceTypes and BrowseNames.\nOne purpose of this Service is to allow programming against type definitions. Since BrowseNames shall be unique in the context of type definitions, a Client may create a browse path that is valid for a type definition and use this path on instances of the type. For example, an ObjectType\u0022Boiler\u0022 may have a \u0022HeatSensor\u0022 Variable as InstanceDeclaration. A graphical element programmed against the \u0022Boiler\u0022 may need to display the Value of the \u0022HeatSensor\u0022. If the graphical element would be called on \u0022Boiler1\u0022, an instance of \u0022Boiler\u0022, it would need to call this Service specifying the NodeId of \u0022Boiler1\u0022 as starting Node and the BrowseName of the \u0022HeatSensor\u0022 as browse path. The Service would return the NodeId of the \u0022HeatSensor\u0022 of \u0022Boiler1\u0022 and the graphical element could subscribe to its Value Attribute.\nIf a Node has multiple targets with the same BrowseName, the Server shall return a list of NodeIds. However, since one of the main purposes of this Service is to support programming against type definitions, the NodeId of the Node based on the type definition of the starting Node is returned as the first NodeId in the list."
    },
    {
      "Id": "3ab3be19-d60a-4361-9a25-67981ac12154",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4 TranslateBrowsePathsToNodeIds\n---\n",
      "Content": "5.9.4.2 Parameters"
    },
    {
      "Id": "0ffb188a-3c93-4b67-ae7b-4d07f0bd24aa",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4.2 Parameters\n---\n",
      "Content": "[Table 40](/\u00A7_Ref134958373) defines the parameters for the Service.\nTable 40- TranslateBrowsePathsToNodeIds Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nbrowsePaths []\nBrowsePath\nList of browse paths for which NodeIds are being requested. This structure is defined in-line with the following indented items.\nstartingNode\nNodeId\nNodeId of the starting Node for the browse path.\nrelativePath\nRelativePath\nThe path to follow from the startingNode.\nThe last element in the relativePath shall always have a targetName specified. This further restricts the definition of the RelativePath type. The Server shall return Bad_ BrowseNameInvalid if the targetName is missing.\nThe RelativePath structure is defined in[7.30](/\u00A7_Ref139474657).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nBrowsePathResult\nList of results for the list of browse paths. The size and order of the list matches the size and order of the browsePaths request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the browse path (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\ntargets []\nBrowsePathTarget\n\nList of targets for the relativePath from the startingNode. This structure is defined in-line with the following indented items.\nA Server may encounter a Reference to a Node in another Server which it cannot follow while it is processing the RelativePath"
    },
    {
      "Id": "a255771b-fe34-4805-944b-118ae3b8d09c",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4.2 Parameters\n---\n",
      "Content": "RelativePath. If this happens the Server returns the NodeId of the external Node and sets the remainingPathIndex parameter to indicate which RelativePath elements still need to be processed. To complete the operation the Client shall connect to the other Server and call this service again using the target as the startingNode and the unprocessed elements as the relativePath.\ntargetId\nExpandedNodeId\nThe identifier for a target of the RelativePath.\nIf the server Index indicates that the target Node is a remote Node, then the nodeId shall contain the absolute namespace URI. If the target Node is a local Node the nodeId shall contain the namespace index.\nremainingPathIndex\nIndex\nThe index of the first unprocessed element in the RelativePath.\nThis value shall be equal to the maximum value of Index data type if all elements were processed (see[7.18](/\u00A7_Ref187558134) for Index definition).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the list of browse paths (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the browsePaths request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "c58c1160-d4f4-45ce-a42b-9598a41f506b",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4 TranslateBrowsePathsToNodeIds\n---\n",
      "Content": "5.9.4.3 Service results"
    },
    {
      "Id": "d9d725ff-4a7d-4d28-a415-c5547336c8d8",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4.3 Service results\n---\n",
      "Content": "[Table 41](/\u00A7_Ref134958396) defines the Service results specific to this Service. Common StatusCodes are defined in[7.38](/\u00A7_Ref88280762).\nTable 41- TranslateBrowsePathsToNodeIds Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "ba1892d6-b138-4a7a-8158-d30dac12032c",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4 TranslateBrowsePathsToNodeIds\n---\n",
      "Content": "5.9.4.4 StatusCodes"
    },
    {
      "Id": "6f5523bf-3678-44f7-b32c-209c751945b0",
      "Header": "Document: Part 4 - Services\nSection: 5.9.4.4 StatusCodes\n---\n",
      "Content": "[Table 42](/\u00A7_Ref134418324) defines values for the operation level statusCode parameters that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 42- TranslateBrowsePathsToNodeIds Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThis code indicates that the relativePath contained an empty list.\nBad_BrowseNameInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThis code indicates that a TargetName was missing in a RelativePath.\nUncertain_ReferenceOutOfServer\nThe path element has targets which are in another Server.\nBad_TooManyMatches\nThe requested operation has too many matches to return.\nUsers should use queries for large result sets. Servers should allow at least 10 matches before returning this error code.\nBad_QueryTooComplex\nThe requested operation requires too many resources in the Server.\nBad_NoMatch\nThe requested relativePath cannot be resolved to a target to return."
    },
    {
      "Id": "59444648-cb82-4276-8d35-a6a152c2fb05",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.5 RegisterNodes"
    },
    {
      "Id": "dd16e898-212c-4e2b-a0de-db6f8f2e7a7b",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5 RegisterNodes\n---\n",
      "Content": "5.9.5.1 Description"
    },
    {
      "Id": "f9ac5abe-0ec1-4c95-80b8-6935106cd311",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5.1 Description\n---\n",
      "Content": "A Server often has no direct access to the information that it manages. Variables or services might be in underlying systems where additional effort is required to establish a connection to these systems. The RegisterNodes Service can be used by Clients to register the Nodes that they know they will access repeatedly (e.g. Write, Call). It allows Servers to set up anything needed so that the access operations will be more efficient. Clients can expect performance improvements when using registered NodeIds, but the optimization measures are vendor-specific. For Variable Nodes Servers shall concentrate their optimization efforts on the Value Attribute.\nRegistered NodeIds are only guaranteed to be valid within the current Session. Clients shall unregister unneeded Ids immediately to free up resources.\nRegisterNodes does not validate the NodeIds from the request. Servers will simply copy unknown NodeIds in the response. Structural NodeId errors (size violations, invalid id types) will cause the complete Service to fail.\nFor the purpose of Auditing, Servers shall not use the registered NodeIds but only the canonical NodeIds which is the value of the NodeId Attribute."
    },
    {
      "Id": "1a5f81f7-c148-45a1-9cbc-403df39141a5",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5 RegisterNodes\n---\n",
      "Content": "5.9.5.2 Parameters"
    },
    {
      "Id": "4b691b75-c065-4fce-b0b5-9fa74fff9980",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5.2 Parameters\n---\n",
      "Content": "[Table 43](/\u00A7_Ref188680939) defines the parameters for the Service.\nTable 43- RegisterNodes Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nnodesToRegister []\nNodeId\nList of NodeIds to register that the Client has retrieved through browsing, querying or in some other manner.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nregisteredNodeIds []\nNodeId\nA list of NodeIds which the Client shall use for subsequent access operations. The size and order of this list matches the size and order of the nodesToRegister request parameter.\nThe Server may return the NodeId from the request or a new (an alias) NodeId. It is recommended that the Server return a numeric NodeIds for aliasing.\nIn case no optimization is supported for a Node, the Server shall return the NodeId from the request."
    },
    {
      "Id": "c07e72e3-c9bf-48c9-b607-ae341a7515bf",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5 RegisterNodes\n---\n",
      "Content": "5.9.5.3 Service results"
    },
    {
      "Id": "5995bd03-91da-4490-a261-97e3ae3764e5",
      "Header": "Document: Part 4 - Services\nSection: 5.9.5.3 Service results\n---\n",
      "Content": "[Table 44](/\u00A7_Ref188680979) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 44- RegisterNodes Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nServers shall completely reject the RegisterNodes request if any of the NodeIds in the nodesToRegister parameter are structurally invalid."
    },
    {
      "Id": "3c46bb20-8508-4830-8932-808ee2232e17",
      "Header": "Document: Part 4 - Services\nSection: 5.9 View Service Set\n---\n",
      "Content": "5.9.6 UnregisterNodes"
    },
    {
      "Id": "2916509d-b8d6-483a-bb9a-edb12c2af0eb",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6 UnregisterNodes\n---\n",
      "Content": "5.9.6.1 Description"
    },
    {
      "Id": "c4937e28-7c77-4f26-90f8-b3936bf417d6",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6.1 Description\n---\n",
      "Content": "This Service is used to unregister NodeIds that have been obtained via the RegisterNodes service.\nUnregisterNodes does not validate the NodeIds from the request. Servers shall simply unregister NodeIds that are known as registered NodeIds. Any NodeIds that are in the list, but are not registered NodeIds are simply ignored."
    },
    {
      "Id": "fd4fc3ec-bc47-481a-b00d-aa64b5c9a2f7",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6 UnregisterNodes\n---\n",
      "Content": "5.9.6.2 Parameters"
    },
    {
      "Id": "df51d90b-e7b2-4c46-814b-1eb7cecab004",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6.2 Parameters\n---\n",
      "Content": "[Table 45](/\u00A7_Ref209356567) defines the parameters for the Service.\nTable 45- UnregisterNodes Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nnodesToUnregister []\nNodeId\nA list of NodeIds that have been obtained via the RegisterNodes service.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition)."
    },
    {
      "Id": "d815eee4-f45d-4603-91cf-4f5079458794",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6 UnregisterNodes\n---\n",
      "Content": "5.9.6.3 Service results"
    },
    {
      "Id": "a595e626-7c49-4aac-9226-7d8a686b3281",
      "Header": "Document: Part 4 - Services\nSection: 5.9.6.3 Service results\n---\n",
      "Content": "[Table 46](/\u00A7_Ref209356525) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 46- UnregisterNodes Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "97c2023c-2d85-4580-bd05-59246189ae27",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.10 Query Service Set"
    },
    {
      "Id": "142fabc7-d7b5-4a4d-845c-32d3923af875",
      "Header": "Document: Part 4 - Services\nSection: 5.10 Query Service Set\n---\n",
      "Content": "Deprecated in version 1.05.06 because the Service Set has not been adopted by OPC UA Applications. See Annex B for an informative description."
    },
    {
      "Id": "de4c82ab-5e8e-42b3-806a-c0814eb6070f",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.11 Attribute Service Set"
    },
    {
      "Id": "4ed07a2f-0213-462b-ad16-e4150c52a7d0",
      "Header": "Document: Part 4 - Services\nSection: 5.11 Attribute Service Set\n---\n",
      "Content": "5.11.1 Overview"
    },
    {
      "Id": "65477570-b771-4bbb-8517-2068ba3860f2",
      "Header": "Document: Part 4 - Services\nSection: 5.11.1 Overview\n---\n",
      "Content": "This Service Set provides Services to access Attributes that are part of Nodes."
    },
    {
      "Id": "3a241ca7-7deb-4b74-9e85-dbe054238ac1",
      "Header": "Document: Part 4 - Services\nSection: 5.11 Attribute Service Set\n---\n",
      "Content": "5.11.2 Read"
    },
    {
      "Id": "f18e92bc-0c00-46f5-ad3f-87866fe74faa",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2 Read\n---\n",
      "Content": "5.11.2.1 Description"
    },
    {
      "Id": "806db76b-6b55-46c3-8321-aaa64118d188",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2.1 Description\n---\n",
      "Content": "This Service is used to read one or more Attributes of one or more Nodes. For constructed Attribute values whose elements are indexed, such as an array, this Service allows Clients to read the entire set of indexed values as a composite, to read individual elements or to read ranges of elements of the composite.\nThe maxAge parameter is used to direct the Server to access the value from the underlying data source, such as a device, if its copy of the data is older than that which the maxAge specifies. If the Server cannot meet the requested maximum age, it returns its \u0022best effort\u0022 value rather than rejecting the request."
    },
    {
      "Id": "bb8f301b-1303-4acb-bc32-defdebb47778",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2 Read\n---\n",
      "Content": "5.11.2.2 Parameters"
    },
    {
      "Id": "48a44ad9-abfd-468b-b9da-16aab6ed036c",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2.2 Parameters\n---\n",
      "Content": "[Table 47](/\u00A7_Ref74550850) defines the parameters for the Service.\nTable 47- Read Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nmaxAge\nDuration\nMaximum age of the value to be read in milliseconds. The age of the value is based on the difference between the ServerTimestamp and the time when the Server starts processing the request. For example if the Client specifies a maxAge of 500 milliseconds and it takes 100 milliseconds until the Server starts processing the request, the age of the returned value could be 600 milliseconds prior to the time it was requested.\nIf the Server has one or more values of an Attribute that are within the maximum age, it can return any one of the values or it can read a new value from the data source. The number of values of an Attribute that a Server has depends on the number of MonitoredItems that are defined for the Attribute. In any case, the Client can make no assumption about which copy of the data will be returned.\nIf the Server does not have a value that is within the maximum age, it shall attempt to read a new value from the data source.\nIf the Server cannot meet the requested maxAge, it returns its \u0022best effort\u0022 value rather than rejecting the request. This may occur when the time it takes the Server to process and return the new data value after it has been accessed is greater than the specified maximum age.\nIf maxAge is set to 0, the Server shall attempt to read a new value from the data source.\nIf maxAge is set to the max Int32 value or greater, the Server shall attempt to get a cached value."
    },
    {
      "Id": "a55e6b04-896a-4478-9fea-d36337202594",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2.2 Parameters\n---\n",
      "Content": "Negative values are invalid for maxAge.\ntimestampsTo\nReturn\nEnum\nTimestampsTo Return\nAn enumeration that specifies the Timestamps to be returned for each requested Variable Value Attribute. The TimestampsToReturn enumeration is defined in[7.39](/\u00A7_Ref133134319).\nnodesToRead []\nReadValueId\nList of Nodes and their Attributes to read. For each entry in this list, a StatusCode is returned, and if it indicates success, the Attribute Value is also returned. The ReadValueId parameter type is defined in[7.28](/\u00A7_Ref133162567).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nDataValue\nList of Attribute values (see[7.11](/\u00A7_Ref127334314) for DataValue definition). The size and order of this list matches the size and order of the nodesToRead request parameter. There is one entry in this list for each Node contained in the nodesToRead parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of this list matches the size and order of the nodesToRead request parameter. There is one entry in this list for each Node contained in the nodesToRead parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "0758e94b-c980-4259-986e-e5ff6d454f87",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2 Read\n---\n",
      "Content": "5.11.2.3 Service results"
    },
    {
      "Id": "5925dda0-df2f-43dd-8fbd-43ef8f840d76",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2.3 Service results\n---\n",
      "Content": "[Table 48](/\u00A7_Ref134958453) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 48- Read Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_MaxAgeInvalid\nThe max age parameter is invalid.\nBad_TimestampsToReturnInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "231cef4b-a359-43d7-be96-3be247cb780d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2 Read\n---\n",
      "Content": "5.11.2.4 StatusCodes"
    },
    {
      "Id": "c284382b-3674-4fec-bfb0-caaa5fdcddd7",
      "Header": "Document: Part 4 - Services\nSection: 5.11.2.4 StatusCodes\n---\n",
      "Content": "[Table 49](/\u00A7_Ref74550839) defines values for the operation level statusCode contained in the DataValue structure of each results element. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 49- Read Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_AttributeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeNoData\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NotReadable\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SecurityModeInsufficient\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "1c857152-45bf-436f-b9ee-421c9a48425b",
      "Header": "Document: Part 4 - Services\nSection: 5.11 Attribute Service Set\n---\n",
      "Content": "5.11.3 HistoryRead"
    },
    {
      "Id": "c00cf7b2-8220-4706-b024-17d5c3aaa7c6",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3 HistoryRead\n---\n",
      "Content": "5.11.3.1 Description"
    },
    {
      "Id": "8296de68-4286-4669-bf95-c6f4f93de027",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.1 Description\n---\n",
      "Content": "This Service is used to read historical values or Events of one or more Nodes. For constructed Attribute values whose elements are indexed, such as an array, this Service allows Clients to read the entire set of indexed values as a composite, to read individual elements or to read ranges of elements of the composite. Servers may make historical values available to Clients using this Service, although the historical values themselves are not visible in the AddressSpace.\nThe AccessLevel Attribute defined in[OPC 10000-3](/\u00A7UAPart3) indicates a Node\u0027s support for historical values. Several request parameters indicate how the Server is to access values from the underlying history data source. The EventNotifier Attribute defined in[OPC 10000-3](/\u00A7UAPart3) indicates a Node\u0027s support for historical Events.\nThe continuationPoint parameter in the HistoryRead is used to mark a point from which to continue the read if not all values could be returned in one response. The value is opaque for the Client and is only used to maintain the state information for the Server to continue from. A Server may use the timestamp of the last returned data item if the timestamp is unique. This can reduce the need in the Server to store state information for the continuation point.\nIn some cases it may take longer than the Client timeout hint to read the data for all nodes to read. Then the Server may return zero results with a continuation point for the affected nodes before the timeout expires. That allows the Server to resume the data acquisition on the next Client read call.\nFor additional details on reading historical data and historical Events see[OPC 10000-11](/\u00A7UAPart11)."
    },
    {
      "Id": "4796d2da-73ce-4311-a1cb-eac0e5a39b9b",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3 HistoryRead\n---\n",
      "Content": "5.11.3.2 Parameters"
    },
    {
      "Id": "e9d4249f-28e9-4697-a898-6a246ef98de5",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.2 Parameters\n---\n",
      "Content": "[Table 50](/\u00A7_Ref110223196) defines the parameters for the Service.\nTable 50- HistoryRead Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nhistoryReadDetails\nExtensible Parameter\nHistoryReadDetails\nThe details define the types of history reads that can be performed. The HistoryReadDetails parameter type is an extensible parameter type formally defined in[OPC 10000-11](/\u00A7UAPart11). The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\ntimestampsToReturn\nEnum\nTimestampsTo Return\nAn enumeration that specifies the timestamps to be returned for each requested Variable Value Attribute. The TimestampsToReturn enumeration is defined in[7.39](/\u00A7_Ref133134319).\nSpecifying a TimestampsToReturn of NEITHER is not valid. A Server shall return a Bad_TimestampsToReturnInvalid StatusCode in this case.\n[OPC 10000-11](/\u00A7UAPart11) defines exceptions where this parameter shall be ignored.\nreleaseContinuation\nPoints\nBoolean\nA Boolean parameter with the following values:\nTRUE passed continuationPoints shall be reset to free resources in the Server.\nFALSE passed continuationPoints shall be used to get the next set of historical information.\nA Client shall always use the continuation point returned by a HistoryRead response to free the resources for the continuation point in the Server. If the Client does not want to get the next set of historical information, HistoryRead shall be called with this parameter set to TRUE.\nnodesToRead []\nHistoryReadValueId"
    },
    {
      "Id": "ab1e92fb-2395-416b-baaf-6136ed3ecec3",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.2 Parameters\n---\n",
      "Content": "HistoryReadValueId\nThis parameter contains the list of items upon which the historical retrieval is to be performed. This structure is defined in-line with the following indented items.\nnodeId\nNodeId\nIf the HistoryReadDetails is RAW, PROCESSED, MODIFIED or ATTIME:\nThe nodeId of the Nodes whose historical values are to be read. The value returned shall always include a timestamp.\nIf the HistoryReadDetails is EVENTS:\nThe NodeId of the Node whose Event history is to be read.\nIf the Node does not support the requested access for historical values or historical Events the appropriate error response for the given Node shall be generated.\nindexRange\nNumericRange\nThis parameter is used to identify a single element of an array, or a single range of indexes for arrays. If a range of elements is specified, the values are returned as a composite. The first element is identified by index 0 (zero). The NumericRange type is defined in[7.27](/\u00A7_Ref129174867).\nThis parameter is null or empty if the value is not an array. However, if the value is an array, and this parameter is null or empty, then all elements are to be included in the range.\ndataEncoding\nQualifiedName\nThis parameter is no longer used.\nClients shall set it to null or empty.\nThe Server shall ignore the parameter.\ncontinuationPoint\nContinuationPoint\nFor each NodesToRead item this parameter specifies a continuation point returned from a previous HistoryRead call, allowing the Client to continue that read from the last value received.\nThe HistoryRead is used to select an ordered sequence of historical values or events. A continuation point marks a point in that ordered sequence, such that the Server returns the subset of the sequence that follows that point."
    },
    {
      "Id": "6cf10d77-8cce-401a-b2c1-71f7ffe03ac7",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.2 Parameters\n---\n",
      "Content": "A null or empty value indicates that this parameter is not used.\nSee[7.9](/\u00A7_Ref183360083) for a general description of continuation points.\nThis continuation point is described in more detail in[OPC 10000-11](/\u00A7UAPart11).\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader type).\nresults []\nHistoryReadResult\nList of read results. The size and order of the list matches the size and order of the nodesToRead request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the NodesToRead item (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\ncontinuationPoint\nContinuationPoint\nThis parameter is used only if the number of values to be returned is too large to be returned in a single response or if the timeout provided as hint by the Client is close to expiring and not all nodes have been processed.\nWhen this parameter is not used, its value is null or empty.\nServers shall support at least one continuation point per Session. Servers specify a max history continuation points per Session in the Server capabilities Object defined in[OPC 10000-5](/\u00A7UAPart5). A continuation point shall remain active until the Client passes the continuation point to HistoryRead or the Session is closed. If the max continuation points have been reached the oldest continuation point shall be reset.\nhistoryData\nExtensible Parameter\nHistoryData\nThe history data returned for the Node.\nThe HistoryData parameter type is an extensible parameter type formally defined in[OPC 10000-11](/\u00A7UAPart11)"
    },
    {
      "Id": "7a0d8e04-5353-45c9-9aaf-f74df4c7d51c",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.2 Parameters\n---\n",
      "Content": ". It specifies the types of history data that can be returned. The ExtensibleParameter base type is defined in[7.17](/\u00A7_Ref182070092).\ndiagnosticInfos []\nDiagnostic Info\nList of diagnostic information. The size and order of the list matches the size and order of the nodesToRead request parameter. There is one entry in this list for each Node contained in the nodesToRead parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "b963a2f3-ea35-4265-b3d7-4eeb9e438ffb",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3 HistoryRead\n---\n",
      "Content": "5.11.3.3 Service results"
    },
    {
      "Id": "0a1bde12-8742-43f5-ab3e-19e6f5829752",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.3 Service results\n---\n",
      "Content": "[Table 51](/\u00A7_Ref110226537) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 51- HistoryRead Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TimestampsToReturnInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_HistoryOperationInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_HistoryOperationUnsupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe requested history operation is not supported by the Server."
    },
    {
      "Id": "70b7e0c2-a955-424b-87db-85a1575ed62d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3 HistoryRead\n---\n",
      "Content": "5.11.3.4 StatusCodes"
    },
    {
      "Id": "13a6d375-178e-4853-8cd2-ff0cbdedb8d5",
      "Header": "Document: Part 4 - Services\nSection: 5.11.3.4 StatusCodes\n---\n",
      "Content": "[Table 52](/\u00A7_Ref110226538) defines values for the operation level statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591). History access specific StatusCodes are defined in[OPC 10000-11](/\u00A7UAPart11).\nTable 52- HistoryRead Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ContinuationPointInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeNoData\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_HistoryOperationUnsupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe requested history operation is not supported for the requested node.\nBad_NoContinuationPoints\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nSee[7.9](/\u00A7_Ref183360083) for the rules to apply this status code."
    },
    {
      "Id": "d268c6ea-9ef8-4241-afac-5613faec5555",
      "Header": "Document: Part 4 - Services\nSection: 5.11 Attribute Service Set\n---\n",
      "Content": "5.11.4 Write"
    },
    {
      "Id": "3b970b02-3a3b-4988-9ac3-76d66d58550b",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4 Write\n---\n",
      "Content": "5.11.4.1 Description"
    },
    {
      "Id": "a1575fd8-2c8e-4ba2-8a3e-01ece8eba172",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.1 Description\n---\n",
      "Content": "This Service is used to write values to one or more Attributes of one or more Nodes. For constructed Attribute values whose elements are indexed, such as an array, this Service allows Clients to write the entire set of indexed values as a composite, to write individual elements or to write ranges of elements of the composite.\nThe values are written to the data source, such as a device, and the Service does not return until it writes the values or determines that the value cannot be written. In certain cases, the Server will successfully write to an intermediate system or Server, and will not know if the data source was updated properly. In these cases, the Server should report a success code that indicates that the write was not verified. In the cases where the Server is able to verify that it has successfully written to the data source, it reports an unconditional success.\nThe order the operations are processed in the Server is not defined and depends on the different data sources and the internal Server logic. If an Attribute and Node combination is contained in more than one operation, the order of the processing is undefined. If a Client requires sequential processing the Client needs separate Service calls.\nIt is possible that the Server may successfully write some Attributes, but not others. Rollback is the responsibility of the Client.\nIf a Server allows writing of Attributes with the DataType LocalizedText, the Client can add or overwrite the text for a locale by writing the text with the associated LocaleId. Writing a null String for the text for a locale shall delete the String for that locale. Writing a null String for the locale and a non-null String for the text is setting the text for an invariant locale. Writing a null String for the text and a null String for the locale shall delete the entries for all locales. If a Client attempts to write a locale that is either syntactically invalid or not supported, the Server"
    },
    {
      "Id": "3ccdc860-f198-44ba-9bbd-87e16450754d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.1 Description\n---\n",
      "Content": "Server returns Bad_LocaleNotSupported. The Write behaviour for Value Attributes with a LocalizedText DataType is Server specific but it is recommended to follow the same rules."
    },
    {
      "Id": "3049beb5-eb41-41ba-b57c-4ffaf8d0c15d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4 Write\n---\n",
      "Content": "5.11.4.2 Parameters"
    },
    {
      "Id": "3896012f-2371-4115-9ca9-c0f43ca74332",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.2 Parameters\n---\n",
      "Content": "[Table 53](/\u00A7_Ref74470619) defines the parameters for the Service.\nTable 53- Write Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nnodesToWrite []\nWriteValue\nList of Nodes and their Attributes to write. This structure is defined in-line with the following indented items.\nnodeId\nNodeId\nNodeId of the Node that contains the Attributes.\nattributeId\nIntegerId\nId of the Attribute. This shall be a valid Attribute id. The IntegerId is defined in[7.19](/\u00A7_Ref128929614). The IntegerIds for the Attributes are defined in[OPC 10000-6](/\u00A7UAPart6).\nindexRange\nNumericRange\nThis parameter is used to identify a single element of an array, or a single range of indexes for arrays. The array in this context includes String and ByteString. The first element is identified by index 0 (zero). The NumericRange type is defined in[7.27](/\u00A7_Ref129174867).\nThis parameter is not used if the specified Attribute is not an array. However, if the specified Attribute is an array and this parameter is not used, then all elements are to be included in the range. The parameter is null or empty if not used.\nA Server shall return a Bad_WriteNotSupported error if an indexRange is provided and writing of indexRange is not possible for the Node.\nvalue\nDataValue\nThe Node\u0027s Attribute value (see[7.11](/\u00A7_Ref127334314) for DataValue definition).\nIf the indexRange parameter is specified then the Value"
    },
    {
      "Id": "417dfee5-1fb7-476a-a6f0-3d774b2c470a",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.2 Parameters\n---\n",
      "Content": "Value shall be an array even if only one element is being written.\nIf the SourceTimestamp or the ServerTimestamp is specified, the Server shall use these values. The Server returns a Bad_WriteNotSupported error if it does not support writing of timestamps.\nA Server shall return a Bad_TypeMismatch error if the data type of the written value is not the same type or subtype of the Attribute\u0027s DataType. Based on the DataType hierarchy, subtypes of the Attribute DataType shall be accepted by the Server. Servers may reject subtypes defined in newer specification versions than supported by the Server with Bad_TypeMismatch. For the Value Attribute the DataType is defined through the DataType Attribute. A ByteString is structurally the same as a one dimensional array of Byte. A Server shall accept a ByteString if an array of Byte is expected.\nSimple DataTypes(see[OPC 10000-3](/\u00A7UAPart3)) use the same representation on the wire as their super types and therefore writing a value of a simple DataType cannot be distinguished from writing a value of its super type. The Server shall assume that by receiving the correct wire representation for a simple DataType the correct type was chosen. Servers are allowed to impose additional data validations on the value independent of the encoding (e.g. having an image in GIF format in a ByteString). In this case the Server shall return a Bad_TypeMismatch error if the validation fails.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of results for the Nodes to write (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the nodesToWrite"
    },
    {
      "Id": "eb9e0cd0-0385-4b4a-bc62-b249d76b8b11",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.2 Parameters\n---\n",
      "Content": "nodesToWrite request parameter. There is one entry in this list for each Node contained in the nodesToWrite parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the Nodes to write (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the nodesToWrite request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "c7c3a5ef-33c5-4ec6-a702-4b4ebb763b6f",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4 Write\n---\n",
      "Content": "5.11.4.3 Service results"
    },
    {
      "Id": "4e146c96-edc3-4ef7-81f0-c5aefa9889a2",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.3 Service results\n---\n",
      "Content": "[Table 54](/\u00A7_Ref89583872) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 54- Write Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "cafb9c4a-1d80-4d88-8c7e-6f80882fbfc2",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4 Write\n---\n",
      "Content": "5.11.4.4 StatusCodes"
    },
    {
      "Id": "f5162125-85b0-432a-a841-9187f6c4dfcc",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.4 StatusCodes\n---\n",
      "Content": "[Table 55](/\u00A7_Ref74380751) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 55- Write Operation Level Result Codes\nSymbolic Id\nDescription\nGood_CompletesAsynchronously\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThe value was successfully written to an intermediate system but the Server does not know if the data source was updated properly.\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_AttributeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nIt is also used if writing of IndexRange is supported in general for a Node but the passed IndexRange cannot be written by the Server.\nBad_IndexRangeNoData\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeDataMismatch\nThe data to be written does not match the IndexRange.\nBad_WriteNotSupported\nThe requested write operation is not supported.\nIf a Client attempts to write any value, status code, timestamp combination and the Server does not support the requested combination (which could be a single quantity such as just timestamp); than the Server shall not perform any write on this Node and shall return this StatusCode for this Node"
    },
    {
      "Id": "56613bcb-3f1e-4ce2-a385-94993a4b76f0",
      "Header": "Document: Part 4 - Services\nSection: 5.11.4.4 StatusCodes\n---\n",
      "Content": "StatusCode for this Node. It is also used if writing of IndexRanges is not supported for a Node.\nBad_NotWritable\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThe current user does not have permission to write the attribute.\nBad_OutOfRange\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nIf a Client attempts to write a value outside the valid range like a value not contained in the enumeration data type of the Node, the Server shall return this StatusCode for this Node.\nThis result code can be returned for any value that has the right DataType but does not comply with the restrictions defined by the Server implementation e.g. if a written String contains unsupported characters.\nBad_TypeMismatch\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_DataEncodingUnsupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NoCommunication\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_LocaleNotSupported\nThe locale in the requested write operation is not supported."
    },
    {
      "Id": "9f8f0e10-1a64-42f1-9e4e-f53c28857fc7",
      "Header": "Document: Part 4 - Services\nSection: 5.11 Attribute Service Set\n---\n",
      "Content": "5.11.5 HistoryUpdate"
    },
    {
      "Id": "b1213810-a5a2-491a-be77-816aef2ff3da",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5 HistoryUpdate\n---\n",
      "Content": "5.11.5.1 Description"
    },
    {
      "Id": "757eab20-9e24-4340-9a2d-3f95fecb82e8",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5.1 Description\n---\n",
      "Content": "This Service is used to update historical values or Events of one or more Nodes. Several request parameters indicate how the Server is to update the historical value or Event. Valid actions are Insert, Replace or Delete."
    },
    {
      "Id": "5f63a7f3-3434-4383-bbc6-d1bdb1d3947d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5 HistoryUpdate\n---\n",
      "Content": "5.11.5.2 Parameters"
    },
    {
      "Id": "7285d116-c548-4a1d-9edc-37a2370a1964",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5.2 Parameters\n---\n",
      "Content": "[Table 56](/\u00A7_Ref94948365) defines the parameters for the Service.\nTable 56- HistoryUpdate Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nhistoryUpdateDetails []\nExtensible Parameter\nHistoryUpdate\nDetails\nThe details defined for this update. The HistoryUpdateDetails parameter type is an extensible parameter type formally defined in[OPC 10000-11](/\u00A7UAPart11). It specifies the types of history updates that can be performed. The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nHistoryUpdate Result\nList of update results for the history update details. The size and order of the list matches the size and order of the details element of the historyUpdateDetails parameter specified in the request. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the update of the Node(see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\noperationResults []\nStatusCode\nList of StatusCodes for the operations to be performed on a Node. The size and order of the list matches the size and order of any list defined by the details element being reported by this result entry.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the operations to be performed on a Node(see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo"
    },
    {
      "Id": "2b0298d9-e018-4afb-9277-8175dd094197",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5.2 Parameters\n---\n",
      "Content": "for DiagnosticInfo definition). The size and order of the list matches the size and order of any list defined by the details element being reported by this results entry. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the history update details. The size and order of the list matches the size and order of the details element of the historyUpdateDetails parameter specified in the request. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "a952ecdb-162c-43c3-b116-b7450eeb71d5",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5 HistoryUpdate\n---\n",
      "Content": "5.11.5.3 Service results"
    },
    {
      "Id": "25a89db8-7e72-4a82-a184-ebef68e5dfe8",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5.3 Service results\n---\n",
      "Content": "[Table 57](/\u00A7_Ref94948366) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 57- HistoryUpdate Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "d34ac389-642e-4acc-93f5-9474f2a7612d",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5 HistoryUpdate\n---\n",
      "Content": "5.11.5.4 StatusCodes"
    },
    {
      "Id": "94e5cac3-7a4d-4947-aaf7-3431d51b40c0",
      "Header": "Document: Part 4 - Services\nSection: 5.11.5.4 StatusCodes\n---\n",
      "Content": "[Table 58](/\u00A7_Ref94948367) defines values for the statusCode and operationResults parameters that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591). History access specific StatusCodes are defined in[OPC 10000-11](/\u00A7UAPart11).\nTable 58- HistoryUpdate Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NotWritable\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_HistoryOperationInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_HistoryOperationUnsupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThe current user does not have permission to update the history."
    },
    {
      "Id": "7d7c7139-bbe7-4e85-b646-0d42d71b0033",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.12 Method Service Set"
    },
    {
      "Id": "a5006b99-70b3-4607-8c83-1da7c0bd9c1d",
      "Header": "Document: Part 4 - Services\nSection: 5.12 Method Service Set\n---\n",
      "Content": "5.12.1 Overview"
    },
    {
      "Id": "bef1f0f7-66b9-46c9-adb1-ea34ae41c9ab",
      "Header": "Document: Part 4 - Services\nSection: 5.12.1 Overview\n---\n",
      "Content": "Methods represent the function calls of Objects. They are defined in[OPC 10000-3](/\u00A7UAPart3). Methods are invoked and return only after completion (successful or unsuccessful). Execution times for Methods may vary, depending on the function that they perform.\nThe Method Service Set defines the means to invoke Methods. A Method shall be a component of an Object. Discovery is provided through the Browse and Query Services. Clients discover the Methods supported by a Server by browsing for the owning Objects References that identify their supported Methods.\nBecause Methods may control some aspect of plant operations, Method invocation may depend on environmental or other conditions. This may be especially true when attempting to re-invoke a Method immediately after it has completed execution. Conditions that are required to invoke the Method might not yet have returned to the state that permits the Method to start again."
    },
    {
      "Id": "08f2e079-4d35-40ff-8c86-3aa62d9cfc0d",
      "Header": "Document: Part 4 - Services\nSection: 5.12 Method Service Set\n---\n",
      "Content": "5.12.2 Call"
    },
    {
      "Id": "8d026778-cce3-4cc8-8cd1-017ab681d502",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2 Call\n---\n",
      "Content": "5.12.2.1 Description"
    },
    {
      "Id": "20178885-ab36-4615-a4ff-c942e7d9b19e",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.1 Description\n---\n",
      "Content": "This Service is used to call (invoke) a list of Methods.\nThis Service provides for passing input and output arguments to/from a Method. These arguments are defined by Properties of the Method.\nIf the Method is invoked in the context of a Session and the Session is terminated, the results of the Method\u0027s execution cannot be returned to the Client and are discarded. This is independent of the task actually performed at the Server.\nThe order the operations are processed in the Server is not defined and depends on the different tasks and the internal Server logic. If a Method is contained in more than one operation, the order of the processing is undefined. If a Client requires sequential processing the Client needs separate Service calls."
    },
    {
      "Id": "3f5dafbe-c855-4fc7-9c0d-06d3d39080b1",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2 Call\n---\n",
      "Content": "5.12.2.2 Parameters"
    },
    {
      "Id": "014c2369-f47a-4ea8-9ef1-75304c15c6c2",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.2 Parameters\n---\n",
      "Content": "[Table 59](/\u00A7_Ref80166068) defines the parameters for the Service.\nTable 59- Call Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nmethodsToCall []\nCallMethodRequest\nList of Methods to call. This structure is defined in-line with the following indented items.\nobjectId\nNodeId\nThe NodeId shall be that of the Object or ObjectType on which the Method is invoked.\nIn case of an Object, the Object or the ObjectType of the Object or a super type of that ObjectType shall be the source of a HasComponent Reference(or subtype of HasComponent Reference) to the Method specified in methodId.\nIn case of an ObjectType, the ObjectType shall be the source of a HasComponent Reference(or subtype of HasComponent Reference) to the Method specified in methodId. In this case the Method shall not have a ModellingRule.\nSee[OPC 10000-3](/\u00A7UAPart3) for a description of Objects and their Methods.\nmethodId\nNodeId\nNodeId of the Method to invoke.\nIf the objectId is the NodeId of an Object, the methodId is either the NodeId of the Method that is a component of the Object instance or the NodeId of the Method in the ObjectType that defines the Method.\nIndependent of the methodId parameter, the RolePermissions are always verified with the Method Node that is the target of a HasComponent from the Node defined by objectId.\ninputArguments []\nBaseDataType\nList of input argument values. An empty list indicates that there are no input arguments. The size and order of this list matches the size and order of the input arguments defined by the input InputArguments Property of the Method."
    },
    {
      "Id": "2cf03631-5678-4178-944a-4bb598e8aa21",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.2 Parameters\n---\n",
      "Content": "of the Method.\nThe name, a description and the data type of each argument are defined by the Argument structure in each element of the method\u0027s InputArguments Property.\nFewer arguments than the total number of input arguments defined may be passed by the Client when optional input arguments are defined. A Method may define input arguments as optional by including HasOptionalInputArgumentDescription references to argument metadata. The InputArguments Property and the HasOptionalInputArgumentDescription ReferenceType are defined in[OPC 10000-3](/\u00A7UAPart3).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nCallMethodResult\nResult for the Method calls. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode of the Method executed in the Server. This StatusCode is set to the Bad_InvalidArgument StatusCode if at least one input argument broke a constraint (e.g. wrong data type, value out of range).\nThis StatusCode is set to a bad StatusCode if the Method execution failed in the Server, e.g. based on an exception.\nIf the Method execution fails but the outputArguments provide additional information like an application specific error code, the Method should return a StatusCode with Severity Uncertain.\ninputArgumentResults []\nStatusCode\nList of StatusCodes corresponding to the inputArguments.\nThis list is empty unless the operation level result is Bad_InvalidArgument.\nIf this list is populated, it has the same length as the inputArguments list.\ninputArgumentDiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information corresponding to the inputArguments"
    },
    {
      "Id": "2468786e-9aa0-43fc-879a-8240bfe6b7ab",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.2 Parameters\n---\n",
      "Content": "inputArguments. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request.\noutputArguments []\nBaseDataType\nList of output argument values. An empty list indicates that there are no output arguments. The size and order of this list matches the size and order of the output arguments defined by the OutputArguments Property of the Method.\nThe name, a description and the data type of each argument are defined by the Argument structure in each element of the methods OutputArguments Property.\nThe list shall be empty if the statusCode Severity is Bad.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the statusCode of the results. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "92e66e9c-745d-460c-9e77-6ac7c7e39985",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2 Call\n---\n",
      "Content": "5.12.2.3 Service results"
    },
    {
      "Id": "7666d71f-2628-4e30-9170-4dafb675f3fd",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.3 Service results\n---\n",
      "Content": "[Table 60](/\u00A7_Ref80166070) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 60- Call Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "132cebef-24b7-4d82-81c3-d7021f94d025",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2 Call\n---\n",
      "Content": "5.12.2.4 StatusCodes"
    },
    {
      "Id": "c0d94e0c-0acd-4eac-a3d6-a1e4416f9974",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.4 StatusCodes\n---\n",
      "Content": "[Table 61](/\u00A7_Ref287699404) defines values for the statusCode parameter and[Table 62](/\u00A7_Ref469951587) defines values for the inputArgumentResults parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nServer vendors or OPC UA companion specifications may reuse existing StatusCodes for application specific error information. This is valid as long as the canonical description of the StatusCode does not have a different meaning than the application specific description. To eliminate any vagueness, the Server should include the application specific description in the DiagnosticInfo.\nGood StatusCodes with sub-status shall not be used as statusCode since many programming language bindings would cause such codes to throw an exception.\nTable 61- Call Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUsed to indicate that the specified objectId is not an Object or ObjectType.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUsed to indicate that the specified objectId refers to a node that does not exist in the Server address space.\nBad_NotExecutable\nThe executable Attribute does not allow the execution of the Method.\nBad_ArgumentsMissing\nThe Client did not specify all of the non-optional input arguments for the Method.\nBad_TooManyArguments\nThe Client specified more input arguments than defined for the Method.\nBad_InvalidArgument\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nUsed to indicate in the operation level results that one or more of the input arguments are invalid. The inputArgumentResults"
    },
    {
      "Id": "b20ab821-7734-44e5-8e04-e41183b5fad6",
      "Header": "Document: Part 4 - Services\nSection: 5.12.2.4 StatusCodes\n---\n",
      "Content": "inputArgumentResults contain the specific status code for each invalid argument.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SecurityModeInsufficient\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_MethodInvalid\nThe method id does not refer to a Method for the specified Object.\nBad_NoCommunication\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NotSupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe Method is not supported for the Object instance.\nUncertain\nThe Method execution fails but the outputArguments provide additional information like an application specific error code.\n\nTable 62- Call Input Argument Result Codes\nSymbolic Id\nDescription\nBad_OutOfRange\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUsed to indicate that an input argument is outside the acceptable range.\nBad_TypeMismatch\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nUsed to indicate that an input argument does not have the correct data type.\nA ByteString is structurally the same as a one dimensional array of Byte. A Server shall accept a ByteString if an array of Byte is expected.\nBad_DecodingError\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nUsed to indicate that an input argument with a Structure DataType cannot be decoded."
    },
    {
      "Id": "acc222da-b3b8-4d3f-82b8-b314faf0dbcd",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.13 MonitoredItem Service Set"
    },
    {
      "Id": "64537a0e-6843-4f19-b54b-b5361ebf10c1",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.1 MonitoredItem model"
    },
    {
      "Id": "f5d92cbf-d7f1-47b7-8465-01fbf4b76834",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.1 Overview"
    },
    {
      "Id": "4b3b7bec-e58e-4eb9-808c-50cbdb6e8b82",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.1 Overview\n---\n",
      "Content": "Clients define MonitoredItems to subscribe to data and Events. Each MonitoredItem identifies the item to be monitored and the Subscription to use to send Notifications. The item to be monitored may be any Node Attribute.\nNotifications are data structures that describe the occurrence of data changes and Events. They are packaged into NotificationMessages for transfer to the Client. The Subscription periodically sends NotificationMessages at a user-specified publishing interval, and the cycle during which these messages are sent is called a publishing cycle.\nFour primary parameters are defined for MonitoredItems that tell the Server how the item is to be sampled, evaluated and reported. These parameters are the sampling interval, the monitoring mode, the filter and the queue parameter.[Figure 15](/\u00A7_Ref100646801) illustrates these concepts."
    },
    {
      "Id": "f9289067-8835-4bf3-8ca6-b4c9972943fd",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.1 Overview\nCaption: Figure 15 - MonitoredItem model\n---\n",
      "Content": "[image018.png](images/image018.png)"
    },
    {
      "Id": "0a7bb84b-2658-451d-8fb0-1bb6a7ab225c",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.1 Overview\n---\n",
      "Content": "Figure 15 - MonitoredItem model\nAttributes, other than the Value Attribute, are only monitored for a change in value. The filter is not used for these Attributes. Any change in value for these Attributes causes a Notification to be generated.\nThe Value Attribute is used when monitoring Variables. Variable values are monitored for a change in value or a change in their status. The filters defined in this document (see[7.22.2](/\u00A7_Ref134419289)) and in[OPC 10000-8](/\u00A7UAPart8) are used to determine if the value change is large enough to cause a Notification to be generated for the Variable.\nObjects and views can be used to monitor Events. Events are only available from Nodes where the SubscribeToEvents bit of the EventNotifier Attribute is set. The filter defined in this document (see[7.22.3](/\u00A7_Ref129512350)) is used to determine if an Event received from the Node is sent to the Client. The filter also allows selecting fields of the EventType that will be contained in the Event such as EventId, EventType, SourceNode, Time and Description.\n[OPC 10000-3](/\u00A7UAPart3) describes the Event model and the base EventTypes.\nThe Properties of the base EventTypes and the representation of the base EventTypes in the AddressSpace are specified in[OPC 10000-5](/\u00A7UAPart5)."
    },
    {
      "Id": "6ebf92c4-cfe1-4da9-9620-c4b907462955",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.2 Sampling interval"
    },
    {
      "Id": "e3797b8d-7600-4c98-8642-3a7de438f104",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.2 Sampling interval\n---\n",
      "Content": "Each MonitoredItem created by the Client is assigned a sampling interval that is either inherited from the publishing interval of the Subscription or that is defined specifically to override that rate. A negative number indicates that the default sampling interval defined by the publishing interval of the Subscription is requested. The sampling interval indicates the fastest rate at which the Server should sample its underlying source for data changes.\nA Client shall define a sampling interval of 0 if it subscribes for Events.\nThe assigned sampling interval defines a \u0022best effort\u0022 cyclic rate that the Server uses to sample the item from its source. \u0022Best effort\u0022 in this context means that the Server does its best to sample at this rate. Sampling at rates faster than this rate is acceptable, but not necessary to meet the needs of the Client. How the Server deals with the sampling rate and how often it actually polls its data source internally is a Server implementation detail. However, the time between values returned to the Client shall be greater or equal to the sampling interval.\nThe Client may also specify 0 for the sampling interval, which indicates that the Server should use the fastest practical rate. It is expected that Servers will support only a limited set of sampling intervals to optimize their operation. If the exact interval requested by the Client is not supported by the Server, then the Server assigns to the MonitoredItem the most appropriate interval as determined by the Server. It returns this assigned interval to the Client. The ServerCapabilities Object defined in[OPC 10000-5](/\u00A7UAPart5) identifies the minimum sampling interval supported by the Server. The optional MinimumSamplingInterval Attribute defined in[OPC 10000-3](/\u00A7UAPart3) identifies the minimum sampling interval supported for a Variable. If a Server uses a fixed set of sampling intervals, the intervals can be exposed using the"
    },
    {
      "Id": "556ad85c-bcc4-457c-a04a-d9be0fc21e94",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.2 Sampling interval\n---\n",
      "Content": "SamplingIntervalDiagnosticsArray in the ServerDiagnostics Object defined in[OPC 10000-5](/\u00A7UAPart5).\nThe Server may support data that is collected based on a sampling model or generated based on an exception-based model. The fastest supported sampling interval may be equal to 0, which indicates that the data item is exception-based rather than being sampled at some period. An exception-based model means that the underlying system does not require sampling and reports data changes.\nThe Client may use the revised sampling interval values as a hint for setting the publishing interval as well as the keep-alive count of a Subscription. If, for example, the smallest revised sampling interval of the MonitoredItems is 5 seconds, then the time before a keep-alive is sent should be longer than 5 seconds.\nNote that, in many cases, the OPC UA Server provides access to a decoupled system and therefore has no knowledge of the data update logic. In this case, even though the OPC UA Server samples at the negotiated rate, the data might be updated by the underlying system at a much slower rate. In this case, changes can only be detected at this slower rate.\nIf the behaviour by which the underlying system updates the item is known, it will be available via the MinimumSamplingInterval Attribute defined in[OPC 10000-3](/\u00A7UAPart3). If the Server specifies a value for the MinimumSamplingInterval Attribute it shall always return a revisedSamplingInterval that is equal or higher than the MinimumSamplingInterval if the Client subscribes to the Value Attribute.\nClients should also be aware that the sampling by the OPC UA Server and the update cycle of the underlying system are usually not synchronized. This can cause additional delays in change detection, as illustrated in"
    },
    {
      "Id": "a563756c-20d7-4106-aa2c-07f3c07dd04e",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.2 Sampling interval\n---\n",
      "Content": "[Figure 16](/\u00A7_Ref123976993)."
    },
    {
      "Id": "d3d4f35e-0f75-4e31-bf4d-225c7df29e87",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.2 Sampling interval\nCaption: Figure 16 - Typical delay in change detection\n---\n",
      "Content": "[image019.png](images/image019.png)"
    },
    {
      "Id": "567ea5f4-943a-4431-a460-d4153caee306",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.2 Sampling interval\n---\n",
      "Content": "Figure 16 - Typical delay in change detection"
    },
    {
      "Id": "325cbc28-ffa1-43a6-989f-3b5bb82399a7",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.3 Monitoring mode"
    },
    {
      "Id": "1a1b8016-cac2-4fea-befd-358fadb6530c",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.3 Monitoring mode\n---\n",
      "Content": "The monitoring mode parameter is used to enable and disable the sampling of a MonitoredItem, and also to provide for independently enabling and disabling the reporting of Notifications. This capability allows a MonitoredItem to be configured to sample, sample and report, or neither. Disabling sampling does not change the values of any of the other MonitoredItem parameter, such as its sampling interval.\nWhen a MonitoredItem is enabled (i.e. when the MonitoringMode is changed from DISABLED to SAMPLING or REPORTING) or it is created in the enabled state, the Server shall report the first sample as soon as possible and the time of this sample becomes the starting point for the next sampling interval."
    },
    {
      "Id": "fd10bb98-36ca-45b6-b597-a74e07b136d4",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.4 Filter"
    },
    {
      "Id": "34eadd9c-1536-4b84-aaae-0ef2a8aa6871",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.4 Filter\n---\n",
      "Content": "Each time a MonitoredItem is sampled, the Server evaluates the sample using the filter defined for the MonitoredItem. The filter parameter defines the criteria that the Server uses to determine if a Notification should be generated for the sample. The type of filter is dependent on the type of the item that is being monitored. For example, the DataChangeFilter and the AggregateFilter are used when monitoring Variable Values and the EventFilter is used when monitoring Events. Sampling and evaluation, including the use of filters, are described in this document. Additional filters may be defined in other parts of OPC 10000."
    },
    {
      "Id": "687b8f41-8c86-473f-a9ea-367a7a9b6287",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.5 Queue parameters"
    },
    {
      "Id": "68b85178-ba25-4eeb-8e33-f0e5f81dfa07",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.5 Queue parameters\n---\n",
      "Content": "If the sample passes the filter criteria, a Notification is generated and queued for transfer by the Subscription. The size of the queue is defined when the MonitoredItem is created. When the queue is full and a new Notification is received, the Server either discards the oldest Notification and queues the new one, or it replaces the last value added to the queue with the new one. The MonitoredItem is configured for one of these discard policies when the MonitoredItem is created. If a Notification is discarded for a DataValue and the size of the queue is larger than one, then the Overflow bit (flag) in the InfoBits portion of the DataValue statusCode is set. If discardOldest is TRUE, the oldest value gets deleted from the queue and the next value in the queue gets the flag set. If discardOldest is FALSE, the last value added to the queue gets replaced with the new value. The new value gets the flag set to indicate the lost values in the next NotificationMessage.[Figure 17](/\u00A7_Ref328986805) illustrates the queue overflow handling."
    },
    {
      "Id": "f4aa92c5-e3cb-44e7-8ee4-8fc488d0ffbb",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.5 Queue parameters\nCaption: Figure 17 - Queue overflow handling\n---\n",
      "Content": "[image020.png](images/image020.png)"
    },
    {
      "Id": "d0bf6193-9c9e-4ab5-9a41-43681340bc2a",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.5 Queue parameters\n---\n",
      "Content": "Figure 17 - Queue overflow handling\nIf the queue size is one, the queue becomes a buffer that always contains the newest Notification. In this case, if the sampling interval of the MonitoredItem is faster than the publishing interval of the Subscription, the MonitoredItem will be over sampling and the Client will always receive the most up-to-date value. The discard policy is ignored if the queue size is one.\nOn the other hand, the Client may want to subscribe to a continuous stream of Notifications without any gaps, but does not want them reported at the sampling interval. In this case, the MonitoredItem would be created with a queue size large enough to hold all Notifications generated between two consecutive publishing cycles. Then, at each publishing cycle, the Subscription would send all Notifications queued for the MonitoredItem to the Client. The Server shall return Notifications for any particular item in the same order they are in the queue.\nThe Server may be sampling at a faster rate than the sampling interval to support other Clients; the Client should only expect values at the negotiated sampling interval. The Server may deliver fewer values than dictated by the sampling interval, based on the filter and implementation constraints. If a DataChangeFilter is configured for a MonitoredItem, it is always applied to the newest value in the queue compared to the current sample.\nIf, for example, the AbsoluteDeadband in the DataChangeFilter is \u002210\u0022, the queue could consist of values in the following order:\n100\n111\n100\n89\n100\nQueuing of data may result in unexpected behaviour when using a Deadband filter and the number of encountered changes is larger than the number of values that can be maintained. The new first value in the queue may not exceed the Deadband limit of the previous value sent to the Client.\nThe queue size is the maximum value supported by the Server"
    },
    {
      "Id": "be35cfb7-09bf-41b7-a1e7-cea5e3c2e098",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.5 Queue parameters\n---\n",
      "Content": "Server when monitoring Events. In this case, the Server is responsible for the Event buffer. If Events are lost, an Event of the type EventQueueOverflowEventType is placed in the queue. This Event is generated when the first Event is discarded on a MonitoredItem subscribing for Events. It is put into the Queue of the MonitoredItem in addition to the size of the Queue defined for this MonitoredItem without discarding any other Event. If discardOldest is set to TRUE it is put at the beginning of the queue and is never discarded, otherwise at the end. An aggregating Server shall not pass on such an Event. It shall be handled like other connection error scenarios using the SystemStatusChangeEventType with the ServerState COMMUNICATION_FAULT.\nFor any fatal error during event processing like out of memory situations, the Server should queue an SystemStatusChangeEventType event with the ServerState COMMUNICATION_FAULT and the source set to the Server Object. If there are no resources available at the time the error happens, the Server should flag an error internally until there are resources to further process Events for the MonitoredItem."
    },
    {
      "Id": "6e26f0fd-abba-4fb0-bd71-4e46da1cdb40",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1 MonitoredItem model\n---\n",
      "Content": "5.13.1.6 Triggering model"
    },
    {
      "Id": "2d03e646-82aa-45e3-8a0b-7030ff212ff4",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.6 Triggering model\n---\n",
      "Content": "The MonitoredItems Service allows the addition of items that are reported only when some other item (the triggering item) triggers. This is done by creating links between the triggered items and the items to report. The monitoring mode of the items to report is set to sampling-only so that it will sample and queue Notifications without reporting them.[Figure 18](/\u00A7_Ref106785562) illustrates this concept."
    },
    {
      "Id": "41ceaeb2-a06d-47af-acc6-0d9a10e080ba",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.6 Triggering model\nCaption: Figure 18 - Triggering model\n---\n",
      "Content": "[image021.png](images/image021.png)"
    },
    {
      "Id": "7c3b3c63-aed3-424b-a909-95c4b88eb8b7",
      "Header": "Document: Part 4 - Services\nSection: 5.13.1.6 Triggering model\n---\n",
      "Content": "Figure 18 - Triggering model\nThe triggering mechanism is a useful feature that allows Clients to reduce the data volume on the wire by configuring some items to sample frequently but only report when some other Event happens.\nThe following triggering behaviours are specified.\nIf the monitoring mode of the triggering item is SAMPLING, then it is not reported when the triggering item triggers the items to report.\nIf the monitoring mode of the triggering item is REPORTING, then it is reported when the triggering item triggers the items to report.\nIf the monitoring mode of the triggering item is DISABLED, then the triggering item does not trigger the items to report.\nIf the monitoring mode of the item to report is SAMPLING, then it is reported when the triggering item triggers the items to report.\nIf the monitoring mode of the item to report is REPORTING, this effectively causes the triggering item to be ignored. All notifications of the items to report are sent after the publishing interval expires.\nIf the monitoring mode of the item to report is DISABLED, then there will be no sampling of the item to report and therefore no notifications to report.\nThe first trigger shall occur when the first notification is queued for the triggering item after the creation of the link.\nClients create and delete triggering links between a triggering item and a set of items to report. If the MonitoredItem that represents an item to report is deleted before its associated triggering link is deleted, the triggering link is also deleted, but the triggering item is otherwise unaffected.\nDeletion of a MonitoredItem should not be confused with the removal of the Attribute that it monitors. If the Node that contains the Attribute being monitored is deleted, the MonitoredItem generates a Notification with a StatusCode Bad_NodeIdUnknown that indicates the deletion, but the MonitoredItem is not deleted."
    },
    {
      "Id": "87440dac-4d67-4525-b6d1-fcb399598ca2",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.2 CreateMonitoredItems"
    },
    {
      "Id": "453343da-9288-427f-afb7-245709f34c5c",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2 CreateMonitoredItems\n---\n",
      "Content": "5.13.2.1 Description"
    },
    {
      "Id": "6f50d05f-15e3-4066-ad8f-d5ec30f5fba9",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.1 Description\n---\n",
      "Content": "This Service is used to create and add one or more MonitoredItems to a Subscription. A MonitoredItem is deleted automatically by the Server when the Subscription is deleted. Deleting a MonitoredItem causes its entire set of triggered item links to be deleted, but has no effect on the MonitoredItems referenced by the triggered items.\nCalling the CreateMonitoredItems Service repetitively to add a small number of MonitoredItems each time may adversely affect the performance of the Server. Instead, Clients should add a complete set of MonitoredItems to a Subscription whenever possible.\nWhen a MonitoredItem is added, the Server performs initialization processing for it. The initialization processing is defined by the Notification type of the item being monitored. Notification types are specified in this document and in the Access Type Specification parts of OPC 10000, such as[OPC 10000-8](/\u00A7UAPart8). See[OPC 10000-1](/\u00A7UAPart1) for a description of the Access Type Parts. Clients may receive Notifications for added MonitoredItems before the CreateMonitoredItems Response is received. Clients set the ClientHandle for the MonitoredItem in the CreateMonitoredItems Request and are therefore able to process the Notifications received before the CreateMonitoredItems Response is received.\nWhen a user adds a monitored item that the user is denied read access to, the add operation for the item shall succeed and the bad status Bad_NotReadable or Bad_UserAccessDenied shall be returned in the Publish response. This is the same behaviour for the case where the access rights are changed after the call to CreateMonitoredItems. If the access rights change to read rights, the Server shall start sending data for the MonitoredItem. The same procedure shall be applied for an IndexRange"
    },
    {
      "Id": "aec9beb4-87ea-4ed4-9047-c8d32b06b3d7",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.1 Description\n---\n",
      "Content": "IndexRange that does not deliver data for the current value but could deliver data in the future. Servers should return all other errors defined in[5.13.2.4](/\u00A7_Ref204249460) as CreateMonitoredItems results but all possible errors are allowed to be returned in the Publish response.\nMonitored Nodes can be removed from the AddressSpace after the creation of a MonitoredItem. This does not affect the validity of the MonitoredItem but a Bad_NodeIdUnknown shall be returned in the Publish response. It is possible that the MonitoredItem becomes valid again if the Node is added again to the AddressSpace and the MonitoredItem still exists.\nIf a NodeId is known to be valid by a Server but the corresponding Node Attributes are currently not available, the Server may allow the creation of a MonitoredItem and return an appropriate Bad StatusCode in the Publish response.\nThe return diagnostic info setting in the request header of the CreateMonitoredItems or the last ModifyMonitoredItems Service is applied to the Monitored Items and is used as the diagnostic information settings when sending Notifications in the Publish response.\nIllegal request values for parameters that can be revised do not generate errors. Instead the Server will choose default values and indicate them in the corresponding revised parameter.\nIt is strongly recommended by OPC UA that a Client reuses a Subscription after a short network interruption by activating the existing Session on a new SecureChannel as described in[6.7](/\u00A7_Ref303107746). If a Client called CreateMonitoredItems during the network interruption and the call succeeded in the Server but did not return to the Client, then the Client does not know if the call succeeded. The Client may receive data changes for these monitored items but is not able to remove them since it does not know the Server"
    },
    {
      "Id": "9d7b84e1-ee98-458c-868d-755d399f6b7d",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.1 Description\n---\n",
      "Content": "Server handle for each monitored item. There is also no way for the Client to detect if the create succeeded. To delete and recreate the Subscription is also not an option since there may be several monitored items operating normally that should not be interrupted. To resolve this situation, the Server Object provides a Method GetMonitoredItems that returns the list of Server and client handles for the monitored items in a Subscription. This Method is defined in[OPC 10000-5](/\u00A7UAPart5). The Server shall verify that the Method is called within the Session context of the Session that owns the Subscription."
    },
    {
      "Id": "747430fa-75bf-44a9-84c4-771b86c367a3",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2 CreateMonitoredItems\n---\n",
      "Content": "5.13.2.2 Parameters"
    },
    {
      "Id": "94c4972d-7267-44c1-b1da-3bfa14b32fc4",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.2 Parameters\n---\n",
      "Content": "[Table 63](/\u00A7_Ref104715274) defines the parameters for the Service.\nTable 63- CreateMonitoredItems Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription that will report Notifications for this MonitoredItem(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\ntimestampsToReturn\nEnum\nTimestamps ToReturn\nAn enumeration that specifies the timestamp Attributes to be transmitted for each MonitoredItem. The TimestampsToReturn enumeration is defined in[7.39](/\u00A7_Ref133134319).\nWhen monitoring Events, this applies only to Event fields that are of type DataValue.\nitemsToCreate []\nMonitoredItem CreateRequest\nA list of MonitoredItems to be created and assigned to the specified Subscription. This structure is defined in-line with the following indented items.\nitemToMonitor\nReadValueId\nIdentifies an item in the AddressSpace to monitor. To monitor for Events, the attributeId element of the ReadValueId structure is the id of the EventNotifier Attribute. The ReadValueId type is defined in[7.28](/\u00A7_Ref133161488).\nmonitoringMode\nEnum\nMonitoringMode\nThe monitoring mode to be set for the MonitoredItem. The MonitoringMode enumeration is defined in[7.23](/\u00A7_Ref187493167).\nrequestedParameters\nMonitoring Parameters\nThe requested monitoring parameters. Servers negotiate the values of these parameters based on the Subscription and the capabilities of the Server. The MonitoringParameters type is defined in"
    },
    {
      "Id": "9244be41-d1ec-4b49-9aaf-99ddfb0432e0",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.2 Parameters\n---\n",
      "Content": "type is defined in[7.21](/\u00A7_Ref161114771).\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nMonitoredItem CreateResult\nList of results for the MonitoredItems to create. The size and order of the list matches the size and order of the itemsToCreate request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the MonitoredItem to create (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\nmonitoredItemId\nIntegerId\nServer-assigned id for the MonitoredItem(see[7.19](/\u00A7_Ref128929614) for IntegerId definition). This id is unique within the Subscription, but might not be unique within the Server or Session. This parameter is present only if the statusCode indicates that the MonitoredItem was successfully created.\nrevisedSampling Interval\nDuration\nThe actual sampling interval that the Server will use.\nThis value is based on a number of factors, including capabilities of the underlying system. The Server shall always return a revisedSamplingInterval that is equal or higher than the requested samplingInterval. If the requested samplingInterval is higher than the maximum sampling interval supported by the Server, the maximum sampling interval is returned.\nrevisedQueueSize\nCounter\nThe actual queue size that the Server will use.\nfilterResult\nExtensible Parameter\nMonitoringFilterResult\nContains any revised parameter values or error results associated with the MonitoringFilter specified in requestedParameters. This parameter may be null if no errors occurred. The MonitoringFilterResult parameter type is an extensible parameter type specified in"
    },
    {
      "Id": "272d95bb-5f4d-44e1-a7ef-8c4bc7c0bd1e",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.2 Parameters\n---\n",
      "Content": "[7.22](/\u00A7_Ref127325541).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the MonitoredItems to create (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the itemsToCreate request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "0f8b2c6a-7229-431a-9ab1-b44333db3e1f",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2 CreateMonitoredItems\n---\n",
      "Content": "5.13.2.3 Service results"
    },
    {
      "Id": "5783087a-a1c5-43a5-97eb-86603caedba7",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.3 Service results\n---\n",
      "Content": "[Table 64](/\u00A7_Ref104715658) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 64- CreateMonitoredItems Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TimestampsToReturnInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "ee41ed01-cecb-4241-8ad8-cd23de4bf5e5",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2 CreateMonitoredItems\n---\n",
      "Content": "5.13.2.4 StatusCodes"
    },
    {
      "Id": "e728b78f-2be4-445f-8859-04d9c6b98843",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.4 StatusCodes\n---\n",
      "Content": "[Table 65](/\u00A7_Ref104715683) defines values for the operation level statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 65- CreateMonitoredItems Operation Level Result Codes\nSymbolic Id\nDescription\nBad_MonitoringModeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_AttributeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeNoData\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nIf the ArrayDimensions have a fixed length that cannot change and no data exists within the range of indexes specified, Bad_IndexRangeNoData is returned in CreateMonitoredItems. Otherwise if the length of the array is dynamic, the Server shall return this status in a Publish response for the MonitoredItem if no data exists within the range.\nBad_DataEncodingInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_MonitoredItemFilterInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_MonitoredItemFilterUnsupported\nSee"
    },
    {
      "Id": "26ad091b-21af-483c-aa04-c0227fd35ab8",
      "Header": "Document: Part 4 - Services\nSection: 5.13.2.4 StatusCodes\n---\n",
      "Content": "See[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_FilterNotAllowed\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_TooManyMonitoredItems\nThe Server has reached its maximum number of monitored items."
    },
    {
      "Id": "87cfeecd-ddc5-4dd9-8ad3-da631517fa5c",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.3 ModifyMonitoredItems"
    },
    {
      "Id": "cd2d1277-3a69-4ec3-83cd-df555c810f3b",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3 ModifyMonitoredItems\n---\n",
      "Content": "5.13.3.1 Description"
    },
    {
      "Id": "8c002801-c794-4b1e-ac98-f4cca7f3fc46",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3.1 Description\n---\n",
      "Content": "This Service is used to modify MonitoredItems of a Subscription. Changes to the MonitoredItem settings shall be applied immediately by the Server. They take effect as soon as practical but not later than twice the new revisedSamplingInterval.\nThe return diagnostic info setting in the request header of the CreateMonitoredItems or the last ModifyMonitoredItems Service is applied to the Monitored Items and is used as the diagnostic information settings when sending Notifications in the Publish response.\nIllegal request values for parameters that can be revised do not generate errors. Instead the Server will choose default values and indicate them in the corresponding revised parameter."
    },
    {
      "Id": "c42dcdf1-9473-47d3-9e75-f6c475c93510",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3 ModifyMonitoredItems\n---\n",
      "Content": "5.13.3.2 Parameters"
    },
    {
      "Id": "fbe344e9-77aa-44a7-b05e-e4beee5d9114",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3.2 Parameters\n---\n",
      "Content": "[Table 66](/\u00A7_Ref104715750) defines the parameters for the Service.\nTable 66- ModifyMonitoredItems Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription used to qualify the monitoredItemId(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\ntimestampsToReturn\nEnum\nTimestamps ToReturn\nAn enumeration that specifies the timestamp Attributes to be transmitted for each MonitoredItem to be modified. The TimestampsToReturn enumeration is defined in[7.39](/\u00A7_Ref133134319). When monitoring Events, this applies only to Event fields that are of type DataValue.\nitemsToModify []\nMonitoredItemModifyRequest\nThe list of MonitoredItems to modify. This structure is defined in-line with the following indented items.\nmonitoredItemId\nIntegerId\nServer-assigned id for the MonitoredItem.\nrequestedParameters\nMonitoring Parameters\nThe requested values for the monitoring parameters. The MonitoringParameters type is defined in[7.21](/\u00A7_Ref161114771).\nIf the number of notifications in the queue exceeds the new queue size, the notifications exceeding the size shall be discarded following the configured discard policy.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nMonitoredItemModifyResult\nList of results for the MonitoredItems to modify. The size and order of the list matches the size and order of the itemsToModify"
    },
    {
      "Id": "939e8a5f-54af-4aa0-98e6-a0ba8b3e2b8b",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3.2 Parameters\n---\n",
      "Content": "itemsToModify request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for the MonitoredItem to be modified (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\nrevisedSampling\nInterval\nDuration\nThe actual sampling interval that the Server will use. The Server returns the value it will actually use for the sampling interval. This value is based on a number of factors, including capabilities of the underlying system.\nThe Server shall always return a revisedSamplingInterval that is equal or higher than the requested samplingInterval. If the requested samplingInterval is higher than the maximum sampling interval supported by the Server, the maximum sampling interval is returned.\nrevisedQueueSize\nCounter\nThe actual queue size that the Server will use.\nfilterResult\nExtensible Parameter\nMonitoringFilter Result\nContains any revised parameter values or error results associated with the MonitoringFilter specified in the request. This parameter may be null if no errors occurred. The MonitoringFilterResult parameter type is an extensible parameter type specified in[7.22](/\u00A7_Ref127325541).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the MonitoredItems to modify (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the itemsToModify request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "fe4006a2-e86a-4747-9a0e-b5670bfa66a0",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3 ModifyMonitoredItems\n---\n",
      "Content": "5.13.3.3 Service results"
    },
    {
      "Id": "7abf604f-ccb9-445a-87f8-d53ac093a819",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3.3 Service results\n---\n",
      "Content": "[Table 67](/\u00A7_Ref89583990) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 67- ModifyMonitoredItems Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TimestampsToReturnInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "2c45c8f1-431d-42cb-8125-cedbc0db9f8f",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3 ModifyMonitoredItems\n---\n",
      "Content": "5.13.3.4 StatusCodes"
    },
    {
      "Id": "9e72f922-c4dd-49dd-a25c-5cf5f083a38c",
      "Header": "Document: Part 4 - Services\nSection: 5.13.3.4 StatusCodes\n---\n",
      "Content": "[Table 68](/\u00A7_Ref89583957) defines values for the operation level statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 68- ModifyMonitoredItems Operation Level Result Codes\nSymbolic Id\nDescription\nBad_MonitoredItemIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_MonitoredItemFilterInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_MonitoredItemFilterUnsupported\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_FilterNotAllowed\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "0a13cc52-ea75-442c-9f65-2814cb6aea4c",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.4 SetMonitoringMode"
    },
    {
      "Id": "a8a574c2-a137-4198-a403-fbb59a1fb090",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4 SetMonitoringMode\n---\n",
      "Content": "5.13.4.1 Description"
    },
    {
      "Id": "5bd4f672-de1d-4bf4-9bd3-b1f6dd8284c2",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4.1 Description\n---\n",
      "Content": "This Service is used to set the monitoring mode for one or more MonitoredItems of a Subscription. Setting the mode to DISABLED causes all queued Notifications to be deleted."
    },
    {
      "Id": "70717cc9-b801-4081-a19a-d449f9533c30",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4 SetMonitoringMode\n---\n",
      "Content": "5.13.4.2 Parameters"
    },
    {
      "Id": "6ddb8062-978c-443e-9adb-14c814c547cc",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4.2 Parameters\n---\n",
      "Content": "[Table 69](/\u00A7_Ref80159433) defines the parameters for the Service.\nTable 69- SetMonitoringMode Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription used to qualify the monitoredItemIds(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\nmonitoringMode\nEnum\nMonitoringMode\nThe monitoring mode to be set for the MonitoredItems. The MonitoringMode enumeration is defined in[7.23](/\u00A7_Ref187493167).\nmonitoredItemIds []\nIntegerId\nList of Server-assigned ids for the MonitoredItems.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the MonitoredItems to enable/disable (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the monitoredItemIds request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the MonitoredItems to enable/disable (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the monitoredItemIds request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "45591fcf-34be-4915-b5d3-ff5f39b73ea2",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4 SetMonitoringMode\n---\n",
      "Content": "5.13.4.3 Service results"
    },
    {
      "Id": "79ff8040-f002-4346-88a3-4825625ebb21",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4.3 Service results\n---\n",
      "Content": "[Table 70](/\u00A7_Ref88280104) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 70- SetMonitoringMode Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_MonitoringModeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "cde80a62-d126-4f34-8cf4-eabc34b9c083",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4 SetMonitoringMode\n---\n",
      "Content": "5.13.4.4 StatusCodes"
    },
    {
      "Id": "ce0be5b1-7d50-497e-82c4-f53fa99e0c5f",
      "Header": "Document: Part 4 - Services\nSection: 5.13.4.4 StatusCodes\n---\n",
      "Content": "[Table 71](/\u00A7_Ref80161899) defines values for the operation level results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 71- SetMonitoringMode Operation Level Result Codes\nSymbolic Id\nDescription\nBad_MonitoredItemIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "3dd58dc6-b7b3-4706-ae6b-6fca0c8fa33c",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.5 SetTriggering"
    },
    {
      "Id": "34f4ee9d-c55f-4ed7-ba60-6a4ca9729ee4",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5 SetTriggering\n---\n",
      "Content": "5.13.5.1 Description"
    },
    {
      "Id": "7b43a624-bfa2-4532-a684-2ba5f8a60066",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5.1 Description\n---\n",
      "Content": "This Service is used to create and delete triggering links for a triggering item. The triggering item and the items to report shall belong to the same Subscription.\nEach triggering link links a triggering item to an item to report. Each link is represented by the MonitoredItem id for the item to report. An error code is returned if this id is invalid.\nSee[5.13.1.6](/\u00A7_Ref288138179) for a description of the triggering model."
    },
    {
      "Id": "363cb211-fe15-42be-833b-b20903a2679e",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5 SetTriggering\n---\n",
      "Content": "5.13.5.2 Parameters"
    },
    {
      "Id": "e901eab9-443d-4db7-81e5-88465b35e9e1",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5.2 Parameters\n---\n",
      "Content": "[Table 72](/\u00A7_Ref106006196) defines the parameters for the Service.\nTable 72- SetTriggering Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription that contains the triggering item and the items to report (see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\ntriggeringItemId\nIntegerId\nServer-assigned id for the MonitoredItem used as the triggering item.\nlinksToAdd []\nIntegerId\nThe list of Server-assigned ids of the items to report that are to be added as triggering links. The list of linksToRemove is processed before the linksToAdd.\nlinksToRemove []\nIntegerId\nThe list of Server-assigned ids of the items to report for the triggering links to be deleted. The list of linksToRemove is processed before the linksToAdd.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\naddResults []\nStatusCode\nList of StatusCodes for the items to add (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the linksToAdd parameter specified in the request.\naddDiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the links to add (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the linksToAdd"
    },
    {
      "Id": "acbe2dd6-dcf4-4bd5-b2fc-77f3a8eae088",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5.2 Parameters\n---\n",
      "Content": "linksToAdd request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request.\nremoveResults []\nStatusCode\nList of StatusCodes for the items to delete. The size and order of the list matches the size and order of the linksToRemove parameter specified in the request.\nremoveDiagnosticInfos []\nDiagnostic Info\nList of diagnostic information for the links to delete. The size and order of the list matches the size and order of the linksToRemove request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "429e251a-e3a6-42bc-89cc-5f5035fdb487",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5 SetTriggering\n---\n",
      "Content": "5.13.5.3 Service results"
    },
    {
      "Id": "b850b9b2-a280-42bc-8f11-bcba354718f2",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5.3 Service results\n---\n",
      "Content": "[Table 73](/\u00A7_Ref106011622) defines the Service results specific to this Service. Common StatusCodes are defined in[7.38](/\u00A7_Ref88280762).\nTable 73- SetTriggering Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_MonitoredItemIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "6c73b392-fa42-42d0-8f6b-b1fcff76658a",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5 SetTriggering\n---\n",
      "Content": "5.13.5.4 StatusCodes"
    },
    {
      "Id": "1131ae19-2bb5-4780-a805-976a6799b6ea",
      "Header": "Document: Part 4 - Services\nSection: 5.13.5.4 StatusCodes\n---\n",
      "Content": "[Table 74](/\u00A7_Ref106011650) defines values for the results parameters that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 74- SetTriggering Operation Level Result Codes\nSymbolic Id\nDescription\nBad_MonitoredItemIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "e2d2486c-5fb9-4fcc-a4d2-a17a06ab285b",
      "Header": "Document: Part 4 - Services\nSection: 5.13 MonitoredItem Service Set\n---\n",
      "Content": "5.13.6 DeleteMonitoredItems"
    },
    {
      "Id": "c30d205a-0339-494d-9d90-bf8d7971d788",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6 DeleteMonitoredItems\n---\n",
      "Content": "5.13.6.1 Description"
    },
    {
      "Id": "f0e9e81a-d509-4699-a528-a65222833759",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6.1 Description\n---\n",
      "Content": "This Service is used to remove one or more MonitoredItems of a Subscription. When a MonitoredItem is deleted, its triggered item links are also deleted.\nSuccessful removal of a MonitoredItem, however, might not remove Notifications for the MonitoredItem that are in the process of being sent by the Subscription. Therefore, Clients may receive Notifications for the MonitoredItem after they have received a positive response that the MonitoredItem has been deleted."
    },
    {
      "Id": "5d24646d-9e81-4ef5-b3f0-05aa8722bde0",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6 DeleteMonitoredItems\n---\n",
      "Content": "5.13.6.2 Parameters"
    },
    {
      "Id": "2075a24b-4d77-43b3-a21a-0c336371b6f2",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6.2 Parameters\n---\n",
      "Content": "[Table 75](/\u00A7_Ref78943893) defines the parameters for the Service.\nTable 75- DeleteMonitoredItems Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription that contains the MonitoredItems to be deleted (see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\nmonitoredItemIds []\nIntegerId\nList of Server-assigned ids for the MonitoredItems to be deleted.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the MonitoredItems to delete (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the monitoredItemIds request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the MonitoredItems to delete (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the monitoredItemIds request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "ef2b156c-c978-4a68-a4a2-8eb26eddc0ae",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6 DeleteMonitoredItems\n---\n",
      "Content": "5.13.6.3 Service results"
    },
    {
      "Id": "249c769c-40b6-4885-a367-d95632b241ac",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6.3 Service results\n---\n",
      "Content": "[Table 76](/\u00A7_Ref88280064) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 76- DeleteMonitoredItems Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "388deba4-459d-4bdc-8df0-2edd1f4d86f7",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6 DeleteMonitoredItems\n---\n",
      "Content": "5.13.6.4 StatusCodes"
    },
    {
      "Id": "84a30eac-1d2e-48a6-b083-d52092a2fb82",
      "Header": "Document: Part 4 - Services\nSection: 5.13.6.4 StatusCodes\n---\n",
      "Content": "[Table 77](/\u00A7_Ref78943877) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 77- DeleteMonitoredItems Operation Level Result Codes\nSymbolic Id\nDescription\nBad_MonitoredItemIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "1c337e9d-e673-4cca-a2d4-04644e2b09fc",
      "Header": "Document: Part 4 - Services\nSection: 5 Service Sets\n---\n",
      "Content": "5.14 Subscription Service Set"
    },
    {
      "Id": "dceb5482-4c0a-47be-b854-a6cabb6e1dab",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.1 Subscription model"
    },
    {
      "Id": "508b850a-f6c3-4c18-9087-81ff2c259fd0",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1 Subscription model\n---\n",
      "Content": "5.14.1.1 Description"
    },
    {
      "Id": "023dd6eb-4c5e-4e25-9891-3a2e6ee60a6b",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.1 Description\n---\n",
      "Content": "Subscriptions are used to report Notifications to the Client. Their general behaviour is summarized below. Their precise behaviour is described in[5.14.1.2](/\u00A7_Ref107033922).\nSubscriptions have a set of MonitoredItems assigned to them by the Client. MonitoredItems generate Notifications that are to be reported to the Client by the Subscription(see[5.13.1](/\u00A7_Ref110831567) for a description of MonitoredItems).\nSubscriptions have a publishing interval. The publishing interval of a Subscription defines the cyclic rate at which the Subscription executes. Each time it executes, it attempts to send a NotificationMessage to the Client. NotificationMessages contain Notifications that have not yet been reported to Client.\nNotificationMessages are sent to the Client in response to Publish requests. Publish requests are normally queued to the Session as they are received, and one is de-queued and processed by a Subscription related to this Session for each publishing cycle, if there are Notifications to report. When there are not, the Publish request is not de-queued from the Session, and the Server waits until the next cycle and checks again for Notifications.\nAt the beginning of a cycle, if there are Notifications to send but there are no Publish requests queued, the Server enters a wait state for a Publish request to be received. When one is received, it is processed immediately without waiting for the next publishing cycle.\nNotificationMessages are uniquely identified by sequence numbers that enable Clients to detect missed Messages. The publishing interval also defines the default sampling interval for its MonitoredItems.\nSubscriptions have a keep-alive counter that counts the number of consecutive publishing cycles in which there have been no Notifications to report to the Client. When the maximum keep-alive count is reached, a Publish"
    },
    {
      "Id": "57d01a30-8a14-406d-9da1-04db06407408",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.1 Description\n---\n",
      "Content": "Publish request is de-queued and used to return a keep-alive Message. This keep-alive Message informs the Client that the Subscription is still active. Each keep-alive Message is a response to a Publish request in which the notificationMessage parameter does not contain any Notifications and that contains the sequence number of the next NotificationMessage that is to be sent. In the clauses that follow, the term NotificationMessage refers to a response to a Publish request in which the notificationMessage parameter actually contains one or more Notifications, as opposed to a keep-alive Message in which this parameter contains no Notifications. The maximum keep-alive count is set by the Client during Subscription creation and may be subsequently modified using the ModifySubscription Service. Similar to Notification processing described in (c) above, if there are no Publish requests queued, the Server waits for the next one to be received and sends the keep-alive immediately without waiting for the next publishing cycle.\nPublishing by a Subscription may be enabled or disabled by the Client when created, or subsequently using the SetPublishingMode Service. Disabling causes the Subscription to cease sending NotificationMessages to the Client. However, the Subscription continues to execute cyclically and continues to send keep-alive Messages to the Client.\nSubscriptions have a lifetime counter that counts the number of consecutive publishing cycles in which there have been no Publish requests available to send a Publish response for the Subscription. Any Service call that uses the SubscriptionId or the processing of a Publish response resets the lifetime counter of this Subscription. When this counter reaches the value calculated for the lifetime of a Subscription, the Subscription is closed. Closing the Subscription causes its MonitoredItems to be deleted. In addition the Server shall issue a StatusChangeNotification notificationMessage with the status code Bad_Timeout. The StatusChangeNotification notificationMessage type is defined in"
    },
    {
      "Id": "bb1cd990-b754-455e-a7f1-4161e1404647",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.1 Description\n---\n",
      "Content": "type is defined in[7.25.4](/\u00A7_Ref166078476).\nSessions maintain a retransmission queue of sent NotificationMessages. NotificationMessages are retained in this queue until they are acknowledged. The Session maintains a retransmission queue size of at least two times the number of Publish requests per Session the Server supports. A Profile in[OPC 10000-7](/\u00A7UAPart7) may make the retransmission queue support optional. The minimum number of Publish requests per Session the Server shall support is defined in[OPC 10000-7](/\u00A7UAPart7). Clients are required to acknowledge NotificationMessages as they are received if the Publish response parameter availableSequenceNumbers is not an empty array. An empty array in availableSequenceNumbers indicates that the Server does not support a retransmission queue and acknowledgement of NotificationMessages. In the case of a retransmission queue overflow, the oldest sent NotificationMessage gets deleted. If a Subscription is transferred to another Session, the queued NotificationMessages for this Subscription are moved from the old to the new Session.\nThe sequence number is an unsigned 32-bit integer that is incremented by one for each NotificationMessage sent. The value 0 is never used for the sequence number. The first NotificationMessage sent on a Subscription has a sequence number of 1. If the sequence number rolls over, it rolls over to 1.\nWhen a Subscription is created, the first Message is sent at the end of the first publishing cycle to inform the Client that the Subscription is operational. A NotificationMessage is sent if there are Notifications ready to be reported. If there are none, a keep-alive Message is sent instead that contains a sequence number of 1, indicating that the first NotificationMessage"
    },
    {
      "Id": "0d42eae5-c3cf-4524-b58f-be9624bcef04",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.1 Description\n---\n",
      "Content": "NotificationMessage has not yet been sent. This is the only time a keep-alive Message is sent without waiting for the maximum keep-alive count to be reached, as specified in (f) above.\nA Client shall be prepared for receiving Publish responses for a Subscription more frequently than the corresponding publishing interval. One example is the situation where the number of available notifications exceeds the Subscription setting maxNotificationsPerPublish. A Client is always able to control the timing of the Publish responses by not queueing Publish requests. If a Client does not queue Publish requests in the Server, the Server can only send a Publish response if it receives a new Publish request. This would increase latency for delivery of notifications but allows a Client to throttle the number of received Publish responses in high load situations.\nThe value of the sequence number is never reset during the lifetime of a Subscription. Therefore, the same sequence number shall not be reused on a Subscription until over four billion NotificationMessages have been sent. At a continuous rate of one thousand NotificationMessages per second on a given Subscription, it would take roughly fifty days for the same sequence number to be reused. This allows Clients to safely treat sequence numbers as unique.\nSequence numbers are also used by Clients to acknowledge the receipt of NotificationMessages. Publish requests allow the Client to acknowledge all Notifications up to a specific sequence number and to acknowledge the sequence number of the last NotificationMessage received. One or more gaps may exist in between. Acknowledgements allow the Server to delete NotificationMessages from its retransmission queue. If the retransmission queue contains outdated sequence numbers related to the sequence number acknowledged by the Client, the Server may delete these older NotificationMessage from the retransmission queue. The outdated sequence numbers are calculated with the following formular.\noutdated \u003C acknowledged sequence number - (2 x max retransmission queue size)\nClients"
    },
    {
      "Id": "80cf8da3-bccd-42e1-a3c7-b23431e547d5",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.1 Description\n---\n",
      "Content": "Clients may ask for retransmission of selected NotificationMessages using the Republish Service. This Service returns the requested Message.\nSubscriptions are designed to work independent of the actual communication connection between OPC UA Client and Server and independent of a Session. Short communication interruptions can be handled without losing data or events. To make sure that longer communication interruptions or planned disconnects can be handled without losing data or events, an OPC UA Server may support durable Subscriptions. If this feature is supported, the Server accepts a high Subscription RequestedLifetimeCount and large MonitoredItem QueueSize parameter settings. Subclause[6.8](/\u00A7_Ref380153950) describes how durable Subscriptions can be created and used."
    },
    {
      "Id": "fdba4be7-39f5-480a-aab0-ac5b47e4f7e3",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1 Subscription model\n---\n",
      "Content": "5.14.1.2 State table"
    },
    {
      "Id": "54a60da3-6ea2-4670-bd16-f70763c5181d",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "The state table formally describes the operation of the Subscription. The following model of operations is described by this state table. This description applies when publishing is enabled or disabled for the Subscription.\nAfter creation of the Subscription, the Server starts the publishing timer and restarts it whenever it expires. If the timer expires the number of times defined for the Subscription lifetime without having received a Subscription Service request from the Client, the Subscription assumes that the Client is no longer present, and terminates.\nClients send Publish requests to Servers to receive Notifications. Publish requests are not directed to any one Subscription and, therefore, may be used by any Subscription. Each contains acknowledgements for one or more Subscriptions. These acknowledgements are processed when the Publish request is received. The Server then queues the request in a queue shared by all Subscriptions, except in the following cases.\nThe previous Publish response indicated that there were still more Notifications ready to be transferred and there were no more Publish requests queued to transfer them.\nThe publishing timer of a Subscription expired and there were either Notifications to be sent or a keep-alive Message to be sent.\nIn these cases, the newly received Publish request is processed immediately by the first Subscription to encounter either case (a) or case (b).\nEach time the publishing timer expires, it is immediately reset. If there are Notifications or a keep-alive Message to be sent, it de-queues and processes a Publish request. When a Subscription processes a Publish request, it accesses the queues of its MonitoredItems and de-queues its Notifications, if any. It returns these Notifications in the response, setting the moreNotifications flag if it was not able to return all available Notifications in the response.\nIf there were Notifications or a keep-alive Message to be sent but there were no Publish requests queued, the Subscription assumes that the Publish"
    },
    {
      "Id": "95144a3e-6e9c-4082-9b0c-f3869002f97e",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "assumes that the Publish request is late and waits for the next Publish request to be received, as described in case (b).\nIf the Subscription is disabled when the publishing timer expires or if there are no Notifications available, it enters the keep-alive state and sets the keep-alive counter to its maximum value as defined for the Subscription.\nWhile in the keep-alive state, it checks for Notifications each time the publishing timer expires. If one or more Notifications have been generated, a Publish request is de-queued and a NotificationMessage is returned in the response. However, if the publishing timer expires without a Notification becoming available, a Publish request is de-queued and a keep-alive Message is returned in the response. The Subscription then returns to the normal state of waiting for the publishing timer to expire again. If, in either of these cases, there are no Publish requests queued, the Subscription waits for the next Publish request to be received, as described in case (b).\nThe Subscription states are defined in[Table 78](/\u00A7_Ref107032179).\nTable 78- Subscription States\nState\nDescription\nCLOSED\nThe Subscription has not yet been created or has terminated.\nCREATING\nThe Subscription is being created.\nNORMAL\nThe Subscription is cyclically checking for Notifications from its MonitoredItems. The keep-alive counter is not used in this state.\nLATE\nThe publishing timer has expired and there are Notifications available or a keep-alive Message is ready to be sent, but there are no Publish requests queued. When in this state, the next Publish request is processed when it is received. The keep-alive counter is not used in this state.\nKEEPALIVE\nThe Subscription is cyclically checking for Notifications from its MonitoredItems"
    },
    {
      "Id": "64bd3706-8267-441d-9126-8aa650af7662",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "from its MonitoredItems or for the keep-alive counter to count down to 0 from its maximum.\n\nThe state table is described in[Table 79](/\u00A7_Ref107032203). The following rules and conventions apply.\nEvents represent the receipt of Service requests and the occurrence internal Events, such as timer expirations.\nService requests Events may be accompanied by conditions that test Service parameter values. Parameter names begin with a lower case letter.\nInternal Events may be accompanied by conditions that test state Variable values. State Variables are defined in[5.14.1.3](/\u00A7_Ref107199977). They begin with an upper case letter.\nService request and internal Events may be accompanied by conditions represented by functions whose return value is tested. Functions are identified by \u0022()\u0022 after their name. They are described in[5.14.1.4](/\u00A7_Ref107199978).\nWhen an Event is received, the first transition for the current state is located and the transitions are searched sequentially for the first transition that meets the Event or conditions criteria. If none are found, the Event is ignored.\nActions are described by functions and state Variable manipulations.\nThe LifetimeTimerExpires Event is triggered when its corresponding counter reaches zero.\nTable 79- Subscription State Table\n#\nCurrent State\nEvent/Conditions\nAction\nNext State\n1\nCLOSED\nReceive CreateSubscription Request\nCreateSubscription()\nCREATING\n2\nCREATING\nCreateSubscription fails\nReturnNegativeResponse()\nCLOSED\n3\nCREATING\nCreateSubscription succeeds\nInitializeSubscription()\nMessageSent = FALSE\nReturnResponse()\nNORMAL\n4\nNORMAL\nReceive Publish Request\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 MoreNotifications == FALSE)"
    },
    {
      "Id": "74e45b0e-e115-4827-bf0e-f18daf0a91d7",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": ")\nDeleteAckedNotificationMsgs()\nEnqueuePublishingReq()\nNORMAL\n5\nNORMAL\nReceive Publish Request\n\u0026\u0026 PublishingEnabled == TRUE\n\u0026\u0026 MoreNotifications == TRUE\nResetLifetimeCounter()\nDeleteAckedNotificationMsgs()\nReturnNotifications()\nMessageSent = TRUE\nNORMAL\n6\nNORMAL\nPublishingTimer Expires\n\u0026\u0026 PublishingReqQueued == TRUE\n\u0026\u0026 PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == TRUE\nResetLifetimeCounter()\nStartPublishingTimer()\nDequeuePublishReq()\nReturnNotifications()\nMessageSent = TRUE\nNORMAL\n7\nNORMAL\nPublishingTimer Expires\n\u0026\u0026 PublishingReqQueued == TRUE\n\u0026\u0026 MessageSent == FALSE\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == FALSE)\n)\nResetLifetimeCounter()\nStartPublishingTimer()\nDequeuePublishReq()\nReturnKeepAlive()\nMessageSent = TRUE\nNORMAL\n8\nNORMAL\nPublishingTimer Expires\n\u0026\u0026 PublishingReqQueued == FALSE\n\u0026\u0026\n(\nMessageSent == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == TRUE)\n)\nStartPublishingTimer()\nLATE\n9\nNORMAL\nPublishingTimer Expires\n\u0026\u0026 MessageSent == TRUE\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == FALSE)\n)\nStartPublishingTimer()\nResetKeepAliveCounter()\nKeepAliveCounter--\nKEEPALIVE\n10\nLATE\nReceive Publish Request\n\u0026\u0026 PublishingEnabled == TRUE\n\u0026\u0026 (NotificationsAvailable == TRUE\n|| MoreNotifications == TRUE)\nResetLifetimeCounter()\nDeleteAckedNotificationMsgs()\nReturnNotifications()\nMessageSent = TRUE\nNORMAL\n11\nLATE\nReceive Publish"
    },
    {
      "Id": "43c9303c-7b9c-488a-b60d-60fff24e5a76",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "LATE\nReceive Publish Request\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == FALSE\n\u0026\u0026 MoreNotifications == FALSE)\n)\nResetLifetimeCounter()\nDeleteAckedNotificationMsgs()\nReturnKeepAlive()\nMessageSent = TRUE\nKEEPALIVE\n12\nLATE\nPublishingTimer Expires\nStartPublishingTimer()\nLATE\n13\nKEEPALIVE\nReceive Publish Request\nDeleteAckedNotificationMsgs()\nEnqueuePublishingReq()\nKEEPALIVE\n14\nKEEPALIVE\nPublishingTimer Expires\n\u0026\u0026 PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == TRUE\n\u0026\u0026 PublishingReqQueued == TRUE\nResetLifetimeCounter()\nStartPublishingTimer()\nDequeuePublishReq()\nReturnNotifications()\nMessageSent = TRUE\nNORMAL\n15\nKEEPALIVE\nPublishingTimer Expires\n\u0026\u0026 PublishingReqQueued == TRUE\n\u0026\u0026 KeepAliveCounter \u003C= 1\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == FALSE\n)\nStartPublishingTimer()\nDequeuePublishReq()\nReturnKeepAlive()\nResetKeepAliveCounter()\nKEEPALIVE\n16\nKEEPALIVE\nPublishingTimer Expires\n\u0026\u0026 KeepAliveCounter \u003E 1\n\u0026\u0026\n(\nPublishingEnabled == FALSE\n||\n(PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == FALSE)\n)\nStartPublishingTimer()\nKeepAliveCounter--\nKEEPALIVE\n17\nKEEPALIVE\nPublishingTimer Expires\n\u0026\u0026 PublishingReqQueued == FALSE\n\u0026\u0026\n(\nKeepAliveCounter == 1\n||\n(KeepAliveCounter \u003E 1\n\u0026\u0026 PublishingEnabled == TRUE\n\u0026\u0026 NotificationsAvailable == TRUE)\n)\nStartPublishingTimer()"
    },
    {
      "Id": "08e206f8-46f4-4759-a858-356bb919cfd2",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "StartPublishingTimer()\nLATE\n18\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive ModifySubscription Request\n\u0026\u0026 SubscriptionAssignedToSession == TRUE\nResetLifetimeCounter()\nUpdateSubscriptionParams()\nReturnResponse()\nSAME\n19\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive SetPublishingMode Request\n\u0026\u0026 SubscriptionAssignedToSession == TRUE\nResetLifetimeCounter()\nSetPublishingEnabled()\nMoreNotifications = FALSE\nReturnResponse()\nSAME\n20\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive Republish Request\n\u0026\u0026 RequestedMessageFound == TRUE\nResetLifetimeCounter()\nReturnResponse()\nSAME\n21\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive Republish Request\n\u0026\u0026 RequestedMessageFound == FALSE\nResetLifetimeCounter()\nReturnNegativeResponse()\nSAME\n22\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive TransferSubscriptions Request\n\u0026\u0026 SessionChanged() == FALSE\nResetLifetimeCounter()\nReturnNegativeResponse ()\nSAME\n23\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive TransferSubscriptions Request\n\u0026\u0026 SessionChanged() == TRUE\n\u0026\u0026 ClientValidated() ==TRUE\nSetSession()\nResetLifetimeCounter()\nReturnResponse()\nIssueStatusChangeNotification()\nSAME\n24\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive TransferSubscriptions Request\n\u0026\u0026 SessionChanged() == TRUE\n\u0026\u0026 ClientValidated() == FALSE\nReturnNegativeResponse()\nSAME\n25\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive DeleteSubscriptions Request\n\u0026\u0026 SubscriptionAssignedToSession ==TRUE\nDeleteMonitoredItems()\nDeleteClientPublReqQueue()\nCLOSED\n26\nNORMAL\n|| LATE\n|| KEEPALIVE\nReceive Subscription related Request"
    },
    {
      "Id": "2aca6a8c-a1e5-4713-b276-cc0362b32b63",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.2 State table\n---\n",
      "Content": "Receive Subscription related Request\n\u0026\u0026 SubscriptionAssignedToSession ==FALSE\nReturnNegativeResponse()\nSAME\n27\nNORMAL\n|| LATE\n|| KEEPALIVE\nLifetimeCounter == 1\nThe LifetimeCounter is decremented if PublishingTimer expires and PublishingReqQueued == FALSE\nThe LifetimeCounter is reset if PublishingReqQueued == TRUE.\nDeleteMonitoredItems()\nIssueStatusChangeNotification()\nCLOSED"
    },
    {
      "Id": "cbd0f5bc-f1f4-418a-bd9d-5cf7b8feae0a",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1 Subscription model\n---\n",
      "Content": "5.14.1.3 State variables and parameters"
    },
    {
      "Id": "41ddbcd1-d5de-4ac3-ac7e-41305ad24297",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.3 State variables and parameters\n---\n",
      "Content": "The state variables are defined alphabetically in[Table 80](/\u00A7_Ref107200087).\nTable 80- State variables and parameters\nState Variable\nDescription\nMoreNotifications\nA boolean value that is set to TRUE only by the CreateNotificationMsg() when there were too many Notifications for a single NotificationMessage.\nLatePublishRequest\nA boolean value that is set to TRUE to reflect that, the last time the publishing timer expired, there were no Publish requests queued.\nLifetimeCounter\nA value that contains the number of consecutive publishing timer expirations without Client activity before the Subscription is terminated.\nMessageSent\nA boolean value that is set to TRUE to mean that either a NotificationMessage or a keep-alive Message has been sent on the Subscription. It is a flag that is used to ensure that either a NotificationMessage or a keep-alive Message is sent out the first time the publishing timer expires.\nNotificationsAvailable\nA boolean value that is set to TRUE only when there is at least one MonitoredItem that is in the reporting mode and that has a Notification queued or there is at least one item to report whose triggering item has triggered and that has a Notification queued. The transition of this state Variable from FALSE to TRUE creates the \u0022New Notification Queued\u0022 Event in the state table.\nPublishingEnabled\nThe parameter that requests publishing to be enabled or disabled.\nPublishingReqQueued\nA boolean value that is set to TRUE only when there is a Publish request Message queued to the Subscription.\nRequestedMessageFound\nA boolean value that is set to TRUE only when the Message requested to be retransmitted was found in the retransmission queue.\nSeqNum\nThe value that records the value of the sequence number used in NotificationMessages.\nSubscriptionAssignedToSession"
    },
    {
      "Id": "b5d410f8-00a3-49e1-8858-ea2b11540103",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.3 State variables and parameters\n---\n",
      "Content": "SubscriptionAssignedToSession\nA boolean value that is set to TRUE only when the Subscription related Service is called with the Session the Subscription is assigned to. A Subscription is assigned to the Session that created it. That assignment can only be changed through successful completion of the TransferSubscriptions Service."
    },
    {
      "Id": "53f24142-bbaf-451d-9a53-108f6ca05654",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1 Subscription model\n---\n",
      "Content": "5.14.1.4 Functions"
    },
    {
      "Id": "9790a272-efab-453a-906c-9c08f4f00fea",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.4 Functions\n---\n",
      "Content": "The action functions are defined alphabetically in[Table 81](/\u00A7_Ref107200088).\nTable 81- Functions\nFunction\nDescription\nClientValidated()\nA boolean function that returns TRUE only when the Client that is submitting a TransferSubscriptions request is operating on behalf of the same user and supports the same Profiles as the Client of the previous Session.\nCreateNotificationMsg()\nIncrement the SeqNum and create a NotificationMessage from the MonitoredItems assigned to the Subscription.\nSave the newly-created NotificationMessage in the retransmission queue.\nIf all available Notifications can be sent in the Publish response, the MoreNotifications state Variable is set to FALSE. Otherwise, it is set to TRUE.\nCreateSubscription()\nAttempt to create the Subscription.\nDeleteAckedNotificationMsgs()\nDelete the NotificationMessages from the retransmission queue that were acknowledged by the request.\nDeleteClientPublReqQueue()\nClear the Publish request queue for the Client that is sending the DeleteSubscriptions request, if there are no more Subscriptions assigned to that Client.\nDeleteMonitoredItems()\nDelete all MonitoredItems assigned to the Subscription.\nDequeuePublishReq()\nDe-queue a publishing request in first-in first-out order.\nValidate if the publish request is still valid by checking the timeoutHint in the RequestHeader.\nIf the request timed out, send a Bad_Timeout service result for the request and de-queue another publish request.\nResetLifetimeCounter()\nEnqueuePublishingReq()\nEnqueue the publishing request.\nInitializeSubscription()\nResetLifetimeCounter()\nMoreNotifications = FALSE\nPublishRateChange = FALSE\nPublishingEnabled = value of publishingEnabled parameter in the CreateSubscription request\nPublishingReqQueued = FALSE\nSeqNum = 0\nSetSession()"
    },
    {
      "Id": "9b1cd78c-6521-4127-ba8c-da1e316498ff",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.4 Functions\n---\n",
      "Content": "SetSession()\nStartPublishingTimer()\nIssueStatusChangeNotification()\nIssue a StatusChangeNotification notificationMessage with a status code for the status change of the Subscription. The StatusChangeNotification notificationMessage type is defined in[7.25.4](/\u00A7_Ref166078476). Bad_Timeout status code is used if the lifetime expires and Good_SubscriptionTransferred is used if the Subscriptions was transferred to another Session.\nResetKeepAliveCounter()\nReset the keep-alive counter to the maximum keep-alive count of the Subscription. The maximum keep-alive count is set by the Client when the Subscription is created and may be modified using the ModifySubscription Service.\nResetLifetimeCounter()\nReset the LifetimeCounter Variable to the value specified for the lifetime of a Subscription in the CreateSubscription Service([5.14.2](/\u00A7_Ref113157332)).\nReturnKeepAlive()\nCreate an empty NotificationMessage with the current SeqNum value.\nReturnResponse()\nReturnNegativeResponse()\nReturn a Service response indicating the appropriate Service level error. No parameters are returned other than the responseHeader that contains the Service level StatusCode.\nReturnNotifications()\nCreateNotificationMsg()\nReturnResponse()\nIf (MoreNotifications == TRUE) \u0026\u0026 (PublishingReqQueued == TRUE)\n{\nDequeuePublishReq()\nLoop through this function again\n}\nReturnResponse()\nReturn the appropriate response, setting the appropriate parameter values and StatusCodes defined for the Service.\nSessionChanged()\nA boolean function that returns TRUE only when the Session used to send a TransferSubscriptions request is different from the Client Session currently associated with the Subscription.\nSetPublishingEnabled ()\nSet the PublishingEnabled state Variable to the value of the publishingEnabled parameter received in the request.\nSetSession\nSet the Session"
    },
    {
      "Id": "049c11e8-f9c7-400b-8331-3826f0e1dbcf",
      "Header": "Document: Part 4 - Services\nSection: 5.14.1.4 Functions\n---\n",
      "Content": "Set the Session information for the Subscription to match the Session on which the TransferSubscriptions request was issued.\nStartPublishingTimer()\nStart or restart the publishing timer and decrement the LifetimeCounter Variable.\nUpdateSubscriptionParams()\nNegotiate and update the Subscription parameters. If the new keep-alive interval is less than the current value of the keep-alive counter, perform ResetKeepAliveCounter() and ResetLifetimeCounter()."
    },
    {
      "Id": "7a179783-f106-4afa-b3b0-fdd92bfc1eb8",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.2 CreateSubscription"
    },
    {
      "Id": "556d95aa-4730-40e2-9106-8823afce83e1",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2 CreateSubscription\n---\n",
      "Content": "5.14.2.1 Description"
    },
    {
      "Id": "2472ba52-3f0c-4aee-a520-b6b2f807f6fd",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2.1 Description\n---\n",
      "Content": "This Service is used to create a Subscription. Subscriptions monitor a set of MonitoredItems for Notifications and return them to the Client in response to Publish requests.\nIllegal request values for parameters that can be revised do not generate errors. Instead the Server will choose default values and indicate them in the corresponding revised parameter."
    },
    {
      "Id": "235c5425-c7c3-4d67-85b7-e70142860848",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2 CreateSubscription\n---\n",
      "Content": "5.14.2.2 Parameters"
    },
    {
      "Id": "d542c90b-30a6-4ab5-a7ab-fb820fa3dc5e",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2.2 Parameters\n---\n",
      "Content": "[Table 82](/\u00A7_Ref106788204) defines the parameters for the Service.\nTable 82- CreateSubscription Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nrequestedPublishing\nInterval\nDuration\nThis interval defines the cyclic rate that the Subscription is being requested to return Notifications to the Client. This interval is expressed in milliseconds. This interval is represented by the publishing timer in the Subscription state table (see[5.14.1.2](/\u00A7_Ref107033922)).\nThe negotiated value for this parameter returned in the response is used as the default sampling interval for MonitoredItems assigned to this Subscription.\nIf the requested value is 0 or negative, the Server shall revise with the fastest supported publishing interval.\nrequestedLifetimeCount\nCounter\nRequested lifetime count (see[7.8](/\u00A7_Ref128930737) for Counter definition). The lifetime count shall be a minimum of three times the keep keep-alive count.\nWhen the publishing timer has expired this number of times without a Publish request being available to send a NotificationMessage, then the Subscription shall be deleted by the Server.\nrequestedMaxKeepAlive\nCount\nCounter\nRequested maximum keep-alive count (see[7.8](/\u00A7_Ref128930737) for Counter definition). When the publishing timer has expired this number of times without requiring any NotificationMessage to be sent, the Subscription sends a keep-alive Message to the Client.\nThe negotiated value for this parameter is returned in the response.\nIf the requested value is 0, the Server shall revise with the smallest supported keep-alive count.\nmaxNotificationsPerPublish\nCounter"
    },
    {
      "Id": "22b216ac-3b9e-48c1-a56f-b8f0e8ac5839",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2.2 Parameters\n---\n",
      "Content": "Counter\nThe maximum number of notifications that the Client wishes to receive in a single Publish response. A value of zero indicates that there is no limit.\nThe number of notifications per Publish is the sum of monitoredItems in the DataChangeNotification and events in the EventNotificationList.\npublishingEnabled\nBoolean\nA Boolean parameter with the following values:\nTRUE publishing is enabled for the Subscription.\nFALSE publishing is disabled for the Subscription.\nThe value of this parameter does not affect the value of the monitoring mode Attribute of MonitoredItems.\npriority\nByte\nIndicates the relative priority of the Subscription. When more than one Subscription needs to send a Publish response, the Server should de-queue a Publish request to the Subscription with the highest priority number. For Subscriptions with equal priority the Server should de-queue Publish requests in a round-robin fashion.\nA Client that does not require special priority settings should set this value to zero.\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription(see[7.19](/\u00A7_Ref128929614) for IntegerId definition). This identifier shall be unique for the entire Server, not just for the Session, in order to allow the Subscription to be transferred to another Session using the TransferSubscriptions service.\nAfter Server start-up the generation of subscriptionIds should start from a random IntegerId or continue from the point before the restart.\nrevisedPublishingInterval\nDuration\nThe actual publishing interval that the Server will use, expressed in milliseconds. The Server should attempt to honour the Client request for this parameter, but may negotiate this value up or down to meet its own constraints."
    },
    {
      "Id": "ca8a4e47-e7bb-4422-b5a0-66ba700cc121",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2.2 Parameters\n---\n",
      "Content": "revisedLifetimeCount\nCounter\nThe lifetime of the Subscription shall be a minimum of three times the keep-alive interval negotiated by the Server.\nrevisedMaxKeepAliveCount\nCounter\nThe actual maximum keep-alive count (see[7.8](/\u00A7_Ref128930737) for Counter definition). The Server should attempt to honour the Client request for this parameter, but may negotiate this value up or down to meet its own constraints."
    },
    {
      "Id": "83747f00-3cfd-49c4-a37d-e1652f28af3e",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2 CreateSubscription\n---\n",
      "Content": "5.14.2.3 Service results"
    },
    {
      "Id": "70e8f41c-56ad-4954-92f5-003b22a5cca9",
      "Header": "Document: Part 4 - Services\nSection: 5.14.2.3 Service results\n---\n",
      "Content": "[Table 83](/\u00A7_Ref106788233) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 83- CreateSubscription Service Result Codes\nSymbolic Id\nDescription\nBad_TooManySubscriptions\nThe Server has reached its maximum number of Subscriptions."
    },
    {
      "Id": "67db9b26-e6d3-43dd-a881-1ab43b5d152a",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.3 ModifySubscription"
    },
    {
      "Id": "5926ed93-e0b7-450f-9b10-9f6cb787696a",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3 ModifySubscription\n---\n",
      "Content": "5.14.3.1 Description"
    },
    {
      "Id": "c97962d2-8290-40b2-94ae-527caa6842b5",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3.1 Description\n---\n",
      "Content": "This Service is used to modify a Subscription.\nIllegal request values for parameters that can be revised do not generate errors. Instead the Server will choose default values and indicate them in the corresponding revised parameter.\nChanges to the Subscription settings shall be applied immediately by the Server. They take effect as soon as practical but not later than twice the new revisedPublishingInterval."
    },
    {
      "Id": "7dd80ecf-63a3-4841-804f-8954eed413d2",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3 ModifySubscription\n---\n",
      "Content": "5.14.3.2 Parameters"
    },
    {
      "Id": "fad7c018-bc4f-4fc0-b18c-71c69d09dc43",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3.2 Parameters\n---\n",
      "Content": "[Table 84](/\u00A7_Ref74549805) defines the parameters for the Service.\nTable 84- ModifySubscription Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\nrequestedPublishingInterval\nDuration\nThis interval defines the cyclic rate at which the Subscription is being requested to return Notifications to the Client. This interval is expressed in milliseconds. This interval is represented by the publishing timer in the Subscription state table (see[5.14.1.2](/\u00A7_Ref107033922)).\nThe negotiated value for this parameter returned in the response is used as the default sampling interval for MonitoredItems assigned to this Subscription.\nIf the requested value is 0 or negative, the Server shall revise with the fastest supported publishing interval.\nrequestedLifetimeCount\nCounter\nRequested lifetime count (see[7.8](/\u00A7_Ref128930737) for Counter definition). The lifetime count shall be a minimum of three times the keep-alive count.\nWhen the publishing timer has expired this number of times without a Publish request being available to send a NotificationMessage, then the Subscription shall be deleted by the Server.\nrequestedMaxKeepAliveCount\nCounter\nRequested maximum keep-alive count (see[7.8](/\u00A7_Ref128930737) for Counter definition). When the publishing timer has expired this number of times without requiring any NotificationMessage to be sent, the Subscription sends a keep-alive Message to the Client.\nThe negotiated value for this parameter is returned in the response."
    },
    {
      "Id": "3dceb52a-02b5-4dbc-9f02-3124cbc525b3",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3.2 Parameters\n---\n",
      "Content": "If the requested value is 0, the Server shall revise with the smallest supported keep-alive count.\nmaxNotificationsPerPublish\nCounter\nThe maximum number of notifications that the Client wishes to receive in a single Publish response. A value of zero indicates that there is no limit.\npriority\nByte\nIndicates the relative priority of the Subscription. When more than one Subscription needs to send Notifications, the Server should de-queue a Publish request to the Subscription with the highest priority number. For Subscriptions with equal priority the Server should de-queue Publish requests in a round-robin fashion.\nA Client that does not require special priority settings should set this value to zero.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nrevisedPublishingInterval\nDuration\nThe actual publishing interval that the Server will use, expressed in milliseconds. The Server should attempt to honour the Client request for this parameter, but may negotiate this value up or down to meet its own constraints.\nrevisedLifetimeCount\nCounter\nThe lifetime of the Subscription shall be a minimum of three times the keep-alive interval negotiated by the Server.\nrevisedMaxKeepAliveCount\nCounter\nThe actual maximum keep-alive count (see[7.8](/\u00A7_Ref128930737) for Counter definition). The Server should attempt to honour the Client request for this parameter, but may negotiate this value up or down to meet its own constraints."
    },
    {
      "Id": "78f66340-3d5e-477f-9059-211d9688a3c7",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3 ModifySubscription\n---\n",
      "Content": "5.14.3.3 Service results"
    },
    {
      "Id": "270ca073-8be0-493e-9f95-83fa543a44b8",
      "Header": "Document: Part 4 - Services\nSection: 5.14.3.3 Service results\n---\n",
      "Content": "[Table 85](/\u00A7_Ref74549766) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 85- ModifySubscription Service Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "085245a7-e4d0-449e-8a7d-3408940ff604",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.4 SetPublishingMode"
    },
    {
      "Id": "cb8230ec-b00f-4f04-9d60-9b2e54189566",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4 SetPublishingMode\n---\n",
      "Content": "5.14.4.1 Description"
    },
    {
      "Id": "f15d4dcc-5fae-49a2-9865-5644f100d5e0",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4.1 Description\n---\n",
      "Content": "This Service is used to enable sending of Notifications on one or more Subscriptions."
    },
    {
      "Id": "ee47fbd5-3fef-4c36-9ca3-8076fad264c7",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4 SetPublishingMode\n---\n",
      "Content": "5.14.4.2 Parameters"
    },
    {
      "Id": "3d98f1d6-6e13-4d20-ba5f-8bea86d4e483",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4.2 Parameters\n---\n",
      "Content": "[Table 86](/\u00A7_Ref94950888) defines the parameters for the Service.\nTable 86- SetPublishingMode Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\npublishingEnabled\nBoolean\nA Boolean parameter with the following values:\nTRUE publishing of NotificationMessages is enabled for the Subscription.\nFALSE publishing of NotificationMessages is disabled for the Subscription.\nThe value of this parameter does not affect the value of the monitoring mode Attribute of MonitoredItems. Setting this value to FALSE does not discontinue the sending of keep-alive Messages.\nsubscriptionIds []\nIntegerId\nList of Server-assigned identifiers for the Subscriptions to enable or disable (see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the Subscriptions to enable/disable (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the subscriptionIds request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the Subscriptions to enable/disable (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the subscriptionIds request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "051f8bc5-0b42-4dbf-90be-06e1fa99884a",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4 SetPublishingMode\n---\n",
      "Content": "5.14.4.3 Service results"
    },
    {
      "Id": "5ed2307a-3d27-4046-b39f-b8c80350c538",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4.3 Service results\n---\n",
      "Content": "[Table 87](/\u00A7_Ref80163002) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 87- SetPublishingMode Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "e5b43d59-4774-4e0c-9661-8fa96af9a964",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4 SetPublishingMode\n---\n",
      "Content": "5.14.4.4 StatusCodes"
    },
    {
      "Id": "12b0735f-8c5c-467c-972f-0e5847c79690",
      "Header": "Document: Part 4 - Services\nSection: 5.14.4.4 StatusCodes\n---\n",
      "Content": "[Table 88](/\u00A7_Ref134422919) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 88- SetPublishingMode Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "b67abd0f-a50a-4eaf-8e45-6cc5a1ba1b76",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.5 Publish"
    },
    {
      "Id": "3991b403-7611-4268-8671-a5d6568beb13",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5 Publish\n---\n",
      "Content": "5.14.5.1 Description"
    },
    {
      "Id": "4961eeea-62a6-4d2d-ab02-dcd5ca8f16ec",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.1 Description\n---\n",
      "Content": "This Service is used for two purposes. First, it is used to acknowledge the receipt of NotificationMessages for one or more Subscriptions. Second, it is used to request the Server to return a NotificationMessage or a keep-alive Message. Since Publish requests are not directed to a specific Subscription, they may be used by any Subscription.[5.14.1.2](/\u00A7_Ref107033922) describes the use of the Publish Service.\nClient strategies for issuing Publish requests may vary depending on the networking delays between the Client and the Server. In many cases, the Client may wish to issue a Publish request immediately after creating a Subscription, and thereafter, immediately after receiving a Publish response.\nIn other cases, especially in high latency networks, the Client may wish to pipeline Publish requests to ensure cyclic reporting from the Server. Pipelining involves sending more than one Publish request for each Subscription before receiving a response. For example, if the network introduces a delay between the Client and the Server of 5 seconds and the publishing interval for a Subscription is one second, then the Client shall issue Publish requests every second instead of waiting for a response to be received before sending the next request.\nA Server should limit the number of active Publish requests to avoid an infinite number since it is expected that the Publish requests are queued in the Server. But a Server shall accept more queued Publish requests than created Subscriptions. It is expected that a Server supports several Publish requests per Subscription. When a Server receives a new Publish request that exceeds its limit it shall de-queue the oldest Publish request and return a response with the result set to Bad_ TooManyPublishRequests. If a Client receives this Service result for a Publish request it shall not issue another Publish request before one of its outstanding Publish requests is returned from the Server.\nClients can limit the size of Publish"
    },
    {
      "Id": "6a10173d-a129-4109-94a2-c0333408d0fd",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.1 Description\n---\n",
      "Content": "Publish responses with the maxNotificationsPerPublish parameter passed to the CreateSubscription Service. However, this could still result in a message that is too large for the Client or Server to process. In this situation, the Client will find that either the SecureChannel goes into a fault state and needs to be re-established or the Publish response returns an error and calling the Republish Service also returns an error. If either situation occurs then the Client will adjust its message processing limits or the parameters for the Subscription and/or MonitoredItems.\nThe return diagnostic info setting in the request header of the CreateMonitoredItems or the last ModifyMonitoredItems Service is applied to the Monitored Items and is used as the diagnostic information settings when sending Notifications in the Publish response."
    },
    {
      "Id": "3f0c61c9-f255-450b-8d32-af6f8ec1bedf",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5 Publish\n---\n",
      "Content": "5.14.5.2 Parameters"
    },
    {
      "Id": "2f6623f4-5703-44fd-ae6f-41325d8a0a52",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.2 Parameters\n---\n",
      "Content": "[Table 89](/\u00A7_Ref71530469) defines the parameters for the Service.\nTable 89- Publish Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscription\nAcknowledgements []\nSubscription Acknowledgement\nThe list of acknowledgements for one or more Subscriptions. This list may contain multiple acknowledgements for the same Subscription(multiple entries with the same subscriptionId). This structure is defined in-line with the following indented items.\nsubscriptionId\nIntegerId\nThe Server assigned identifier for a Subscription(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\nsequenceNumber\nCounter\nThe sequence number being acknowledged (see[7.8](/\u00A7_Ref128930737) for Counter definition). The Server may delete the Message with this sequence number from its retransmission queue.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nsubscriptionId\nIntegerId\nThe Server-assigned identifier for the Subscription for which Notifications are being returned (see[7.19](/\u00A7_Ref128929614) for IntegerId definition). The value 0 is used to indicate that there were no Subscriptions defined for which a response could be sent.\navailableSequence\nNumbers []\nCounter\nA list of sequence number ranges that identify unacknowledged NotificationMessages that are available for retransmission from the Subscription\u0027s retransmission queue including the sequence number of this response if it is not a keep-alive Message. This list is prepared after processing the acknowledgements in the request (see"
    },
    {
      "Id": "712e5a9a-1c00-422b-b7bf-9a30d111e60d",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.2 Parameters\n---\n",
      "Content": "[7.8](/\u00A7_Ref128930737) for Counter definition).\nThe list shall be empty if the Server does not support the retransmission queue. If the list is empty, the Client should not acknowledge sequence numbers.\nThis information is for diagnostic purpose and Clients should log differences to the expected sequence numbers.\nmoreNotifications\nBoolean\nA Boolean parameter with the following values:\nTRUE the number of Notifications that were ready to be sent could not be sent in a single response.\nFALSE all Notifications that were ready are included in the response.\nnotificationMessage\nNotification Message\nThe NotificationMessage that contains the list of Notifications. The NotificationMessage parameter type is specified in[7.26](/\u00A7_Ref187493407).\nresults []\nStatusCode\nList of results for the acknowledgements (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the subscriptionAcknowledgements request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the acknowledgements (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the subscriptionAcknowledgements request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "2b1d23a2-9bfd-45d8-ac3d-8395b155f77d",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5 Publish\n---\n",
      "Content": "5.14.5.3 Service results"
    },
    {
      "Id": "84818a6e-d710-4a9d-a1bd-ee780d9c2b1b",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.3 Service results\n---\n",
      "Content": "[Table 90](/\u00A7_Ref141618767) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 90- Publish Service Result Codes\nSymbolic Id\nDescription\nBad_TooManyPublishRequests\nThe Server has reached the maximum number of queued Publish requests.\nBad_NoSubscription\nThere is no Subscription available for this session."
    },
    {
      "Id": "4245c234-7146-410c-a4e0-1592d3fc8bb5",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5 Publish\n---\n",
      "Content": "5.14.5.4 StatusCodes"
    },
    {
      "Id": "af885a35-046b-4d1e-a2d6-7fa9e773feb1",
      "Header": "Document: Part 4 - Services\nSection: 5.14.5.4 StatusCodes\n---\n",
      "Content": "[Table 91](/\u00A7_Ref110842152) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 91- Publish Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_SequenceNumberUnknown\nThe sequence number is unknown to the Server.\nGood_RetransmissionQueueNotSupported\nThe Server does not support retransmission queue and acknowledgement of sequence numbers is not available."
    },
    {
      "Id": "2918d642-dc61-4a3d-b465-d6162ec35687",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.6 Republish"
    },
    {
      "Id": "633078d4-7729-4ff5-8fb1-f0c6503039b2",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6 Republish\n---\n",
      "Content": "5.14.6.1 Description"
    },
    {
      "Id": "4d74a23b-8c3b-48e7-a7c5-41055738d7c5",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6.1 Description\n---\n",
      "Content": "This Service requests the Subscription to republish a NotificationMessage from its retransmission queue. If the Server does not have the requested Message in its retransmission queue, it returns an error response.\nSee[5.14.1.2](/\u00A7_Ref107033922) for the detail description of the behaviour of this Service.\nSee[6.7](/\u00A7_Ref303088449) for a description of the issues and strategies regarding reconnect handling and Republish."
    },
    {
      "Id": "761506c3-6090-4044-b25f-4516836ef593",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6 Republish\n---\n",
      "Content": "5.14.6.2 Parameters"
    },
    {
      "Id": "0b66cbb5-ffc9-4405-b04e-1b40e3d5b71b",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6.2 Parameters\n---\n",
      "Content": "[Table 92](/\u00A7_Ref107043833) defines the parameters for the Service.\nTable 92- Republish Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionId\nIntegerId\nThe Server assigned identifier for the Subscription to be republished (see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\nretransmitSequence\nNumber\nCounter\nThe sequence number of a specific NotificationMessage to be republished (see[7.8](/\u00A7_Ref128930737) for Counter definition).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nnotificationMessage\nNotification Message\nThe requested NotificationMessage. The NotificationMessage parameter type is specified in[7.26](/\u00A7_Ref187493407)."
    },
    {
      "Id": "7ec9680d-1c71-4950-910d-bf67236599a8",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6 Republish\n---\n",
      "Content": "5.14.6.3 Service results"
    },
    {
      "Id": "13ccb94a-2f57-47c3-8e4e-dce9d33d7ef3",
      "Header": "Document: Part 4 - Services\nSection: 5.14.6.3 Service results\n---\n",
      "Content": "[Table 93](/\u00A7_Ref107043835) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 93- Republish Service Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_MessageNotAvailable\nThe requested message is no longer available."
    },
    {
      "Id": "45e28e12-ec2f-4d7c-bfc9-a2e72fb7305a",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.7 TransferSubscriptions"
    },
    {
      "Id": "0d7260d3-1f82-4047-bdbe-0f54a52f9401",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7 TransferSubscriptions\n---\n",
      "Content": "5.14.7.1 Description"
    },
    {
      "Id": "743430e3-9595-48f6-b3d0-1abee859cff8",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7.1 Description\n---\n",
      "Content": "This Service is used to transfer a Subscription and its MonitoredItems from one Session to another. For example, a Client may need to reopen a Session and then transfer its Subscriptions to that Session. It may also be used by one Client to take over a Subscription from another Client by transferring the Subscription to its Session.\nThe authenticationToken contained in the request header identifies the Session to which the Subscription and MonitoredItems shall be transferred. The Server shall validate that the Client of that Session is operating on behalf of the same non- ANONYMOUS ClientUserId. The ClientUserId is defined in[OPC 10000-5](/\u00A7UAPart5). If the Client uses an ANONYMOUS UserTokenType, the Server shall validate if the ApplicationUri is the same for the old and the new Session and the MessageSecurityMode is SIGN or SIGNANDENCRYPT. If the Server transfers the Subscription, it returns the sequence numbers of the NotificationMessages that are available for retransmission. The Client should acknowledge all Messages in this list for which it will not request retransmission.\nIf the Server transfers the Subscription to the new Session, the Server shall issue a StatusChangeNotification notificationMessage with the status code Good_SubscriptionTransferred to the old Session. The StatusChangeNotification notificationMessage type is defined in[7.25.4](/\u00A7_Ref166078476)."
    },
    {
      "Id": "84ccd453-9fbf-4900-9d58-50a6dc16e24c",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7 TransferSubscriptions\n---\n",
      "Content": "5.14.7.2 Parameters"
    },
    {
      "Id": "49252a4e-53ca-415b-8da0-3ac0b24d9857",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7.2 Parameters\n---\n",
      "Content": "[Table 94](/\u00A7_Ref78939141) defines the parameters for the Service.\nTable 94- TransferSubscriptions Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionIds []\nIntegerId\nList of identifiers for the Subscriptions to be transferred to the new Client(see[7.19](/\u00A7_Ref128929614) for IntegerId definition). These identifiers are transferred from the primary Client to a backup Client via external mechanisms.\nsendInitialValues\nBoolean\nA Boolean parameter with the following values:\nTRUE the first Publish response(s) after the TransferSubscriptions call shall contain the current value for each data MonitoredItem in the Subscription where the Monitoring Mode is set to Reporting.If a value is queued for a data MonitoredItem, the next value in the queue is sent in the Publish response. If no value is queued for a data MonitoredItem, the last value sent is repeated in the Publish response.\nFALSE the first Publish response after the TransferSubscriptions call shall contain only the value changes since the last Publish response was sent.\nThis parameter only applies to MonitoredItems used for monitoring Attribute changes.\nThe data should be sent in the next regular PublishingInterval.\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nTransferResult\nList of results for the Subscriptions to transfer. The size and order of the list matches the size and order of the subscriptionIds request parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nStatusCode for each Subscription"
    },
    {
      "Id": "f4a1fb9c-8543-4fd4-9b34-5538d5a50f61",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7.2 Parameters\n---\n",
      "Content": "StatusCode for each Subscription to be transferred (see[7.38](/\u00A7_Ref127346441) for StatusCode definition).\navailableSequence\nNumbers []\nCounter\nA list of sequence number ranges that identify NotificationMessages that are in the Subscription\u0027s retransmission queue. This parameter is null or empty if the transfer of the Subscription failed. The Counter type is defined in[7.8](/\u00A7_Ref128930737).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the Subscriptions to transfer (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the subscriptionIds request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "52b6404b-5395-4bc5-8ff5-c3a8e9928d81",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7 TransferSubscriptions\n---\n",
      "Content": "5.14.7.3 Service results"
    },
    {
      "Id": "9342c0bd-eee4-4cfe-aa4b-3f2782d25845",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7.3 Service results\n---\n",
      "Content": "[Table 95](/\u00A7_Ref78939142) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 95- TransferSubscriptions Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_InsufficientClientProfile\nThe Client of the current Session does not support one or more Profiles that are necessary for the Subscription."
    },
    {
      "Id": "e19e72f1-0bc6-416b-8975-fdc27cc08036",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7 TransferSubscriptions\n---\n",
      "Content": "5.14.7.4 StatusCodes"
    },
    {
      "Id": "2b1e6661-992f-4d67-b35d-b85bce6d1066",
      "Header": "Document: Part 4 - Services\nSection: 5.14.7.4 StatusCodes\n---\n",
      "Content": "[Table 96](/\u00A7_Ref134423720) defines values for the operation level statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 96- TransferSubscriptions Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_UserAccessDenied\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThe Client of the current Session is not operating on behalf of the same user as the Session that owns the Subscription.\nBad_TooManySubscriptions\nThe Server has reached its maximum number of Subscriptions for the Session.\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nThis result code is returned if the Subscription is already owned by the Session used to call TransferSubscription."
    },
    {
      "Id": "41f35558-ea97-46a4-ba9a-7b2b4fa8a62a",
      "Header": "Document: Part 4 - Services\nSection: 5.14 Subscription Service Set\n---\n",
      "Content": "5.14.8 DeleteSubscriptions"
    },
    {
      "Id": "6eac385d-30d0-4fd4-ba22-27e00a0b3f81",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8 DeleteSubscriptions\n---\n",
      "Content": "5.14.8.1 Description"
    },
    {
      "Id": "39f45a97-108b-44f2-86bf-79d745fc3242",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8.1 Description\n---\n",
      "Content": "This Service is invoked to delete one or more Subscriptions that belong to the Client\u0027s Session.\nSuccessful completion of this Service causes all MonitoredItems that use the Subscription to be deleted. If this is the last Subscription for the Session, then all Publish requests still queued for that Session are de-queued and shall be returned with Bad_NoSubscription.\nSubscriptions that were transferred to another Session shall be deleted by the Client that owns the Session."
    },
    {
      "Id": "a918815e-2adb-4024-a096-b655a780525c",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8 DeleteSubscriptions\n---\n",
      "Content": "5.14.8.2 Parameters"
    },
    {
      "Id": "6843c3ec-0c68-4345-ae6c-ca5ea9d6bf0c",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8.2 Parameters\n---\n",
      "Content": "[Table 97](/\u00A7_Ref74552979) defines the parameters for the Service.\nTable 97- DeleteSubscriptions Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nsubscriptionIds []\nIntegerId\nThe Server-assigned identifier for the Subscription(see[7.19](/\u00A7_Ref128929614) for IntegerId definition).\n\n\n\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nresults []\nStatusCode\nList of StatusCodes for the Subscriptions to delete (see[7.38](/\u00A7_Ref127346441) for StatusCode definition). The size and order of the list matches the size and order of the subscriptionIds request parameter.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the Subscriptions to delete (see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the subscriptionIds request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the request."
    },
    {
      "Id": "8a339323-7f40-4cae-b61a-b4658027584c",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8 DeleteSubscriptions\n---\n",
      "Content": "5.14.8.3 Service results"
    },
    {
      "Id": "250bbeb6-1a1d-43e3-b5ce-5b10bda05cff",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8.3 Service results\n---\n",
      "Content": "[Table 98](/\u00A7_Ref78939143) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 98- DeleteSubscriptions Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "123468a2-cf5d-4d52-b9fc-390c3b34d1c9",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8 DeleteSubscriptions\n---\n",
      "Content": "5.14.8.4 StatusCodes"
    },
    {
      "Id": "24879dd0-f1a9-4185-9c6b-63d2ccb15cd4",
      "Header": "Document: Part 4 - Services\nSection: 5.14.8.4 StatusCodes\n---\n",
      "Content": "[Table 99](/\u00A7_Ref134423989) defines values for the results parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 99- DeleteSubscriptions Operation Level Result Codes\nSymbolic Id\nDescription\nBad_SubscriptionIdInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code."
    },
    {
      "Id": "44bdcf58-dbac-46a5-aa02-1ea343c48187",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "6 Service behaviours"
    },
    {
      "Id": "e8a1ef5a-fce8-4e27-89d8-01fdf68206ec",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.1 Security"
    },
    {
      "Id": "9c9e75a0-3a5f-40e5-b9f1-a36251568677",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.1 Overview"
    },
    {
      "Id": "2a704e0f-c088-48b1-806b-9f30adfe02c3",
      "Header": "Document: Part 4 - Services\nSection: 6.1.1 Overview\n---\n",
      "Content": "The OPC UA Services define a number of mechanisms to meet the security requirements outlined in[OPC 10000-2](/\u00A7UAPart2). This clause describes a number of important security-related procedures that OPC UA Applications shall follow."
    },
    {
      "Id": "2b8734eb-5c13-4695-8fd0-a1cc2c287545",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.2 Obtaining and installing an ApplicationInstanceCertificate"
    },
    {
      "Id": "fa9b8961-e64f-4410-9fa7-5604f7841d2e",
      "Header": "Document: Part 4 - Services\nSection: 6.1.2 Obtaining and installing an ApplicationInstanceCertificate\n---\n",
      "Content": "All OPC UA Applications require an ApplicationInstanceCertificate which shall contain the following information:\nThe network name or address of the computer where the application runs;\nThe name of the organization that administers or owns the application;\nThe name of the application;\nThe URI of the application instance;\nThe validFrom and validTo date for the Certificate.\nApplicationInstanceCertificates issued by a Certificate Authority(CA) shall contain the following additional information:\nThe name of the Certificate Authority that issued the Certificate;\nThe public key issued to the application by the Certificate Authority;\nA digital signature created by the Certificate Authority.\nNote Self-signed Certificates contain this information but in this case the information is set to itself.\nIn addition, each ApplicationInstanceCertificate has a private key which should be stored in a location that can only be accessed by the application. If this private key is compromised, the administrator shall force the creation of a new ApplicationInstanceCertificate and private key by the application.\nThis Certificate may be generated automatically when the application is installed. In this situation the private key assigned to the Certificate shall be used to create the Certificate signature. Certificates created in this way are called self-signed Certificates.\nManual management and replacement before expiry of self-signed Certificates may be appropriate for a few Clients connected to one Server. In complex communication scenarios a central management of Certificates based on a Certificate Authority is recommended. This includes initial roll-out and automatic updates by a CertificateManager defined in[OPC 10000-12](/\u00A7UAPart12).\nIf the administrator responsible for the application decides that a self-signed Certificate does not meet the security requirements of the organization, then the administrator should install a Certificate issued by a Certification Authority. The steps involved in requesting an ApplicationInstanceCertificate from a Certificate Authority are shown in"
    },
    {
      "Id": "21bb7b6c-d071-4f8c-b61a-22e5f17fbf6d",
      "Header": "Document: Part 4 - Services\nSection: 6.1.2 Obtaining and installing an ApplicationInstanceCertificate\n---\n",
      "Content": "Certificate Authority are shown in[Figure 19](/\u00A7_Ref136786033)."
    },
    {
      "Id": "087a1a67-244e-4e71-8e59-ff47f82cfdd2",
      "Header": "Document: Part 4 - Services\nSection: 6.1.2 Obtaining and installing an ApplicationInstanceCertificate\nCaption: Figure 19 - Obtaining and installing an ApplicationInstanceCertificate\n---\n",
      "Content": "[image022.png](images/image022.png)"
    },
    {
      "Id": "fd8d65df-066d-4c9a-a4a8-2bb953d60d14",
      "Header": "Document: Part 4 - Services\nSection: 6.1.2 Obtaining and installing an ApplicationInstanceCertificate\n---\n",
      "Content": "Figure 19 - Obtaining and installing an ApplicationInstanceCertificate\n[Figure 19](/\u00A7_Ref136786033) above illustrates the interactions between the application, the Administrator and the Certificate Authority. The application is a OPC UA Application installed on a single machine. The Administrator is the person responsible for managing the machine and the OPC UA Application. The Certificate Authority is an entity that can issue digital Certificates that meet the requirements of the organization deploying the OPC UA Application.\nOPC UA defines interfaces and workflows to register OPC UA Applications with a central discovery service and to execute the interaction necessary with a CertificateManager to issue the initial Certificate Authority signed Certificate, The CertificateManager interface includes features to get a TrustList and also Certificate updates from a central place. The Global Discovery Server (GDS) and CertificateManager functionality is defined in[OPC 10000-12](/\u00A7UAPart12).\nIf the Administrator decides that a self-signed Certificate meets the security requirements for the organization, then the Administrator may skip Steps 3 through 5. Application vendors shall ensure that a Certificate is available after the installation process. Every OPC UA Application shall allow the Administrators to replace ApplicationInstanceCertificates with Certificates that meet their requirements.\nWhen the Administrator requests a new Certificate from a Certificate Authority, the Certificate Authority may require that the Administrator provide proof of authorization to request Certificates for the organization that will own the Certificate. The exact mechanism used to provide this proof depends on the Certificate Authority.\nVendors should automate the process of acquiring Certificates from an authority using the CertificateManager defined in[OPC 10000-12](/\u00A7UAPart12). If this is the case, the Administrator would still go through the steps illustrated in[Figure 19](/\u00A7_Ref136786033)"
    },
    {
      "Id": "a9ce3ba0-56c4-4005-af8f-c84528f4579d",
      "Header": "Document: Part 4 - Services\nSection: 6.1.2 Obtaining and installing an ApplicationInstanceCertificate\n---\n",
      "Content": ", however, the installation program for the application would do them automatically and only prompt the Administrator to provide information about the application instance being installed."
    },
    {
      "Id": "b3c54a24-73d5-4161-8e36-da7a69e918b9",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.3 Determining if a Certificate is trusted"
    },
    {
      "Id": "d1bc171a-61a4-41ec-97bd-d27dbf421fee",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "Applications shall never communicate with another application that they do not trust. An Application decides if another application is trusted by checking whether the ApplicationInstanceCertificate for the other application is trusted. A Certificate is only trusted if its chain can be validated.\nApplications shall rely on lists of Certificates provided by the Administrator to determine trust. There are two separate lists: a list of trusted Certificates and a list of issuer Certificates(i.e. CAs). The list of trusted Certificates may contain a Certificate issued to another Application or it may be a Certificate belonging to a CA. The list of issuer Certificates contains CA Certificates needed for chain validation that are not in the list of trusted Certificates.\nWhen building a chain each Certificate in the chain shall be validated back to a CA with a self-signed Certificate(a.k.a. a root CA). If any validation error occurs then the trust check fails. Some validation errors are non-critical which means they can be suppressed by a user of an Application with the appropriate privileges. Suppressed validation errors are always reported via auditing (i.e. an appropriate Audit event is raised).\nDetermining trust requires access to all Certificates in the chain. These Certificates may be stored locally or they may be provided with the application Certificate. Processing fails with Bad_SecurityChecksFailed if an element in the chain cannot be found. A Certificate is trusted if the Certificate or at least one of the Certificates in the chain are in the list of trusted Certificates for the Application and the chain is valid.\n[Table 100](/\u00A7_Ref181603918) specifies the steps used to validate a Certificate in the order that they shall be followed. These steps are repeated for each Certificate"
    },
    {
      "Id": "6270eaf2-7350-4b2c-95e1-e3974f11f6e4",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "Certificate in the chain. Each validation step has a unique error status and audit event type that shall be reported if the check fails. The audit event is in addition to any audit event that was generated for the particular Service that was invoked. The Service audit event in its message text shall include the audit EventId of the AuditCertificateEventType(for more details, see[6.5](/\u00A7_Ref468992923)). Processing halts if an error occurs, unless it is non-critical and it has been suppressed. The validation process is executed for all types of Certificates. Some steps are skipped if the Certificate is not an ApplicationInstanceCertificate.\nApplicationInstanceCertificates shall not be used in a Client or Server until they have been evaluated and marked as trusted. This can happen automatically by a PKI trust chain or in an offline manner where the Certificate is marked as trusted by an administrator after evaluation.\nTable 100- Certificate validation steps\nStep\nError/AuditEvent\nDescription\nCertificate Structure\nBad_CertificateInvalid Bad_SecurityChecksFailed\nAuditCertificateInvalidEventType\nThe Certificate structure is verified.\nThis error may not be suppressed.\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\nBuild Certificate Chain\nBad_CertificateChainIncomplete\nBad_SecurityChecksFailed\nAuditCertificateInvalidEventType\nThe trust chain for the Certificate is created.\nAn error during the chain creation may not be suppressed.\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\nSignature\nBad_CertificateInvalid\nBad_SecurityChecksFailed\nAuditCertificateInvalidEventType\nA Certificate with an invalid signature shall always be rejected.\nA Certificate signature is invalid if the Issuer Certificate is unknown. A self-signed Certificate is its own issuer."
    },
    {
      "Id": "b6b12047-628b-4f0c-b3e8-1efc794c7cbd",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "is its own issuer.\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\nSecurity Policy Check\nBad_CertificatePolicyCheckFailed\nBad_SecurityChecksFailed\nAuditCertificateInvalidEventType\nA Certificate signature shall comply with the CertificateSignatureAlgorithm, MinAsymmetricKeyLength and MaxAsymmetricKeyLength requirements for the used SecurityPolicy defined in[OPC 10000-7](/\u00A7UAPart7).\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\nThis error may be suppressed.\nTrust List Check\nBad_CertificateUntrusted\nBad_SecurityChecksFailed\nAuditCertificateUntrustedEventType\nIf the ApplicationInstanceCertificate is not trusted and none of the CA Certificates in the chain is trusted, the result of the Certificate validation shall be Bad_CertificateUntrusted.\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\nThis check is applied for ApplicationInstanceCertificates and may not apply for all other Certificate types.\nValidity Period\nBad_CertificateTimeInvalid\nBad_CertificateIssuerTimeInvalid\nAuditCertificateExpiredEventType\nThe current time shall be after the start of the validity period and before the end.\nThis error may be suppressed.\nHost Name\nBad_CertificateHostNameInvalid\nAuditCertificateDataMismatchEventType\nThe HostName in the URL used to connect to the Server shall be the same as one of the HostNames specified in the Certificate.\nThis check is applied for OPC UA Server ApplicationInstanceCertificates and skipped for CA Certificates and Client ApplicationInstanceCertificates.\nThis check may be skipped for other Certificate types.\nThis error may be suppressed.\nURI\nBad_CertificateUriInvalid"
    },
    {
      "Id": "5a498300-c957-4f0f-9b93-5b788a5ecf16",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "AuditCertificateDataMismatchEventType\nApplication and Software Certificates contain an application or product URI that shall match the URI specified in the ApplicationDescription provided with the Certificate.\nThis check is only applied for ApplicationInstanceCertificates and skipped for all other types like CA Certificates.\nThis error may not be suppressed.\nThe gatewayServerUri is used to validate an Application Certificate when connecting to a Gateway Server(see[7.2](/\u00A7_Ref153821547)).\nCertificate Usage\nBad_CertificateUseNotAllowed\nBad_CertificateIssuerUseNotAllowed\nAuditCertificateMismatchEventType\nEach Certificate has a set of uses for the Certificate(see[OPC 10000-6](/\u00A7UAPart6)). These uses shall match use requested for the Certificate(i.e. Application, Software or CA).\nThis error may be suppressed unless the Certificate indicates that the usage is mandatory.\nFind Revocation List\nBad_CertificateRevocationUnknown Bad_CertificateIssuerRevocationUnknown\nAuditCertificateRevokedEventType\nEach CA Certificate may have a revocation list. This check fails if this list is not available (i.e. a network interruption prevents the application from accessing the list). No error is reported if the Administrator disables revocation checks for a CA Certificate.\nThis error may be suppressed.\nBad_SecurityChecksFailed should be reported back to the Client.\nRevocation Check\nBad_CertificateRevoked\nBad_CertificateIssuerRevoked\nAuditCertificateRevokedEventType\nThe Certificate shall not be revoked. Whether a certificate is revoked shall be checked as specified in RFC 5280, 6.3.\nIf a revocation list is found, this error may not be suppressed.\nIf this check fails on the Server side, the error Bad_SecurityChecksFailed shall be reported back to the Client.\n\nCertificates"
    },
    {
      "Id": "2b879f03-a198-40ad-9816-113803712442",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "Client.\n\nCertificates are usually placed in a central location called a CertificateStore.[Figure 20](/\u00A7_Ref182130231) illustrates the interactions between the Application, the Administrator and the CertificateStore. The CertificateStore could be on the local machine or in some central server. The exact mechanisms used to access the CertificateStore depend on the application and PKI environment set up by the Administrator."
    },
    {
      "Id": "a74ad990-c863-45dd-95db-04614efbb030",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\nCaption: Figure 20 - Determining if an ApplicationInstanceCertificate is trusted\n---\n",
      "Content": "[image023.png](images/image023.png)"
    },
    {
      "Id": "27be6b8b-4cfd-4ca4-a843-df62d2678208",
      "Header": "Document: Part 4 - Services\nSection: 6.1.3 Determining if a Certificate is trusted\n---\n",
      "Content": "Figure 20 - Determining if an ApplicationInstanceCertificate is trusted"
    },
    {
      "Id": "ee45b9cd-761b-440f-8236-fc9c2ad3bc16",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.4 Creating a SecureChannel"
    },
    {
      "Id": "fa13edd2-2a0d-4bd7-a5c6-d08d14ddcd0e",
      "Header": "Document: Part 4 - Services\nSection: 6.1.4 Creating a SecureChannel\n---\n",
      "Content": "All OPC UA Applications shall establish a SecureChannel before creating a Session. This SecureChannel requires that both applications have access to Certificates that can be used to encrypt and sign Messages exchange. The ApplicationInstanceCertificates installed by following the process described in[6.1.2](/\u00A7_Ref136789690) may be used for this purpose.\nThe steps involved in establishing a SecureChannel are shown in[Figure 21](/\u00A7_Ref136791502)."
    },
    {
      "Id": "83daba0b-c4c5-4c76-a7c5-bcfad2b24634",
      "Header": "Document: Part 4 - Services\nSection: 6.1.4 Creating a SecureChannel\nCaption: Figure 21 - Establishing a SecureChannel\n---\n",
      "Content": "[image024.png](images/image024.png)"
    },
    {
      "Id": "56545066-bbe2-449b-8c11-db54080c9b84",
      "Header": "Document: Part 4 - Services\nSection: 6.1.4 Creating a SecureChannel\n---\n",
      "Content": "Figure 21 - Establishing a SecureChannel\n[Figure 21](/\u00A7_Ref136791502) assumes Client and Server have online access to a CertificateA uthority (CA). If online access is not available and if the administrator has installed the CA public key on the local machine, then the Client and Server shall still validate the application Certificates using that key. The figure shows only one CA, however, there is no requirement that the Client and Server Certificates be issued by the same authority. A self-signed ApplicationInstanceCertificate does not need to be verified with a CA. Any Certificate shall be rejected if it is not in a TrustList provided by the administrator.\nBoth the Client and Server shall have a list of Certificates that they have been configured to trust (sometimes called the Certificate Trust List or CTL). These trusted Certificates may be Certificates for Certificate Authorities or they may be OPC UA ApplicationInstanceCertificates. OPC UA Applications shall be configured to reject connections with applications that do not have a trusted Certificate.\nCertificates can be compromised, which means they should no longer be trusted. Administrators can revoke a Certificate by removing it from the TrustList for all applications or the CA can add the Certificate to the Certificate Revocation List (CRL) for the Issuer Certificate. Administrators may save a local copy of the CRL for each Issuer Certificate when online access is not available.\nA Client does not need to call GetEndpoints each time it connects to the Server. This information should change rarely and the Client can cache it locally. If the Server rejects the OpenSecureChannel request the Client should call GetEndpoints and make sure the Server configuration has not changed.\nThere are two security risks which a Client shall be aware of when using the GetEndpoints Service. The first could come from a rogue Discovery Server that tries to direct the Client to a rogue Server"
    },
    {
      "Id": "461a2066-4415-4d1e-9f52-d1e440248e28",
      "Header": "Document: Part 4 - Services\nSection: 6.1.4 Creating a SecureChannel\n---\n",
      "Content": "Client to a rogue Server. For this reason the Client shall verify that the ServerCertificate in the EndpointDescription is a trusted Certificate before it calls CreateSession.\nThe second security risk comes from a third party that alters the contents of the EndpointDescriptions as they are transferred over the network back to the Client. The Client protects itself against this by comparing the list of EndpointDescriptions returned from the GetEndpoints Service with list returned in the CreateSession response.\nThe exact mechanisms for using the SecurityToken to sign and encrypt Messages exchanged over the SecureChannel are described in[OPC 10000-6](/\u00A7UAPart6). The process for renewing tokens is also described in detail in[OPC 10000-6](/\u00A7UAPart6).\nIn many cases, the Certificates used to establish the SecureChannel will be the ApplicationInstanceCertificates. However, some Communication Stacks might not support Certificates that are specific to a single application. Instead, they expect all communication to be secured with a Certificate specific to a user or the entire machine. For this reason, OPC UA Applications will need to exchange their ApplicationInstanceCertificates when creating a Session."
    },
    {
      "Id": "9119c10d-d014-4ca8-98fa-5f3deabcc286",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.5 Creating a Session"
    },
    {
      "Id": "0abc0074-5c08-441b-92a6-9ff74730aeb4",
      "Header": "Document: Part 4 - Services\nSection: 6.1.5 Creating a Session\n---\n",
      "Content": "Once an OPC UA Client has established a SecureChannel with a Server it can create an OPC UA Session.\nThe steps involved in establishing a Session are shown in[Figure 22](/\u00A7_Ref136793555)."
    },
    {
      "Id": "f91105db-2789-4061-80be-9e04e85a5bfa",
      "Header": "Document: Part 4 - Services\nSection: 6.1.5 Creating a Session\nCaption: Figure 22 - Establishing a Session\n---\n",
      "Content": "[image025.png](images/image025.png)"
    },
    {
      "Id": "2481d7b1-920b-4dc7-9089-192269a8fd7e",
      "Header": "Document: Part 4 - Services\nSection: 6.1.5 Creating a Session\n---\n",
      "Content": "Figure 22 - Establishing a Session\n[Figure 22](/\u00A7_Ref136793555) illustrates the interactions between a Client, a Server, a Certificate Authority(CA) and an identity provider. The CA is responsible for issuing the ApplicationInstanceCertificates. If the Client or Server does not have online access to the CA, then they shall validate the ApplicationInstanceCertificates using the CA public key that the administrator shall install on the local machine.\nThe identity provider may be a central database that can verify that user token provided by the Client. This identity provider may also tell the Server which access rights the user has. The identity provider depends on the user identity token. It could be a Certificate Authority, an Authorization Service or a proprietary database of some sort.\nThe Client and Server shall prove possession of their ApplicationInstanceCertificates by signing the Certificates with a nonce appended. The exact mechanism used to create the proof of possession signatures is described in[5.7.2](/\u00A7_Ref154236902). Similarly, the Client shall prove possession by either providing a secret like a password in the user identity token or by creating a signature with the secret associated with a user identity token like X.509 v3."
    },
    {
      "Id": "ceaded0e-db90-494c-a961-32ccc5f1df3c",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.6 Impersonating a User"
    },
    {
      "Id": "04a632a8-8590-4a60-9fa3-68a332fa065a",
      "Header": "Document: Part 4 - Services\nSection: 6.1.6 Impersonating a User\n---\n",
      "Content": "Once an OPC UA Client has established a Session with a Server it can change the user identity associated with the Session by calling the ActivateSession service.\nThe steps involved in impersonating a user are shown in[Figure 23](/\u00A7_Ref157840238). The access of the Server to the identity provider is Server-internal and it may be just an access to an internal user database."
    },
    {
      "Id": "c7ebc885-9e84-43e1-adca-c217935951f0",
      "Header": "Document: Part 4 - Services\nSection: 6.1.6 Impersonating a User\nCaption: Figure 23 - Impersonating a User\n---\n",
      "Content": "[image026.png](images/image026.png)"
    },
    {
      "Id": "1d0460fa-a7c9-4039-9e9a-efa3fc0bb43a",
      "Header": "Document: Part 4 - Services\nSection: 6.1.6 Impersonating a User\n---\n",
      "Content": "Figure 23 - Impersonating a User"
    },
    {
      "Id": "015b0194-443e-4185-aebc-95c9691db515",
      "Header": "Document: Part 4 - Services\nSection: 6.1 Security\n---\n",
      "Content": "6.1.7 Continuous security checks"
    },
    {
      "Id": "abcffb46-94b9-4e8a-9527-d5e0e04af726",
      "Header": "Document: Part 4 - Services\nSection: 6.1.7 Continuous security checks\n---\n",
      "Content": "ApplicationInstanceCertificates or UserIdentityTokens may expire, get invalid or may be rejected on Client or Server side.\nApplicationInstanceCertificates verification shall be executed every time the SecurityToken is renewed for a SecureChannel. OPC UA Applications may do additional verifications between SecurityToken renews e.g. if the TrustList is updated from a GDS.\nIf the SecureChannel does not use ApplicationInstanceCertificates, the OPC UA Application should execute ApplicationInstanceCertificate checks for the Session at a rate used for SecureChannel renewals.\nThe recovery mechanisms for ApplicationInstanceCertificate replacement scenarios are described in[6.7](/\u00A7_Ref65589175).\nOPC UA Application should have internal notification mechanisms to get informed about removal of user identities or should frequently check if the UserIdentityTokens is still valid or if the authorization for a UserIdentityTokens was changed."
    },
    {
      "Id": "91d3cd86-712c-49b2-a093-0807e7312ec0",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.2 Authorization Services"
    },
    {
      "Id": "f02cc1f8-81e3-43b5-9fc1-c45bc80ca3ef",
      "Header": "Document: Part 4 - Services\nSection: 6.2 Authorization Services\n---\n",
      "Content": "6.2.1 Overview"
    },
    {
      "Id": "6113d7c3-06e7-47d3-9844-e99ea2537468",
      "Header": "Document: Part 4 - Services\nSection: 6.2.1 Overview\n---\n",
      "Content": "Authorization Services provide Access Tokens to Clients on behalf of Users that they pass to a Server to be granted access to resources.\nIn a basic model (as shown in[Figure 22](/\u00A7_Ref136793555)) the Server is responsible for authorization (i.e. deciding what a user can do) while a separate identity provider (e.g. the operating system) is responsible for authentication (deciding who the user is).\nIn more complex models, the Server relies on external Authorization Services to provide some of its authorization requirements. These Authorization Services act in concert with an external identity provider which validates the user credentials before the external Authorization Service creates an Access Token that tells the Server what the user is a allowed to do. The Client interactions with these services may be indirect as shown in[6.2.2](/\u00A7_Ref494296474) or direct as shown in[6.2.3](/\u00A7_Ref494296484).\nEven when the Server requires the Client to use an external Authorization Service the Server is still responsible for managing and enforcing the Permissions assigned to Nodes in its Address Space. The clauses below discuss the use of an external Authorization Service in more detail."
    },
    {
      "Id": "6a2c2350-9f3b-4cc6-9825-d7f46d8b5fac",
      "Header": "Document: Part 4 - Services\nSection: 6.2 Authorization Services\n---\n",
      "Content": "6.2.2 Indirect handshake with an Identity Provider"
    },
    {
      "Id": "922f410d-902b-4032-a000-ccf666f77627",
      "Header": "Document: Part 4 - Services\nSection: 6.2.2 Indirect handshake with an Identity Provider\n---\n",
      "Content": "Authorization Services(AS) provide access to identity providers which can validate the credentials provided by Clients. They then provide tokens which can be passed to a Server instead of the credentials. These tokens are passed as an IssuedIdentityToken defined in[7.40.6](/\u00A7_Ref468986077).\nThe protocol to request tokens depends on the Authorization Service(AS). Common protocols include OAuth2 and OPC UA. OAuth2 supports claims based authorization as described in[OPC 10000-2](/\u00A7UAPart2).\nServers publish the Authorization Services(AS) they support in the UserTokenPolicies list return with GetEndpoints. The IssuedTokenType field specifies the protocol used to communicate with the AS. The IssuerEndpointUrl field contains the information needed by the Client to connect to the AS using the protocol required by the AS.\nThe basic handshake is shown in[Figure 24](/\u00A7_Ref468983960)."
    },
    {
      "Id": "cc41a91e-ab8a-4446-af12-6a484161e27a",
      "Header": "Document: Part 4 - Services\nSection: 6.2.2 Indirect handshake with an Identity Provider\nCaption: Figure 24 - Indirect handshake with an Identity Provider\n---\n",
      "Content": "[image027.png](images/image027.png)"
    },
    {
      "Id": "2627bee4-7c28-4e40-80d4-1e06b6dff19f",
      "Header": "Document: Part 4 - Services\nSection: 6.2.2 Indirect handshake with an Identity Provider\n---\n",
      "Content": "Figure 24 - Indirect handshake with an Identity Provider"
    },
    {
      "Id": "45274341-613e-482c-b6e6-09ac59c586be",
      "Header": "Document: Part 4 - Services\nSection: 6.2 Authorization Services\n---\n",
      "Content": "6.2.3 Direct handshake with an Identity Provider"
    },
    {
      "Id": "72bfdbd6-2e18-4251-b39c-cdce5eb3f2e4",
      "Header": "Document: Part 4 - Services\nSection: 6.2.3 Direct handshake with an Identity Provider\n---\n",
      "Content": "Authorization Services require that Servers be registered with them because the Access Tokens can only be used with a single Server. This can introduce a lot of complexity for administrators. One way to reduce this complexity is to leverage the Server information that is already managed by a Global Discovery Service (GDS) described in[OPC 10000-12](/\u00A7UAPart12). In this model the user identities are still managed by a central Authorization Service. The interactions are shown in[Figure 25](/\u00A7_Ref468983961)."
    },
    {
      "Id": "fe8cb693-0b95-45df-952d-512772c9a475",
      "Header": "Document: Part 4 - Services\nSection: 6.2.3 Direct handshake with an Identity Provider\nCaption: Figure 25 - Direct handshake with an Identity Provider\n---\n",
      "Content": "[image028.png](images/image028.png)"
    },
    {
      "Id": "af12cf01-8b15-4106-90a8-baf8828ac30f",
      "Header": "Document: Part 4 - Services\nSection: 6.2.3 Direct handshake with an Identity Provider\n---\n",
      "Content": "Figure 25 - Direct handshake with an Identity Provider\nThe UserTokenPolicy returned from the Server provides the URL of the Authorization Service and the identity provider. If the Application Authorization Service is linked with the GDS, it knows of all Servers which have been issued Certificates. The ApplicationUri is used as the identifier for the Server passed to the AS. The identity provider is responsible for managing users known to the system. It validates the credentials provided by the Client and returns an Identity Access Token which identifies the user. The Identity Access Token is passed to the Application Authorization Service which validates the Client and Server applications and creates a new Access Token that can be used to access the Server."
    },
    {
      "Id": "0b586a21-96bb-4d3f-8cbf-354a9ccfa93c",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.3 Session-less Service invocation"
    },
    {
      "Id": "e902f958-9dae-477e-9fb8-781cc5e7cbf0",
      "Header": "Document: Part 4 - Services\nSection: 6.3 Session-less Service invocation\n---\n",
      "Content": "6.3.1 Description"
    },
    {
      "Id": "6ea0e652-6ee0-4fd6-b4a1-115d413f4cfa",
      "Header": "Document: Part 4 - Services\nSection: 6.3.1 Description\n---\n",
      "Content": "The Session-less Service invocation is introduced for Services, such as Read, Write or Call, that do not require any caller specific state information. It is accessible through the SessionlessInvoke Service which provides the context information required to call Services without a Session.\nSession-less invocation is limited to Services of the View Service Set(with exception of RegisterNodes and UnregisterNodes), Attribute Service Set, Method Service Set, NodeManagement Service Set and Query Service Set. If Session-less Service invocation is supported by a Server, all Services belonging to these Service Sets that are supported by a Server via a Session shall also be supported via the SessionlessInvoke Service.\nSession-less Services are invoked via a SecureChannel using the Access Token returned from the Authorization Service as the authenticationToken in the requestHeader. The SecureChannel shall have encryption enabled to prevent eavesdroppers from seeing the Access Token. The Access Token provides the user authentication. If application authentication through the SecureChannel is sufficient, Servers may not require the Access Token and assume an anonymous user. In this case the authenticationToken shall be null.\nThe SessionlessInvoke Messages are just an envelope for the Service to invoke and do not have a RequestHeader and ResponseHeader like other Services. Those parameters are already part of the body which contains the Message for the Service to invoke.\nAny Endpoint used for normal communication could be used for Session-less invocation provided the Endpoint supports encryption. The Server returns Bad_ServiceUnsupported if it does not support Session-less invocation for the request specified in the body. If it supports invocation but not with the combination of Endpoint and security settings used it returns Bad_ SecurityModeInsufficient.\nServers may expose Endpoints which are only for use with Session-less invocation. These Endpoints shall support GetEndpoints and FindServers in addition to the SessionlessInvoke Service. The Server returns Bad_ServiceUnsupported for the other Services.\nA Session"
    },
    {
      "Id": "761d6851-d7b7-4297-b101-10e4813a233b",
      "Header": "Document: Part 4 - Services\nSection: 6.3.1 Description\n---\n",
      "Content": "Services.\nA Session ensures that a namespace index or a server index does not change during the lifetime of a Session. This cannot be ensured between Session-less Services invocations. There are two options to ensure the namespace indices in the call match the expected namespace URIs in the Server. One option for the caller is to provide the list of namespace URIs used to build the namespace indices. This works best for single Session-less Service invocations. The second option is to provide the UrisVersion to ensure consistency of namespace arrays between Client and Server. The UrisVersion is first read from the Server together with the NamespaceArray and ServerArray. This reduces the overhead per call for a sequence of Session-less Service invocations."
    },
    {
      "Id": "8ca31448-713f-4ee4-83ff-32c6cfad5917",
      "Header": "Document: Part 4 - Services\nSection: 6.3 Session-less Service invocation\n---\n",
      "Content": "6.3.2 Parameters"
    },
    {
      "Id": "86a55595-d2c6-499f-b70e-eba287d020e5",
      "Header": "Document: Part 4 - Services\nSection: 6.3.2 Parameters\n---\n",
      "Content": "[Table 101](/\u00A7_Ref457764532) defines the parameters for the Service.\nTable 101- SessionlessInvoke Service Parameters\nName\nType\nDescription\nRequest\n\n\nurisVersion\nVersionTime\nThe version of the NamespaceArray and the ServerArray used for the Service invocation. The version shall match the value of the UrisVersion Property that defines the version for the URI lists in the NamespaceArray and the ServerArray Properties defined in[OPC 10000-5](/\u00A7UAPart5). If the urisVersion parameter does not match the Server\u0027s UrisVersion Property, the Server shall return Bad_VersionTimeInvalid. In this case the Client shall read the UrisVersion, NamespaceArray and the ServerArray from the Server Object to repeat the Service invocation with the right version. The VersionTime DataType is defined in[7.43](/\u00A7_Ref482817493).\nIf the value is 0, the parameter is ignored and the URIs are defined by the namespaceUris and serverUris parameters in request and response.\nIf the value is non-zero, the namespaceUris and serverUris parameters in the request are ignored by the Server and set to null or empty arrays in the response.\nnamespaceUris []\nString\nA list of URIs referenced by NodeIds or QualifiedNames in the request.\nNamespaceIndex 0 shall not be in this list.\nThe first entry in this list is NamespaceIndex 1.\nThe parameter shall be ignored by the Server if the urisVersion is not 0.\nserverUris []\nString\nA list of URIs referenced by ExpandedNodeIds in the request.\nServerIndex 0 shall not be in this list.\nThe first entry in this list is ServerIndex 1."
    },
    {
      "Id": "8bad8092-8050-46e5-9838-390b321e12ab",
      "Header": "Document: Part 4 - Services\nSection: 6.3.2 Parameters\n---\n",
      "Content": "The parameter shall be ignored by the Server if the urisVersion is not 0.\nlocaleIds []\nLocaleId\nList of locale ids to use. See locale negotiation in[5.4](/\u00A7_Ref161623610) which applies to this Service.\nserviceId\nUInt32\nThe numeric identifier assigned to the Service request DataType NodeId describing the body.\nbody\n*\nThe body of the request.\nThe body is an embedded structure containing the corresponding Service request for the serviceId.\nResponse\n\n\nnamespaceUris []\nString\nA list of URIs referenced by NodeIds or QualifiedNames in the response.\nNamespaceIndex 0 shall not be in this list.\nThe first entry in this list is NamespaceIndex 1.\nAn empty array shall be returned if the urisVersion is not 0.\nserverUris []\nString\nA list of URIs referenced by ExpandedNodeIds in the response.\nServerIndex 0 shall not be in this list.\nThe first entry in this list is ServerIndex 1.\nAn empty array shall be returned if the urisVersion is not 0.\nserviceId\nUInt32\nThe numeric identifier assigned to the Service response DataType NodeId describing the body.\nbody\n*\nThe body of the response.\nThe body is an embedded structure containing the corresponding Service response for the serviceId."
    },
    {
      "Id": "3e6099d3-a230-4f1a-a9d9-e39d5bfe1a06",
      "Header": "Document: Part 4 - Services\nSection: 6.3 Session-less Service invocation\n---\n",
      "Content": "6.3.3 Service results"
    },
    {
      "Id": "6eaa04bb-0210-4fd3-85a3-58690d32b45b",
      "Header": "Document: Part 4 - Services\nSection: 6.3.3 Service results\n---\n",
      "Content": "[Table 102](/\u00A7_Ref482816649) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable 102- SessionlessInvoke Service Result Codes\nSymbolic Id\nDescription\nBad_VersionTimeInvalid\nThe provided version time is no longer valid."
    },
    {
      "Id": "b85c62e3-49db-4304-9e6e-e2e175774ac2",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.4 Software Certificates"
    },
    {
      "Id": "3e949e4c-2eba-4623-8635-97ec3f1927e5",
      "Header": "Document: Part 4 - Services\nSection: 6.4 Software Certificates\n---\n",
      "Content": "Note Details on SoftwareCertificates will be defined in a future version of this document."
    },
    {
      "Id": "7ace4e70-c2b0-4397-971c-9e630e6fd7ae",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.5 Auditing"
    },
    {
      "Id": "aee20576-d75a-402d-8ba7-e3e66d797271",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.1 Overview"
    },
    {
      "Id": "aa7d2e7d-830f-4234-aa9c-8417fd97335a",
      "Header": "Document: Part 4 - Services\nSection: 6.5.1 Overview\n---\n",
      "Content": "Auditing is a requirement in many systems. It provides a means of tracking activities that occur as part of normal operation of the system. It also provides a means of tracking abnormal behaviour. It is also a requirement from a security standpoint. For more information on the security aspects of auditing, see[OPC 10000-2](/\u00A7UAPart2). Subclause[6.5](/\u00A7_Ref28180594) describes what is expected of an OPC UA Server and Client with respect to auditing and it details the audit requirements for each service set. Auditing can be accomplished using one or both of the following methods:\nThe OPC UA Application that generates the audit event can log the audit entry in a log file or other storage location;\nThe OPC UA Server that generates the audit event can publish the audit event using the OPC UA event mechanism. This allows an external OPC UA Client to subscribe to and log the audit entries to a log file or other storage location."
    },
    {
      "Id": "4761bc03-70a0-4936-9cd7-53d57aeb4ef0",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.2 General audit logs"
    },
    {
      "Id": "7327b341-8d6b-4e3f-825d-058e6afb105a",
      "Header": "Document: Part 4 - Services\nSection: 6.5.2 General audit logs\n---\n",
      "Content": "Each OPC UA Service request contains a string parameter that is used to carry an audit record id. A Client or any Server operating as a Client, such as an aggregating Server, can create a local audit log entry for a request that it submits. This parameter allows this Client to pass the identifier for this entry with the request. If this Server also maintains an audit log, it should include this id in its audit log entry that it writes. When this log is examined and that entry is found, the examiner will be able to relate it directly to the audit log entry created by the Client. This capability allows for traceability across audit logs within a system."
    },
    {
      "Id": "399649c8-cc33-451a-9ca2-3a8a9d56a462",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.3 General audit Events"
    },
    {
      "Id": "81860aba-c5e5-4790-ad5d-3aadb19cd17f",
      "Header": "Document: Part 4 - Services\nSection: 6.5.3 General audit Events\n---\n",
      "Content": "A Server that maintains an audit log shall provide the audit log entries via Event Messages. The AuditEventType and its sub-types are defined in[OPC 10000-3](/\u00A7UAPart3). An audit Event Message also includes the audit record Id. The details of the AuditEventType and its subtypes are defined in[OPC 10000-5](/\u00A7UAPart5). A Server that is an aggregating Server that supports auditing shall also subscribe for audit events for all of the Servers that it is aggregating (assuming they provide auditing). The combined stream should be available from the aggregating Server."
    },
    {
      "Id": "12539dd7-36a6-465f-bf60-ab05dd8f5b45",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.4 Auditing for Discovery Service Set"
    },
    {
      "Id": "8a4c4915-f992-41a3-b8d4-db345e55e27a",
      "Header": "Document: Part 4 - Services\nSection: 6.5.4 Auditing for Discovery Service Set\n---\n",
      "Content": "This Service Set can be separated into two groups: Services that are called by OPC UA Clients and Services that are invoked by OPC UA Servers. The FindServers and GetEndpoints Services that are called by OPC UA Clients may generate audit entries for failed Service invocations. The RegisterServer Service that is invoked by OPC UA Servers shall generate audit entries for all new registrations and for failed Service invocations. These audit entries shall include the Server URI, Server names, Discovery URIs and isOnline status. Audit entries should not be generated for RegisterServer invocation that does not cause changes to the registered Servers."
    },
    {
      "Id": "95305a91-5e3e-4e03-8aff-e01de836ab07",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.5 Auditing for SecureChannel Service Set"
    },
    {
      "Id": "3d099fdb-fa09-4331-ae9b-29c8d9fdb799",
      "Header": "Document: Part 4 - Services\nSection: 6.5.5 Auditing for SecureChannel Service Set\n---\n",
      "Content": "All Services in this Service Set for Servers that support auditing may generate audit entries and shall generate audit Events for failed service invocations and for successful invocation of the OpenSecureChannel and CloseSecureChannel Services. The Client generated audit entries should be setup prior to the actual call, allowing the correct audit record Id to be provided. The OpenSecureChannel Service shall generate an audit Event of type AuditOpenSecureChannelEventType or a subtype of it for the requestType ISSUE. Audit Events for the requestType RENEW are only created if the renew fails. The CloseSecureChannel service shall generate an audit Event of type AuditChannelEventType or a subtype of it. Both of these Event types are subtypes of the AuditChannelEventType. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, the SourceName and additional parameters. For the failure cases the Message for Events of this type should include a description of why the service failed. This description should be more detailed than what was returned to the Client. From a security point of view a Client only needs to know that it failed, but from an Auditing point of view the exact details of the failure need to be known.\nIn the case of Certificate validation errors the CertificateErrorEventId of the AuditOpenSecureChannelEventType should include the audit EventId of the specific AuditCertificateEventType that was generated to report the Certificate error. The AuditCertificateEventType shall also contain the detailed Certificate validation error. The additional parameters should include the details of the request. It is understood that these events may be generated by the underlying Communication Stacks in many cases, but they shall be made available to the Server and the Server shall report them."
    },
    {
      "Id": "2dabc23f-9b18-4cb6-b617-9013b9401fde",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.6 Auditing for Session Service Set"
    },
    {
      "Id": "1db667f5-166a-47ea-a031-5c094958d575",
      "Header": "Document: Part 4 - Services\nSection: 6.5.6 Auditing for Session Service Set\n---\n",
      "Content": "All Services in this Service Set for Servers that support auditing may generate audit entries and shall generate audit Events for both successful and failed Service invocations. These Services shall generate an audit Event of type AuditSessionEventType or a subtype of it. In particular, they shall generate the base EventType or the appropriate subtype, depending on the service that was invoked. The CreateSession service shall generate AuditCreateSessionEventType events or sub-types of it. The ActivateSession service shall generate AuditActivateSessionEventType events or subtypes of it. When the ActivateSession Service is called to change the user identity then the Server shall generate AuditActivateSessionEventType events or subtypes of it. The CloseSession service shall generate AuditSessionEventType events or subtypes of it. It shall always be generated if a Session is terminated like Session timeout expiration or Server shutdown. The SourceName for Events of this type shall be \u0022Session/Timeout\u0022 for a Session timeout, \u0022Session/CloseSession\u0022 for a CloseSession Service call and \u0022Session/Terminated\u0022 for all other cases. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, the SourceName and additional parameters. For the failure case the Message for Events of this type should include a description of why the Service failed. The additional parameters should include the details of the request.\nThis Service Set shall also generate additional audit events in the cases when Certificate validation errors occur. These audit Events are generated in addition to the AuditSessionEventType Events. See[OPC 10000-3](/\u00A7UAPart3) for the definition of AuditCertificateEventType and its subtypes.\nFor Clients, that support auditing, accessing the services in the Session Service Set shall generate audit entries for both successful and failed invocations of the Service"
    },
    {
      "Id": "1cbcbdae-ad16-4e96-bfd7-6549bdc9b453",
      "Header": "Document: Part 4 - Services\nSection: 6.5.6 Auditing for Session Service Set\n---\n",
      "Content": "Service. These audit entries should be setup prior to the actual Service invocation, allowing the invocation to contain the correct audit record id."
    },
    {
      "Id": "00a53c21-2e1a-468f-b303-540af504e1b6",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.7 Auditing for NodeManagement Service Set"
    },
    {
      "Id": "312bfb85-f3a2-4c9c-82f1-03d0b68412e7",
      "Header": "Document: Part 4 - Services\nSection: 6.5.7 Auditing for NodeManagement Service Set\n---\n",
      "Content": "All Services in this Service Set for Servers that support auditing may generate audit entries and shall generate audit Events for both successful and failed Service invocations. These Services shall generate an audit Event of type AuditNodeManagementEventType or subtypes of it. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, the SourceName and additional parameters. For the failure case, the Message for Events of this type should include a description of why the service failed. The additional parameters should include the details of the request.\nFor Clients that support auditing, accessing the Services in the NodeManagement Service Set shall generate audit entries for both successful and failed invocations of the Service. All audit entries should be setup prior to the actual Service invocation, allowing the invocation to contain the correct audit record id."
    },
    {
      "Id": "483ac9c3-8940-4162-a63a-a4d35d7e4c15",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.8 Auditing for Attribute Service Set"
    },
    {
      "Id": "19863069-e5c8-4f7b-bf29-9f14fcbf500a",
      "Header": "Document: Part 4 - Services\nSection: 6.5.8 Auditing for Attribute Service Set\n---\n",
      "Content": "The Write or HistoryUpdate Services in this Service Set for Servers that support auditing may generate audit entries and shall generate audit Events for both successful and failed Service invocations. These Services shall generate an audit Event of type AuditUpdateEventType or subtypes of it. In particular, the Write Service shall generate an audit event of type AuditWriteUpdateEventType or a subtype of it if the Write modifies the state of a system (e.g. operator changed a setpoint). Write operations that do not modify the state of the system may generate events. The HistoryUpdate Service shall generate an audit Event of type AuditHistoryUpdateEventType or a subtype of it. Three subtypes of AuditHistoryUpdateEventType are defined as AuditHistoryEventUpdateEventType, AuditHistoryValueUpdateEventType and AuditHistoryDeleteEventType. The subtype depends on the type of operation being performed, historical event update, historical data value update or a historical delete. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, the SourceName and additional parameters. For the failure case the Message for Events of this type should include a description of why the Service failed. The additional parameters should include the details of the request.\nThe Read and HistoryRead Services may generate audit entries and audit Events for failed Service invocations. These Services should generate an audit Event of type AuditEventType or a subtype of it. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, SourceName and additional parameters. The Message for Events of this type should include a description of why the Service failed.\nFor Clients that support auditing, accessing the Write or HistoryUpdate services in the Attribute Service Set shall generate audit entries for both successful and failed invocations of the Service. Invocations of the other Services in this Service Set"
    },
    {
      "Id": "aec71f60-a287-4fff-97d4-43be58aa6e8b",
      "Header": "Document: Part 4 - Services\nSection: 6.5.8 Auditing for Attribute Service Set\n---\n",
      "Content": "Services in this Service Set may generate audit entries. All audit entries should be setup prior to the actual Service invocation, allowing the invocation to contain the correct audit record id."
    },
    {
      "Id": "f4bc3f34-a03f-48c7-a47e-42ab6b543762",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.9 Auditing for Method Service Set"
    },
    {
      "Id": "11b97d33-8bf6-4491-886a-6bc34bd06a2c",
      "Header": "Document: Part 4 - Services\nSection: 6.5.9 Auditing for Method Service Set\n---\n",
      "Content": "All Services in this Service Set for Servers that support auditing may generate audit entries and shall generate audit Events for both successful and failed service invocations if the invocation modifies the AddressSpace, writes a value or modifies the state of the system (alarm acknowledge, batch sequencing or other system changes). These method calls shall generate an audit Event of type AuditUpdateMethodEventType or subtypes of it. Methods that do not modify the AddressSpace, write values or modify the state of the system may generate events. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, SourceName and additional parameters.\nFor Clients that support auditing, accessing the Method Service Set shall generate audit entries for both successful and failed invocations of the Service, if the invocation modifies the AddressSpace, writes a value or modifies the state of the system (alarm acknowledge, batch sequencing or other system changes). Invocations of the other Methods may generate audit entries. All audit entries should be setup prior to the actual Service invocation, allowing the invocation to contain the correct audit record id."
    },
    {
      "Id": "37571249-6d5f-4018-b339-f0cc7f31615a",
      "Header": "Document: Part 4 - Services\nSection: 6.5 Auditing\n---\n",
      "Content": "6.5.10 Auditing for View, Query, MonitoredItem and Subscription Service Set"
    },
    {
      "Id": "b6c03bb5-0c40-4fb7-b4d9-0440a26c2840",
      "Header": "Document: Part 4 - Services\nSection: 6.5.10 Auditing for View, Query, MonitoredItem and Subscription Service Set\n---\n",
      "Content": "All of the Services in these four Service Sets only provide the Client with information, with the exception of the TransferSubscriptions Service in the Subscription Service Set. In general, these services will not generate audit entries or audit Event Messages. The TransferSubscriptions Service shall generate an audit Event of type AuditSessionEventType or subtypes of it for both successful and failed Service invocations. See[OPC 10000-5](/\u00A7UAPart5) for the detailed assignment of the SourceNode, the SourceName and additional parameters. For the failure case, the Message for Events of this type should include a description of why the service failed.\nFor Clients that support auditing, accessing the TransferSubscriptions Service in the Subscription Service Set shall generate audit entries for both successful and failed invocations of the Service. Invocations of the other Services in this Service Set do not require audit entries. All audit entries should be setup prior to the actual Service invocation, allowing the invocation to contain the correct audit record id."
    },
    {
      "Id": "d551b36f-c68f-4697-ac65-7733e6e5a5a4",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.6 Redundancy"
    },
    {
      "Id": "4b6e6182-04fd-4df4-ad14-bb0850b33dbc",
      "Header": "Document: Part 4 - Services\nSection: 6.6 Redundancy\n---\n",
      "Content": "6.6.1 Redundancy overview"
    },
    {
      "Id": "e8867e6c-12bf-417d-b105-5f5b57632531",
      "Header": "Document: Part 4 - Services\nSection: 6.6.1 Redundancy overview\n---\n",
      "Content": "OPC UA enables Servers, Clients and networks to be redundant. OPC UA provides the data structures and Services by which Redundancy may be achieved in a standardized manner.\nServer Redundancy allows Clients to have multiple sources from which to obtain the same data. Server Redundancy can be achieved in multiple manners, some of which require Client interaction, others that require no interaction from a Client. Redundant Servers could exist in systems without redundant networks or Clients. Redundant Servers could also coexist in systems with network and Client Redundancy. Server Redundancy is formally defined in[6.6.2](/\u00A7_Ref411933195).\nClient Redundancy allows identically configured Clients to behave as if they were single Clients, but not all Clients are obtaining data at a given time. Ideally there should be no loss of information when a Client Failover occurs. Redundant Clients could exist in systems without redundant networks or Servers. Redundant Clients could also coexist in systems with network and Server Redundancy. Client Redundancy is formally defined in[6.6.3](/\u00A7_Ref411933222).\nNetwork Redundancy allows a Client and Server to have multiple communication paths to obtain the same data. Redundant networks could exist in systems without redundant Servers or Clients. Redundant networks could also coexist in systems with Client and Server Redundancy. Network Redundancy is formally defined in[6.6.4](/\u00A7_Ref411933241)."
    },
    {
      "Id": "6165245b-272b-436e-9e63-f8f167d04a1a",
      "Header": "Document: Part 4 - Services\nSection: 6.6 Redundancy\n---\n",
      "Content": "6.6.2 Server Redundancy"
    },
    {
      "Id": "8289c3e1-d2d4-45b4-b3dd-ba74dd3a69b3",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2 Server Redundancy\n---\n",
      "Content": "6.6.2.1 General"
    },
    {
      "Id": "cb445cb7-3a93-4b7c-8e09-037caf6fb57d",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.1 General\n---\n",
      "Content": "There are two general modes of Server Redundancy, transparent and non-transparent.\nIn transparent Redundancy the Failover of Server responsibilities from one Server to another is transparent to the Client. The Client is unaware that a Failover has occurred and the Client has no control over the Failover behaviour. Furthermore, the Client does not need to perform any actions to continue to send or receive data.\nIn non-transparent Redundancy the Failover from one Server to another and actions to continue to send or receive data are performed by the Client. The Client shall be aware of the RedundantServerSet and shall perform the required actions to benefit from the Server Redundancy.\nThe ServerRedundancy Object defined in[OPC 10000-5](/\u00A7UAPart5) indicates the mode supported by the Server. The ServerRedundancyType ObjectType and its subtypes TransparentRedundancyType and NonTransparentRedundancyType defined in[OPC 10000-5](/\u00A7UAPart5) specify information for the supported Redundancy mode.\nFor certificate management functionality defined in[OPC 10000-12](/\u00A7UAPart12), the non-transparent redundant Servers are managed independently by a CertificateManager since every Server in a redundant set has its own ApplicationUris and its own certificates. The transparent redundant Servers are managed as one application by the CertificateManager. A update of the certificate must be synchronized internally by the Servers in the redundant set."
    },
    {
      "Id": "65566341-8772-4805-b7c6-f9c7aef1931f",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2 Server Redundancy\n---\n",
      "Content": "6.6.2.2 RedundantServerSet Requirements"
    },
    {
      "Id": "0193be04-6999-435a-8449-c50ca7045590",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.2 RedundantServerSet Requirements\n---\n",
      "Content": "OPC UA Servers that are part of a RedundantServerSet have certain AddressSpace requirements. These requirements allow a Client to consistently access information from Servers in a RedundantServerSet and to make intelligent choices related to the health and availability of Servers in the RedundantServerSet.\nServers in the RedundantServerSet shall have an identical AddressSpace including:\nidentical NodeIds\nidentical browse paths and structure of the AddressSpace\nidentical logic for setting the ServiceLevel\nThe only Nodes that can differ between Servers in a RedundantServerSet are the Nodes that are in the local Server namespace like the Server diagnostic Nodes. A Client that fails over shall not be required to translate browse paths or otherwise resolve NodeIds. Servers are allowed to add and delete Nodes as long as all Servers in the RedundantServerSet will be updated with the same Node changes.\nAll Servers in a RedundantServerSet shall be synchronized with respect to time. This may mean installing a NTP service or a PTP service.\nThere are other important considerations for a redundant system regarding synchronization:\nEventIds: Each UA Server in a Transparent([6.6.2.3](/\u00A7_Ref138271018)) and HotAndMirrored([6.6.2.4.5.5](/\u00A7_Ref412066082)) RedundantServerSet shall synchronize EventIds to prevent a Client from mistakenly processing the same event multiple times simply because the EventIds are different. This is very important for Alarms \u0026 Conditions. For Cold, Warm, and Hot RedundantServerSets Clients shall be able to handle EventIds that are not synchronized. Following any Failover the Client shall call ConditionRefresh defined in"
    },
    {
      "Id": "ab97b181-69f4-42f6-9233-76cb7c84fb8a",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.2 RedundantServerSet Requirements\n---\n",
      "Content": "ConditionRefresh defined in[OPC 10000-9](/\u00A7UAPart9).\nTimestamp (Source/Server): If a Server is exposing data from a downstream device (PLC, DCS etc.) then the SourceTimestamp and ServerTimestamp reported by all redundant Servers should match as closely as possible. Clients should favour the use of the SourceTimestamp.\nContinuationPoints: Behaviour of continuation points does not change, in that Clients shall be prepared for lost continuation points. Servers in Transparent and HotAndMirrored Redundancy sets shall synchronize continuation points and they may do so in other modes."
    },
    {
      "Id": "04907435-f6cf-4cf6-9b72-b7880dca1f70",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2 Server Redundancy\n---\n",
      "Content": "6.6.2.3 Transparent Redundancy"
    },
    {
      "Id": "7ea85141-858c-4d2b-a9d9-907532b8e930",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "6.6.2.3.1.1 Client behaviour"
    },
    {
      "Id": "48f0826e-528a-4e6d-b4a1-75238c16ec31",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.3.1.1 Client behaviour\n---\n",
      "Content": "To a Client the transparent RedundantServerSet appears as if it is just a single Server and the Client has no Failover actions to perform. All Servers in the RedundantServerSet have an identical ServerUri and an identical EndpointUrl.\n[Figure 26](/\u00A7_Ref136924211) shows a typical transparent Redundancy setup."
    },
    {
      "Id": "0a807d81-3377-48ef-be61-d76b11a72651",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.3.1.1 Client behaviour\nCaption: Figure 26 - Transparent Redundancy setup example\n---\n",
      "Content": "[image029.png](images/image029.png)"
    },
    {
      "Id": "5ea05c0d-5cde-4e55-b106-b3b0c9ab454f",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.3.1.1 Client behaviour\n---\n",
      "Content": "Figure 26 - Transparent Redundancy setup example\nFor transparent Redundancy, OPC UA provides data structures to allow Clients to identify which Servers are in the RedundantServerSet, the ServiceLevel of each Server, and which Server is currently responsible for the Client Session. This information is specified in TransparentRedundancyType ObjectType defined in[OPC 10000-5](/\u00A7UAPart5). Since the ServerUri is identical for all Servers in the RedundantServerSet, the Servers are identified with a ServerId contained in the information provided in the TransparentRedundancyType Object.\nIn transparent Redundancy, a Client is not able to control which physical Server it actually connects to. Failover is controlled by the RedundantServerSet and a Client is also not able to actively Failover to another Server in the RedundantServerSet."
    },
    {
      "Id": "fd78f949-2352-4439-b842-9e4ed8a46f28",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "6.6.2.3.1.2 Server requirements"
    },
    {
      "Id": "6e0a6609-df62-4e93-bb03-a8c81b7c273c",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.3.1.2 Server requirements\n---\n",
      "Content": "All OPC UA interactions within a given Session shall be supported by one Server and the Client is able to identify which Server that is, allowing a complete audit trail for the data. It is the responsibility of the Servers to ensure that information is synchronized between the Servers. A functional Server will take over the Session and Subscriptions from the Failed Server. Failover may require a reconnection of the Client\u0027s SecureChannel but the EndpointUrl of the Server and the ServerUri shall not change. The Client shall be able to continue communication with the Sessions and Subscriptions created on the previously used Server.\n[Figure 26](/\u00A7_Ref136924211) provides an abstract view of a transparent RedundantServerSet. The two or more Servers in the RedundantServerSet share a virtual network address and therefore all Servers have the identical EndpointUrl. This includes all other EndpointDescriptions content like identical Certificates and security settings. How this virtual network address is created and managed is vendor specific. There may be special hardware that mediates the network address displayed to the rest of the network. There may be custom hardware, where all components are redundant and Failover at a hardware level automatically. There may even be software based systems where all the transparency is governed completely by software."
    },
    {
      "Id": "3b212b99-dcc8-4d95-9d7c-403fa0863e31",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2 Server Redundancy\n---\n",
      "Content": "6.6.2.4 Non-transparent Redundancy"
    },
    {
      "Id": "b4fc47ba-c38f-42e5-8524-7ccfce21f0b6",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4 Non-transparent Redundancy\n---\n",
      "Content": "6.6.2.4.1 Overview"
    },
    {
      "Id": "9faedec2-b8ec-4927-ab30-62184383787d",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.1 Overview\n---\n",
      "Content": "For non-transparent Redundancy, OPC UA provides the data structures to allow the Client to identify what Servers are available in the RedundantServerSet and also Server information which tells the Client what modes of Failover the Server supports. This information allows the Client to determine what actions it may need to take in order to accomplish Failover. This information is specified in NonTransparentRedundancyType ObjectType defined in[OPC 10000-5](/\u00A7UAPart5).\nThe Servers in the non-transparent RedundantServerSet shall use the ServerCapability NTRS defined in[OPC 10000-12](/\u00A7UAPart12) for discovery including the registration with a GlobalDiscoveryServer.\n[Figure 27](/\u00A7_Ref136753659) shows a typical non-transparent Redundancy setup."
    },
    {
      "Id": "a324ac9f-a6db-4e60-a451-7c1ff9778ab8",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.1 Overview\nCaption: Figure 27 - Non-Transparent Redundancy setup\n---\n",
      "Content": "[image030.png](images/image030.png)"
    },
    {
      "Id": "efdc4ef9-5a9f-433b-a94e-7bac5e2a9394",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.1 Overview\n---\n",
      "Content": "Figure 27 - Non-Transparent Redundancy setup\nFor non-transparent Redundancy, the Servers will have unique IP addresses and unique ApplicationUris. The Server also has additional Failover modes of Cold, Warm, Hot and HotAndMirrored. The Client shall be aware of the RedundantServerSet and shall be required to perform some actions depending on the Failover mode. These actions are described in[Table 105](/\u00A7_Ref412065975) and additional examples and explanations are provided in[6.6.2.4.5.2](/\u00A7_Ref412066041).for Cold,[6.6.2.4.5.3](/\u00A7_Ref412066056) for Warm,[6.6.2.4.5.4](/\u00A7_Ref412066072) for Hot and[6.6.2.4.5.5](/\u00A7_Ref412066082) for HotAndMirrored.\nA Client needs to be able to expect that the SourceTimestamp associated with a value is approximately the same from all Servers in the RedundantServerSet for the same value."
    },
    {
      "Id": "f623cf7e-d020-4338-ab35-d2f4ac41c0c3",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4 Non-transparent Redundancy\n---\n",
      "Content": "6.6.2.4.2 ServiceLevel"
    },
    {
      "Id": "9d7789db-9b7c-4929-9428-6e9406c81b2c",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.2 ServiceLevel\n---\n",
      "Content": "The ServiceLevel provides information to a Client regarding the health of a Server and its ability to provide data. See[OPC 10000-5](/\u00A7UAPart5) for a formal definition for ServiceLevel. The ServiceLevel is a byte with a range of 0 to 255, where the values fall into the sub-ranges defined in[Table 103](/\u00A7_Ref411766108).\nThe algorithm used by a Server to determine its ServiceLevel within each sub-range is Server specific. However, all Servers in a RedundantServerSet shall use the same algorithm to determine the ServiceLevel. All Servers, regardless of RedundantServerSet membership, shall adhere to the sub-ranges defined in[Table 103](/\u00A7_Ref411766108).\nTable 103- ServiceLevel ranges\nSub-range\nName\nDescription\n0-0\nMaintenance\nThe Failed Server is in maintenance sub-range. Therefore, new Clients shall not connect and currently connected Clients shall disconnect. The Server should expose a target time at which the Clients are able to reconnect. See EstimatedReturnTime defined in[OPC 10000-5](/\u00A7UAPart5) for additional information.\nA Server that has been set to Maintenance is typically undergoing some maintenance or updates. The main goal for the Maintenance ServiceLevel is to ensure that Clients do not generate load on the Server and allow time for the Server to complete any actions that are required. This load includes even simple connections attempts or monitoring of the ServiceLevel. The EstimatedReturnTime indicates when the Client should check to see if the Server is available. If updates or patches are taking longer than expected the Client may discover that the EstimatedReturnTime has been extended further into the future. If the Server does not provide the EstimatedReturnTime,"
    },
    {
      "Id": "14da5367-d16e-41ed-b6ec-8743af66411c",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.2 ServiceLevel\n---\n",
      "Content": "EstimatedReturnTime, or if the time has lapsed, the Client should use a much longer interval between reconnects to a Server in the Maintenance sub-range than its normal reconnect interval.\n1-1\nNoData\nThe Failed Server is not operational. Therefore, a Client is not able to exchange any information with it. The Server most likely has no data other than ServiceLevel, ServerStatus and diagnostic information available.\nA Failed Server in this sub-range has no data available. Clients may connect to it to obtain ServiceLevel, ServerStatus and other diagnostic information. If the underlying system has failed, typically the ServerStatus would indicate COMMUNICATION_FAULT. The Client may monitor this Server for a ServerStatus and ServiceLevel change, which would indicate that normal communication could be resumed.\n2-199\nDegraded\nThe Server is partially operational, but is experiencing problems such that portions of the AddressSpace are out of service or unavailable. An example usage of this ServiceLevel sub-range would be if 3 of 10 devices connected to a Server are unavailable.\nServers that report a ServiceLevel in the Degraded sub-range are partially able to service Client requests. The degradation could be caused by loss of connection to underlying systems or functioning in a mode like a backup Server which results in less than full functionality being available. Alternatively, it could be that the Server is overloaded to the point that it is unable to reliably deliver data to Clients in a timely manner.\nIf Clients are experiencing difficulties obtaining required data, they shall switch to another Server if any Servers in the Healthy range are available. If no Servers are available in the Healthy range, then Clients may switch to a Server with a higher ServiceLevel or one that provides the required data. Some Clients may also be configured for higher priority data and may check all Degraded Servers"
    },
    {
      "Id": "f2fe7c14-a589-467d-9431-5db66d881505",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.2 ServiceLevel\n---\n",
      "Content": "Degraded Servers, to see if any of the Servers are able to report as good quality the high priority data, but this functionality would be Client specific. In some cases a Client may connect to multiple Degraded Servers to maximize the available information.\n200-255\nHealthy\nThe Server is fully operational. Therefore, a Client can obtain all information from this Server. The sub-range allows a Server to provide information that can be used by Clients to load balance. An example usage of this ServiceLevel sub-range would be to reflect the Server\u0027s CPU load where data is delivered as expected.\nServers in the Healthy ServiceLevel sub-range are able to deliver information in a timely manner. This ServiceLevel may change for internal Server reason or it may be used for load balancing described in[6.6.2.4.3](/\u00A7_Ref412066360).\nClient shall connect to the Server with the highest ServiceLevel. Once connected, the ServiceLevel may change, but a Client shall not Failover to a different Server as long as the ServiceLevel of the Server is accessible and in the Healthy sub-range."
    },
    {
      "Id": "4c10d4d5-1aba-4604-9478-ac9e127d54ec",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4 Non-transparent Redundancy\n---\n",
      "Content": "6.6.2.4.3 Load balancing"
    },
    {
      "Id": "7535cc9e-593e-4480-9df6-fb4c732d586e",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.3 Load balancing\n---\n",
      "Content": "In systems where multiple Hot Servers(see[6.6.2.4.5.4](/\u00A7_Ref412066072)) are available, the Servers in the RedundantServerSet can share the load generated by Clients by setting the ServiceLevel in the Healthy sub-range based on the current load. Clients are expected to connect to the Server with the highest ServiceLevel. Clients shall not Failover to a different Server in the RedundantServerSet of Servers as long as the Server is in the Healthy sub-range. This is the normal behaviour for all Clients, when communicating with redundant Servers. Servers can adjust their ServiceLevel based on the number of Clients that are connected, CPU loading, memory utilization, or any other Server specific criteria.\nFor example in a system with 3 Servers, all Servers are initially at ServiceLevel 255, but when a Client connects, the Server with the Client connection sets its level to 254. The next Client would connect to a different Server since both of the other Servers are still at 255.\nIt is up to the Server vendor to define the logic for spreading the load and the number of expected Clients, CPU load or other criteria on each Server before the ServiceLevel is decremented. It is envisioned that some Servers would be able to accomplish this without any communication between the Servers."
    },
    {
      "Id": "3f4f0e0c-0ede-46b3-91ec-51eb66075364",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4 Non-transparent Redundancy\n---\n",
      "Content": "6.6.2.4.4 Server Failover modes"
    },
    {
      "Id": "c779e260-b92e-4114-83b9-e35ea0313410",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.4 Server Failover modes\n---\n",
      "Content": "The Failover mode of a Server is provided in the ServerRedundancy Object defined in[OPC 10000-5](/\u00A7UAPart5). The different Failover modes for non-transparent Redundancy are described in[Table 104](/\u00A7_Ref412498967).\nTable 104- Server Failover modes\nName\nDescription\nCold\nCold Failover mode is where only one Server can be active at a time. This may mean that redundant Servers are unavailable (not powered up) or are available but not running (PC is running, but application is not started)\nWarm\nWarm Failover mode is where the backup Server(s) can be active, but is not operating in a mode which delivers the same level of functionality available from the primary Server. For example it cannot connect to actual data points (typically, a system where the underlying devices are limited to a single connection). Underlying devices, such as PLCs, may have limited resources that permit a single Server connection. Therefore, only a single Server will be able to consume data. The ServiceLevel Variable defined in[OPC 10000-5](/\u00A7UAPart5) and the sub-range defined in[Table 103](/\u00A7_Ref411766108) indicates the ability of the Server to provide its data to the Client. The ServiceLevel of the primary Server will be in the Healthy ServiceLevel sub-range. The ServiceLevel of the available backup Server will be in the Degraded ServiceLevel sub-range.\nHot\nHot Failover mode is where all Servers are powered-on, and are up and running. In scenarios where Servers acquire data from a downstream device, such as a PLC, then one or more Servers are actively connected to the downstream device(s) in parallel. These Servers"
    },
    {
      "Id": "298e1b4d-a306-47bb-b0fb-e9d927c432f1",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.4 Server Failover modes\n---\n",
      "Content": "Servers have minimal knowledge of the other Servers in their group and are independently functioning. When a Server fails or encounters a serious problem then its ServiceLevel drops. On recovery, the Server returns to the RedundantServerSet with an appropriate ServiceLevel to indicate that it is available.\nHotAndMirrored\nHotAndMirrored Failover mode is where Failovers are for Servers that are mirroring their internal states to all Servers in the RedundantServerSet and more than one Server can be active and fully operational. Mirroring state minimally includes Sessions, Subscriptions, registered Nodes, ContinuationPoints, sequence numbers, and sent Notifications. The ServiceLevel Variable defined in[OPC 10000-5](/\u00A7UAPart5) should be used by the Client to find the Servers with the highest ServiceLevel to achieve load balancing."
    },
    {
      "Id": "4b89500d-f352-4456-a5b6-c55a5abe94d1",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4 Non-transparent Redundancy\n---\n",
      "Content": "6.6.2.4.5 Client Failover behaviour"
    },
    {
      "Id": "8288ce9f-9f81-47fa-888d-c366411ffda9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5 Client Failover behaviour\n---\n",
      "Content": "6.6.2.4.5.1 General"
    },
    {
      "Id": "f28dbece-1b1e-4b56-81bd-58817b5d7143",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.1 General\n---\n",
      "Content": "Each Server maintains a list of ServerUris for all redundant Servers in the RedundantServerSet. The list is provided together with the Failover mode in the ServerRedundancy Object defined in[OPC 10000-5](/\u00A7UAPart5). To enable Clients to connect to all Servers in the list, each Server in the list shall provide the ApplicationDescription for all Servers in the RedundantServerSet through the FindServers Service. This information is needed by the Client to translate the ServerUri into information needed to connect to the other Servers in the RedundantServerSet. Therefore a Client needs to connect to only one of the redundant Servers to find the other Servers based on the provided information. A Client should persist information about other Servers in the RedundantServerSet.\n[Table 105](/\u00A7_Ref412065975) defines a list of Client actions for initial connections and Failovers.\nTable 105- Redundancy Failover actions\nFailover mode and Client options\nCold\nWarm\nHot (a)\nHot (b)\nHotAndMirrored\nOn initial connection in addition to actions on Active Server:\n\n\n\n\n\nConnect to more than one OPC UA Server.\n\nX\nX\nX\nOptional for status check\nCreate Subscriptions and add monitored items.\n\nX\nX\nX\n\nActivate sampling on the Subscriptions.\n\n\nX\nX\n\nActivate publishing.\n\n\n\nX\n\nAt Failover:\n\n\n\n\n\nOpenSecureChannel to backup OPC UA Server\nX\n\n\n\nX\nCreateSession on backup OPC UA Server\nX\n\n\n\n\nActivateSession on backup OPC UA Server\nX\n\n\n\nX\nCreate Subscriptions and add monitored items.\nX"
    },
    {
      "Id": "09d9d1c7-9d01-4ce2-9c53-48866534a014",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.1 General\n---\n",
      "Content": "X\n\n\n\n\nActivate sampling on the Subscriptions.\nX\nX\n\n\n\nActivate publishing.\nX\nX\nX\n\n\n\nClients communicating with a non-transparent RedundantServerSet of Servers require some additional logic to be able to handle Server failures and to Failover to another Server in the RedundantServerSet.[Figure 28](/\u00A7_Ref412065960) provides an overview of the steps a Client typically performs when it is first connecting to a RedundantServerSet. The figure does not cover all possible error scenarios."
    },
    {
      "Id": "5efb8ed1-2e42-4cbe-aef4-5c7b9cdcce1b",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.1 General\nCaption: Figure 28 - Client Start-up steps\n---\n",
      "Content": "[image031.png](images/image031.png)"
    },
    {
      "Id": "b51f2058-f7c7-4f69-8e86-2c4946227d82",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.1 General\n---\n",
      "Content": "Figure 28 - Client Start-up steps\nThe initial Server may be obtained via standard discovery or from a persisted list of Servers in the RedundantServerSet. But in any case the Client needs to check which Server in the Server set it should connect to. Individual actions will depend on the Server Failover mode the Server provides and the Failover mode the Client will use.\nClients once connected to a redundant Server shall be aware of the modes of Failover supported by a Server since this support affects the available options related to Client behaviour. A Client may always treat a Server using a lesser Failover mode, i.e. for a Server that provides Hot Redundancy, a Client might connect and choose to treat it as if the Server was running in Warm Redundancy or Cold Redundancy. This choice is up to the Client. In the case of Failover mode HotAndMirrored, the Client shall not use Failover mode Hot or Warm as it would generate unnecessary load on the Servers."
    },
    {
      "Id": "948d272e-a717-40ce-8627-d2e1c229e00f",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5 Client Failover behaviour\n---\n",
      "Content": "6.6.2.4.5.2 Cold"
    },
    {
      "Id": "0d9d43b8-c011-4292-bfa1-578575c01a3a",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.2 Cold\n---\n",
      "Content": "A Cold Failover mode is where the Client can only connect to one Server at a time. When the Client loses connectivity with the Active Server it will attempt a connection to the redundant Server(s) which may or may not be available. In this situation the Client may need to wait for the redundant Server to become available and then create Subscriptions and MonitoredItems and activate publishing. The Client shall cache any information that is required related to the list of available Servers in the RedundantServerSet.[Figure 29](/\u00A7_Ref412065742) illustrates the action a Client would take if it is talking to a Server using Cold Failover mode. The monitor connection logic is defined in[6.7](/\u00A7_Ref168909069)."
    },
    {
      "Id": "61151cdc-60a3-48db-abca-8186d9596f95",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.2 Cold\nCaption: Figure 29 - Cold Failover\n---\n",
      "Content": "[image032.png](images/image032.png)"
    },
    {
      "Id": "570b1be6-8e30-47ec-b2a5-d253c566843d",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.2 Cold\n---\n",
      "Content": "Figure 29 - Cold Failover\nNOTE There may be a loss of data from the time the connection to the Active Server is interrupted until the time the Client gets Publish Responses from the backup Server."
    },
    {
      "Id": "14d87c71-3e33-49d0-a892-ed4955d660a7",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5 Client Failover behaviour\n---\n",
      "Content": "6.6.2.4.5.3 Warm"
    },
    {
      "Id": "01366def-6dce-456c-b865-20f761506783",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.3 Warm\n---\n",
      "Content": "A Warm Failover mode is where the Client should connect to one or more Servers in the RedundantServerSet primarily to monitor the ServiceLevel. A Client can connect and create Subscriptions and MonitoredItems on more than one Server, but sampling and publishing can only be active on one Server. However, the active Server will return actual data, whereas the other Servers in the RedundantServerSet will return an appropriate error for the MonitoredItems in the Publish response such as Bad_NoCommunication. The one Active Server can be found by reading the ServiceLevel Variable from all Servers. The Server with the highest ServiceLevel is the Active Server. For Failover the Client activates sampling and publishing on the Server with the highest ServiceLevel.[Figure 30](/\u00A7_Ref412065724) illustrates the steps a Client would perform when communicating with a Server using Warm Failover mode. The monitor connection logic is defined in[6.7](/\u00A7_Ref168909069)."
    },
    {
      "Id": "1977daec-cbec-47a2-be67-5a39153dc35c",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.3 Warm\nCaption: Figure 30 - Warm Failover\n---\n",
      "Content": "[image033.png](images/image033.png)"
    },
    {
      "Id": "6dd08878-1fe3-465a-b7db-fd08612da2a5",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.3 Warm\n---\n",
      "Content": "Figure 30 - Warm Failover\nNOTE There may be a temporary loss of data from the time the connection to the Active Server is interrupted until the time the Client gets Publish Responses from the backup Server."
    },
    {
      "Id": "c849de3a-cb37-4fe9-8ae1-6ddb206a76a9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5 Client Failover behaviour\n---\n",
      "Content": "6.6.2.4.5.4 Hot"
    },
    {
      "Id": "47a9c359-7b77-4109-a857-ec0831977bf9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.4 Hot\n---\n",
      "Content": "A Hot Failover mode is where the Client should connect to two or more Servers in the RedundantServerSet and to subscribe to the ServiceLevel variable defined in[OPC 10000-5](/\u00A7UAPart5) to find the highest ServiceLevel to achieve load balancing; this means that Clients should issue Service requests such as Browse, Read, Write to the Server with the highest ServiceLevel. Subscription related activities will need to be invoked for each connected Server. Clients have the following choices for implementing Subscription behaviour in a Hot Failover mode:\nThe Client connects to multiple Servers and establishes Subscription(s) in each where only one is Reporting; the others are Sampling only. The Client should setup the queue size for the MonitoredItems such that it can buffer all changes during the Failover time. The Failover time is the time between the connection interruption and the time the Client gets Publish Responses from the backup Server. On a Failover the Client shall enable Reporting on the Server with the next highest availability.\nThe Client connects to multiple Servers and establishes Subscription(s) in each where all Subscriptions are Reporting. The Client is responsible for handling/processing multiple Subscription streams concurrently.\n[Figure 31](/\u00A7_Ref412065635) illustrate the functionality a Client would perform when communicating with a Server using Hot Failover mode (the figure include both (a) and (b) options). The monitor connection logic is defined in[6.7](/\u00A7_Ref168909069)."
    },
    {
      "Id": "fd8929e0-9351-486d-a8f1-eb18c84ab3ee",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.4 Hot\nCaption: Figure 31 - Hot Failover\n---\n",
      "Content": "[image034.png](images/image034.png)"
    },
    {
      "Id": "76da19d7-2edd-4db4-bd04-7ad1a58ebdb9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.4 Hot\n---\n",
      "Content": "Figure 31 - Hot Failover\nClients are not expected to automatically switch over to a Server that has recovered from a failure, but the Client should establish a connection to it."
    },
    {
      "Id": "8058c1aa-ef01-4309-9a54-fa6608f97147",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5 Client Failover behaviour\n---\n",
      "Content": "6.6.2.4.5.5 HotAndMirrored"
    },
    {
      "Id": "b9fd8a54-01c2-4236-ba50-32061e5195d3",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.5 HotAndMirrored\n---\n",
      "Content": "A HotAndMirrored Failover mode is where a Client only connects to one Server in the RedundantServerSet because the Server will share this session/state information with the other Servers. In order to validate the capability to connect to other redundant Servers it is allowed to create Sessions with other Servers and maintain the open connections by periodically reading the ServiceLevel. A Client shall not create Subscriptions on the backup Servers for status monitoring (to prevent excessive load on the Servers). This mode allows Clients to fail over without creating a new context for communication. On a Failover the Client will simply create a new SecureChannel on an alternate Server and then call ActivateSession; all Client activities (browsing, subscriptions, history reads, etc.) will then resume.[Figure 32](/\u00A7_Ref412065594) illustrate the behaviour a Client would perform when communicating to a Server in HotAndMirrored Failover mode. The monitor connection logic is defined in[6.7](/\u00A7_Ref168909069)."
    },
    {
      "Id": "8a98c720-a88c-470b-9d48-e4209c46ff7d",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.5 HotAndMirrored\nCaption: Figure 32 - HotAndMirrored Failover\n---\n",
      "Content": "[image035.png](images/image035.png)"
    },
    {
      "Id": "d5c12492-2702-4d78-b0af-45590fef7fcc",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.4.5.5 HotAndMirrored\n---\n",
      "Content": "Figure 32 - HotAndMirrored Failover\nThis Failover mode is similar to the transparent Redundancy. The advantage is that the Client has full control over selecting the Server. The disadvantage is that the Client needs to be able to handle Failovers."
    },
    {
      "Id": "71037d8e-b712-48c6-b0d8-cb271d457a97",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2 Server Redundancy\n---\n",
      "Content": "6.6.2.5 Hiding Failover with a Server Proxy"
    },
    {
      "Id": "79f586b6-f3ed-467f-b592-17355e8488a9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.5 Hiding Failover with a Server Proxy\n---\n",
      "Content": "A vendor can use the non-transparent Redundancy features to create a Server proxy running on the Client machine to provide transparent Redundancy to the Client. This reduces the amount of functionality that needs to be designed into the Client and to enable simpler Clients to take advantage of non-transparent Redundancy. The Server proxy simply duplicates Subscriptions and modifications to Subscriptions, by passing the calls on to both Servers, but only enabling publishing and sampling on one Server. When the proxy detects a failure, it enables publishing and/or sampling on the backup Server, just as the Client would if it were a Redundancy aware Client.\n[Figure 33](/\u00A7_Ref136754830) shows the Server proxy used to provide transparent Redundancy."
    },
    {
      "Id": "1cf43d4c-17bd-409b-814b-6b8fcc741fad",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.5 Hiding Failover with a Server Proxy\nCaption: Figure 33 - Server proxy for Redundancy\n---\n",
      "Content": "[image036.png](images/image036.png)"
    },
    {
      "Id": "a720b7c2-c511-4b51-a9fe-33d0eb6bda9f",
      "Header": "Document: Part 4 - Services\nSection: 6.6.2.5 Hiding Failover with a Server Proxy\n---\n",
      "Content": "Figure 33 - Server proxy for Redundancy"
    },
    {
      "Id": "63756a73-c376-4910-9add-e1d09f42121f",
      "Header": "Document: Part 4 - Services\nSection: 6.6 Redundancy\n---\n",
      "Content": "6.6.3 Client Redundancy"
    },
    {
      "Id": "38f46c9d-6adc-43fb-a5a4-d7082160da8b",
      "Header": "Document: Part 4 - Services\nSection: 6.6.3 Client Redundancy\n---\n",
      "Content": "Client Redundancy is supported in OPC UA by the TransferSubscriptions Service and by exposing Client information in the Server diagnostic information. Since Subscription lifetime is not tied to the Session in which it was created, backup Clients may use standard diagnostic information available to monitor the active Client\u0027s Session with the Server. Upon detection of an active Client failure, a backup Client would then instruct the Server to transfer the Subscriptions to its own session. If the Subscription is crafted carefully, with sufficient resources to buffer data during the change-over, data loss from a Client Failover can be prevented.\nOPC UA does not provide a standardized mechanism for conveying the SessionId and SubscriptionIds from the active Client to the backup Clients, but as long as the backup Clients know the Client name of the active Client, this information is readily available using the SessionDiagnostics and SubscriptionDiagnostics portions of the ServerDiagnostics data. This information is available for authorized users and for the user active on the Session. TransferSubscriptions requires the same user on all redundant Clients to succeed."
    },
    {
      "Id": "b19eeac8-84a6-4009-9f37-80800b5eb04b",
      "Header": "Document: Part 4 - Services\nSection: 6.6 Redundancy\n---\n",
      "Content": "6.6.4 Network Redundancy"
    },
    {
      "Id": "db8871e5-e16d-45a9-8640-1ed87180c4b9",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4 Network Redundancy\n---\n",
      "Content": "6.6.4.1 Overview"
    },
    {
      "Id": "6759c0e5-261e-4a1e-aa44-90ef926d27da",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.1 Overview\n---\n",
      "Content": "Redundant networks can be used with OPC UA in either transparent or non-transparent Redundancy.\nNetwork Redundancy can be combined with Server and Client Redundancy."
    },
    {
      "Id": "99ae9c08-abc4-4ee2-9a97-de13c83a8ffa",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4 Network Redundancy\n---\n",
      "Content": "6.6.4.2 Transparent"
    },
    {
      "Id": "19b326cd-070d-4c62-9c35-c4601a8b0a0b",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.2 Transparent\n---\n",
      "Content": "In the transparent network use-case a single Server Endpoint can be reached through different network paths. This case is completely handled by the network infrastructure. The selected network path and Failover are transparent to the Client and the Server. Transparent network Redundancy is illustrated in[Figure 34](/\u00A7_Ref15636030)."
    },
    {
      "Id": "240917ea-3940-499a-a790-5648c6487e21",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.2 Transparent\nCaption: Figure 34 - Transparent network Redundancy\n---\n",
      "Content": "[image037.png](images/image037.png)"
    },
    {
      "Id": "f566250b-6f1e-43c9-a967-8ce786088cd2",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.2 Transparent\n---\n",
      "Content": "Figure 34 - Transparent network Redundancy\nExamples:\nA physical appliance/device such as a router or gateway which automatically changes the network routing to maintain communications.\nA virtual adapter which automatically changes the network adapter to maintain communications."
    },
    {
      "Id": "db1b4ae8-3119-460d-84d5-04d573d74d0e",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4 Network Redundancy\n---\n",
      "Content": "6.6.4.3 Non-Transparent"
    },
    {
      "Id": "ac60a07e-05b6-4154-8063-d949bfe70a2e",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.3 Non-Transparent\n---\n",
      "Content": "In the non-transparent network use-case the Server provides different Endpoints for the different network paths. This requires both the Server and the Client to support multiple network connections. In this case the Client is responsible for selecting the Endpoint and for Failover. For Failover the normal reconnect scenario described in[6.7](/\u00A7_Ref413272578) can be used. Only the SecureChannel is created with another Endpoint. Sessions and Subscriptions can be reused. Non-transparent network Redundancy is illustrated in[Figure 35](/\u00A7_Ref15635964)."
    },
    {
      "Id": "e39e55b6-3e2b-4c8e-ba2a-8be7df6c7158",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.3 Non-Transparent\nCaption: Figure 35 - Non-transparent network Redundancy\n---\n",
      "Content": "[image038.png](images/image038.png)"
    },
    {
      "Id": "0d840113-d32c-4d47-994c-2199f379545d",
      "Header": "Document: Part 4 - Services\nSection: 6.6.4.3 Non-Transparent\n---\n",
      "Content": "Figure 35 - Non-transparent network Redundancy\nThe information about the different network paths is specified in NonTransparentRedundancyType ObjectType defined in[OPC 10000-5](/\u00A7UAPart5)."
    },
    {
      "Id": "b2efce23-0a64-4484-b091-e62755811b26",
      "Header": "Document: Part 4 - Services\nSection: 6.6 Redundancy\n---\n",
      "Content": "6.6.5 Manually Forcing Failover"
    },
    {
      "Id": "202dfcb0-089f-4905-9ed3-250c025e3169",
      "Header": "Document: Part 4 - Services\nSection: 6.6.5 Manually Forcing Failover\n---\n",
      "Content": "In redundant systems, it is common to require that a particular Server in the RedundantServerSet be taken out of the RedundantServerSet for a period of time. Some items that could cause this may include:\nCertificate update\nSecurity reconfiguration\nRebooting or restarting of the machine for\nsoftware updates and patches\ninstallation of new software\nReconfiguration of the AddressSpace\nThe removal from the RedundantServerSet can be done through a complete shutdown or by setting the ServiceLevel of the Server to Maintenance sub-range. This can be done through a Server specific configuration tool or through the Method RequestServerStateChange on the ServerType. The Method is formally defined in[OPC 10000-5](/\u00A7UAPart5).\nThis Method requires that the Client provide credentials with administrative rights on the Server."
    },
    {
      "Id": "53947524-6d2c-4a02-838d-d9b80d3fd8e8",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.7 Re-establishing connections"
    },
    {
      "Id": "366f8f6e-1e77-4f75-aebd-a0afda9e89d2",
      "Header": "Document: Part 4 - Services\nSection: 6.7 Re-establishing connections\n---\n",
      "Content": "After a Client establishes a connection to a Server and creates a Subscription, the Client monitors the connection status.[Figure 36](/\u00A7_Ref303812115) shows the steps to connect a Client to a Server and the general logic for reconnect handling. Not all possible error scenarios are covered.\nThe preferred mechanism for a Client to monitor the connection status is through the keep-alive of the Subscription. A Client should subscribe for the State Variable in the ServerStatus to detect shutdown or other failure states. If no Subscription is created or the Server does not support Subscriptions, the connection can be monitored by periodically reading the State Variable."
    },
    {
      "Id": "b4b2fadc-f31e-40fc-929f-243a42ab7bdf",
      "Header": "Document: Part 4 - Services\nSection: 6.7 Re-establishing connections\nCaption: Figure 36 - Reconnect sequence\n---\n",
      "Content": "[image039.png](images/image039.png)"
    },
    {
      "Id": "956745b2-da10-4157-8ebd-abd4db01e895",
      "Header": "Document: Part 4 - Services\nSection: 6.7 Re-establishing connections\n---\n",
      "Content": "Figure 36 - Reconnect sequence\nWhen a Client loses the connection to the Server, the goal is to reconnect without losing information. To do this the Client shall re-establish the connection by creating a new SecureChannel and activating the Session with the Service ActivateSession. If the OpenSecureChannel fails, the Client should delay the retry for a configurable time. The ActivateSession assigns the new SecureChannel to the existing Session and allows the Client to reuse the Session and Subscriptions in the Server. To re-establish the SecureChannel and activate the Session, the Client shall use the same security policy, application instance certificate and the same user credential used to create the original SecureChannel. This will result in the Client receiving data and event Notifications without losing information provided the queues in the MonitoredItems do not overflow.\nThe Client shall only create a new Session if ActivateSession fails. TransferSubscriptions is used to transfer the Subscription to the new Session. If TransferSubscriptions fails, the Client needs to create a new Subscription.\nWhen the connection is lost, Publish responses may have been sent but not received by the Client.\nAfter re-establishing the connection the Client shall call Republish in a loop, starting with the next expected sequence number and incrementing the sequence number until the Server returns the status Bad_MessageNotAvailable. After receiving this status, the Client shall start sending Publish requests with the normal Publish handling. This sequence ensures that the lost NotificationMessages queued in the Server are not overwritten by new Publish responses.\nIf the Client detects missing sequence numbers in the Publish and is not able to get the lost NotificationMessages through Republish, the Client should use the Method ResendData or should read the values of all data MonitoredItems to make sure the Client has the latest values for all MonitoredItems. ResendData allows the Client"
    },
    {
      "Id": "a8f60d72-1354-495a-80bd-7a7e9ec32376",
      "Header": "Document: Part 4 - Services\nSection: 6.7 Re-establishing connections\n---\n",
      "Content": "allows the Client to resync its cache by receiving the current value for each MonitoredItem. The data should be sent in the next regular PublishingInterval.\nThe Server Object provides a Method ResendData that initiates resending of all data monitored items in a Subscription. This Method is defined in[OPC 10000-5](/\u00A7UAPart5). If this Method is called, subsequent Publish responses shall contain the current value for each data MonitoredItem in the Subscription where the MonitoringMode is set to Reporting. If a value is queued for a data MonitoredItem, the next value in the queue is sent in the Publish response. If no value is queued for a data MonitoredItem, the last value sent is repeated in the Publish response. The Server shall verify that the Method is called within the Session context of the Session that owns the Subscription.\nIndependent of the detailed recovery strategy, the Client should make sure that it does not overwrite newer data in the Client with older values provided through Republish.\nIf the Republish returns Bad_SubscriptionIdInvalid, then the Client needs to create a new Subscription.\nRe-establishing the connection by creating a new SecureChannel may be rejected, because of a new Server ApplicationInstanceCertificate or other security errors. OpenSecureChannel returns Bad_CertificateInvalid in the case of a new Server ApplicationInstance\nCertificate. In case of security failures, the Client shall use the GetEndpoints Service to fetch the most up to date security information from the Server.\nIf the Client ApplicationInstanceCertificate is updated, the Client shall create a new Session since the Session does not allow a update of the Client ApplicationInstanceCertificate. The Client shall try to transfer existing Subscriptions to the new Session. Transfer subscription shall be accepted by a Server even for Anonymous user if the Client does not change i.e. the ApplicationUri"
    },
    {
      "Id": "482b2740-77d8-423c-9110-e2bfc81ef3f0",
      "Header": "Document: Part 4 - Services\nSection: 6.7 Re-establishing connections\n---\n",
      "Content": "ApplicationUri of the Client does not change and a secure connection is used.\n[OPC 10000-6](/\u00A7UAPart6) defines a reverse connect mechanism where the Server initiates the logical connection. All subsequent steps like creating a SecureChannel are initiated by the Client. In this scenario the Client is only able to initiate a reconnect if the Server initiates a new logical connection after a connection interruption. The Client side reconnect handling described in[Figure 36](/\u00A7_Ref303812115) applies also to the reverse connect case. A Server is not able to actively check the connection status; therefore the Server shall initiate a new connection in a configurable interval, even if a connection to the Client is established. This ensures that an initiated connection is available for the reconnect handling in addition to other scenarios where the Client needs more than one connection."
    },
    {
      "Id": "8d5c0bd9-8419-4e64-a400-a82e7c5e3668",
      "Header": "Document: Part 4 - Services\nSection: 6 Service behaviours\n---\n",
      "Content": "6.8 Durable Subscriptions"
    },
    {
      "Id": "875d13cc-dbbb-47c4-b9e0-031d4182a655",
      "Header": "Document: Part 4 - Services\nSection: 6.8 Durable Subscriptions\n---\n",
      "Content": "MonitoredItems are used to monitor Variable Values for data changes and event notifier Objects for new Events. Subscriptions are used to combine data changes and events of the assigned MonitoredItems to an optimized stream of network messages. A reliable delivery is ensured as long as the lifetime of the Subscription and the queues in the MonitoredItems are long enough for a network interruption between OPC UA Client and Server. All queues that ensure reliable delivery are normally kept in memory and a Server restart would delete them.\nThere are use cases where OPC UA Clients have no permanent network connection to the OPC UA Server or where reliable delivery of data changes and events is necessary even if the OPC UA Server is restarted or the network connection is interrupted for a longer time.\nTo ensure this reliable delivery, the OPC UA Server shall keep collected data and events in until the OPC UA Client has confirmed reception. It is possible that there will be data lost if the Server is not shut down gracefully or in case of power failure. But the OPC UA Server should persist the queues frequently even if the Server is not shut down.\nThe Method SetSubscriptionDurable defined in[OPC 10000-5](/\u00A7UAPart5) is used to set a Subscription into this durable mode and to allow much longer lifetimes and queue sizes than for normal Subscriptions. The Method shall be called before the MonitoredItems are created in the durable Subscription. The Server shall verify that the Method is called within the Session context of the Session that owns the Subscription.\nA value of 0 for the parameter lifetimeInHours requests the highest lifetime supported by the Server.\nThe revisedLifetimeInHours is used to set the LifetimeCount of the Subscription.\nModifySubscription can be used to change the parameters of the durable Subscription. If the Client would like to keep the previous life time setting, the Client needs to calculate the"
    },
    {
      "Id": "b18b97c6-2c23-4c32-bb16-ace9c2167455",
      "Header": "Document: Part 4 - Services\nSection: 6.8 Durable Subscriptions\n---\n",
      "Content": "Client needs to calculate the LifetimeCount based on the revisedLifetimeInHours and the PublishingInterval. ModifySubscription does not change the durable mode of the Subscription.\nAn OPC UA Server providing durable Subscriptions shall\nSupport the SetSubscriptionDurable Method defined in[OPC 10000-5](/\u00A7UAPart5)\nSupport Service TransferSubscriptions\nSupport long Subscription lifetimes, minimum requirements are define in[OPC 10000-7](/\u00A7UAPart7)\nSupport large MonitoredItem queues, minimum requirements are define in[OPC 10000-7](/\u00A7UAPart7)\nStore Subscriptions settings and sent notification messages with sequence numbers\nStore MonitoredItem settings and queues\nAn OPC UA Client using durable Subscriptions shall\nUse the SetSubscriptionDurable Method defined in[OPC 10000-5](/\u00A7UAPart5) to create a durable Subscription\nClose Sessions for planned communication interruptions\nUse the Service TransferSubscriptions to assign the durable Subscription to a new Session for data transfer\nStore SubscriptionId, MonitoredItem client and server handles and the last confirmed sequence number"
    },
    {
      "Id": "0b17d319-3ea3-4ed1-b077-fea86e14ab73",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "7 Common parameter type definitions"
    },
    {
      "Id": "c87e62ae-8970-4119-a8a0-c2aa56607815",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.1 AdditionalParametersType"
    },
    {
      "Id": "6c905898-a75f-4d0c-8794-f57f57f33ffe",
      "Header": "Document: Part 4 - Services\nSection: 7.1 AdditionalParametersType\n---\n",
      "Content": "The AdditionalParametersType parameter is used as value of the additionalHeader field of the RequestHeader and ResponseHeader parameters. It allows Clients and Servers to pass additional named parameters with Service requests or responses. These named parameters may be defined by the OPC UA specification, a companion specification or be specific to a vendor implementation. The name is a QualifiedName which allows the same name to be used in different contexts. The value is a Variant which allows Structures to be passed in addition to basic types such as Strings.\nNote that the calls to CreateSession/ ActivateSession are made before the Client can read the Server\u0027s current NamespaceArray. This means that only names with a NamespaceIndex of 0 or 1 may be used in the requests for these Services. Companion specifications and vendors can define names in for use with NamespaceIndex 1 if they add prefix that ensures uniqueness. The same restriction applies to values which contain DataTypes with NamespaceIndexes.\nThe components of this structure are defined in[Table 106](/\u00A7_Ref43210126).\nTable 106- AdditionalParametersType\nName\nType\nDescription\nAdditionalParametersType\nstructure\nSpecifies a list of value qualified by a name.\nparameters\nKeyValuePair []\nA list of headers identified by a QualifiedName.\nThe KeyValuePair type is defined in[OPC 10000-5](/\u00A7UAPart5)."
    },
    {
      "Id": "c4773ad3-8ae2-47af-aa68-d445972009d7",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.2 ApplicationDescription"
    },
    {
      "Id": "e742c107-d5ae-4300-95e7-ff5a324cc1eb",
      "Header": "Document: Part 4 - Services\nSection: 7.2 ApplicationDescription\n---\n",
      "Content": "The components of this parameter are defined in[Table 107](/\u00A7_Ref154233713).\nTable 107- ApplicationDescription\nName\nType\nDescription\nApplicationDescription\nstructure\nSpecifies an application that is available.\napplicationUri\nString\nThe globally unique identifier for the application instance. This URI is used as ServerUri in Services if the application is a Server.\nproductUri\nString\nThe globally unique identifier for the product.\napplicationName\nLocalizedText\nA localized descriptive name for the application.\napplicationType\nEnum\nApplicationType\nThe type of application. The ApplicationType enumeration is defined in[7.4](/\u00A7_Ref42717375).\ngatewayServerUri\nString\nA URI that identifies the Gateway Server associated with the discoveryUrls.\nThis value is null or empty if the Server can be accessed directly.\nThis field is not used if the applicationType is CLIENT.\ndiscoveryProfileUri\nString\nA URI that identifies the discovery profile supported by the URLs provided.\nThis field is not used if the applicationType is CLIENT.\nIf this value is null or empty then the Endpoints shall support the Discovery Services defined in[5.5](/\u00A7_Ref182127531).\nAlternate discovery profiles are defined in[OPC 10000-7](/\u00A7UAPart7).\ndiscoveryUrls []\nString\nA list of URLs for the DiscoveryEndpoints provided by the application.\nIf the applicationType is CLIENT, this field shall contain an empty list."
    },
    {
      "Id": "ca68ba67-da34-42a0-9ade-f84a761d0866",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.3 ApplicationInstanceCertificate"
    },
    {
      "Id": "4ee1e259-f999-4387-bca4-67d85c985c2f",
      "Header": "Document: Part 4 - Services\nSection: 7.3 ApplicationInstanceCertificate\n---\n",
      "Content": "An ApplicationInstanceCertificate is a ByteString containing an encoded Certificate. The encoding of an ApplicationInstanceCertificate depends on the security technology mapping and is defined completely in[OPC 10000-6](/\u00A7UAPart6).[Table 108](/\u00A7_Ref181632373) specifies the information that should be contained in an ApplicationInstanceCertificate.\nTable 108- ApplicationInstanceCertificate\nName\nType\nDescription\nApplicationInstanceCertificate\nstructure\nApplicationInstanceCertificate with signature created by a Certificate Authority.\nversion\nString\nAn identifier for the version of the Certificate encoding.\nserialNumber\nByteString\nA unique identifier for the Certificate assigned by the Issuer.\nsignatureAlgorithm\nString\nThe algorithm used to sign the Certificate.\nThe syntax of this field depends on the Certificate encoding.\nsignature\nByteString\nThe signature created by the Issuer.\nissuer\nStructure\nA name that identifies the Issuer Certificate used to create the signature.\nvalidFrom\nUtcTime\nWhen the Certificate becomes valid.\nvalidTo\nUtcTime\nWhen the Certificate expires.\nsubject\nStructure\nA name that identifies the application instance that the Certificate describes.\nThis field should contain the productName and the name of the organization responsible for the application instance.\napplicationUri\nString\nThe applicationUri specified in the ApplicationDescription.\nThe ApplicationDescription is described in[7.2](/\u00A7_Ref153821547).\nhostnames []\nString\nThe name of the machine where the application instance runs.\nA machine may have multiple names if is accessible via multiple networks.\nThe hostname may be a numeric network address or a descriptive name.\nServer Certificates should have at least one hostname defined.\npublicKey\nByteString\nThe public key associated with the Certificate.\nkeyUsage []\nString\nSpecifies how the Certificate"
    },
    {
      "Id": "265f4e7d-27c5-494c-a044-eaba7712f071",
      "Header": "Document: Part 4 - Services\nSection: 7.3 ApplicationInstanceCertificate\n---\n",
      "Content": "Specifies how the Certificate key may be used.\nApplicationInstanceCertificates should support Digital Signature, Non-Repudiation Key Encryption, Data Encryption and Client/Server Authorization.\nThe contents of this field depend on the Certificate encoding."
    },
    {
      "Id": "97c79896-4319-4f4b-8567-5abb846a085c",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.4 ApplicationType"
    },
    {
      "Id": "032ad766-b21e-4cad-93e3-14f613214b57",
      "Header": "Document: Part 4 - Services\nSection: 7.4 ApplicationType\n---\n",
      "Content": "The ApplicationType is an enumeration that specifies the type of OPC UA Application. The possible values are described in[Table 109](/\u00A7_Ref42717337).\nTable 109- ApplicationType values\nName\nValue\nDescription\nSERVER\n0\nThe application is a Server.\nCLIENT\n1\nThe application is a Client.\nCLIENTANDSERVER\n2\nThe application is a Client and a Server.\nDISCOVERYSERVER\n3\nThe application is a DiscoveryServer."
    },
    {
      "Id": "2aabc65e-923b-4d8f-b95f-10691a8b8ee7",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.5 BrowseDirection"
    },
    {
      "Id": "3b76c90a-dab4-48fa-ab04-272ec2e88b3c",
      "Header": "Document: Part 4 - Services\nSection: 7.5 BrowseDirection\n---\n",
      "Content": "The BrowseDirection is an enumeration that specifies the direction of References to follow. The possible values are described in[Table 110](/\u00A7_Ref42717723).\nTable 110- BrowseDirection values\nName\nValue\nDescription\nFORWARD\n0\nSelect only forward References.\nINVERSE\n1\nSelect only inverse References.\nBOTH\n2\nSelect forward and inverse References.\nINVALID\n3\nNo value specified."
    },
    {
      "Id": "d6db38bc-3c37-4cf7-afb0-3b04ba4d8516",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.6 BrowseResult"
    },
    {
      "Id": "300e0b39-acc7-4e73-af31-df65a9f0d3cd",
      "Header": "Document: Part 4 - Services\nSection: 7.6 BrowseResult\n---\n",
      "Content": "The components of this parameter are defined in[Table 111](/\u00A7_Ref181562824).\nTable 111- BrowseResult\nName\nType\nDescription\nBrowseResult\nstructure\nThe results of a Browse operation.\nstatusCode\nStatusCode\nThe status for the BrowseDescription.\nThis value is set to Good if there are still references to return for the BrowseDescription.\ncontinuationPoint\nContinuationPoint\nA Server defined opaque value that identifies the continuation point.\nThe ContinuationPoint type is defined in[7.9](/\u00A7_Ref183360083).\nReferences []\nReferenceDescription\nThe set of references that meet the criteria specified in the BrowseDescription.\nEmpty, if no References met the criteria.\nThe Reference Description type is defined in[7.29](/\u00A7_Ref129166653)."
    },
    {
      "Id": "40aa6882-f24c-4257-af10-8c963271d1d3",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.7 ContentFilter"
    },
    {
      "Id": "fbeaea83-e046-4284-bb45-f19c8fe2c125",
      "Header": "Document: Part 4 - Services\nSection: 7.7 ContentFilter\n---\n",
      "Content": "7.7.1 ContentFilter structure"
    },
    {
      "Id": "5cb31cfc-1f93-4718-9d6d-7689f51263ba",
      "Header": "Document: Part 4 - Services\nSection: 7.7.1 ContentFilter structure\n---\n",
      "Content": "The ContentFilter structure defines a collection of elements that define filtering criteria. Each element in the collection describes an operator and an array of operands to be used by the operator. The operators that can be used in a ContentFilter are described in[Table 116](/\u00A7_Ref127328167). The filter is evaluated by evaluating the first entry in the element array starting with the first operand in the operand array. The operands of an element may contain References to sub-elements resulting in the evaluation continuing to the referenced elements in the element array. The evaluation shall not introduce loops. For example evaluation starting from element \u0022A\u0022 shall never be able to return to element \u0022A\u0022. However there may be more than one path leading to another element \u0022B\u0022. If an element cannot be traced back to the starting element it is ignored. Extra operands for any operator shall result in an error. Annex B provides examples using the ContentFilter structure.\n[Table 112](/\u00A7_Ref131322052) defines the ContentFilter structure.\nTable 112- ContentFilter structure\nName\nType\nDescription\nContentFilter\nstructure\n\nelements []\nContentFilterElement\nList of operators and their operands that compose the filter criteria. The filter is evaluated by starting with the first entry in this array. This structure is defined in-line with the following indented items.\nfilterOperator\nEnum\nFilterOperator\nFilter operator to be evaluated.\nThe FilterOperator enumeration is defined in[Table 116](/\u00A7_Ref127328167).\nfilterOperands []\nExtensible Parameter\nFilterOperand\nOperands used by the selected operator. The number and use depend on the operators defined in[Table 116](/\u00A7_Ref127328167). This array needs at least one entry.\nThis extensible parameter type is the FilterOperand parameter type specified in"
    },
    {
      "Id": "4df0c759-757b-4fab-9514-317f6568a111",
      "Header": "Document: Part 4 - Services\nSection: 7.7.1 ContentFilter structure\n---\n",
      "Content": "parameter type specified in[7.7.4](/\u00A7_Ref132018533). It specifies the list of valid FilterOperand values."
    },
    {
      "Id": "414df4b1-288b-41d6-8349-769b84eb1087",
      "Header": "Document: Part 4 - Services\nSection: 7.7 ContentFilter\n---\n",
      "Content": "7.7.2 ContentFilterResult"
    },
    {
      "Id": "43745751-710f-42e7-8afb-1ba4ba92f01f",
      "Header": "Document: Part 4 - Services\nSection: 7.7.2 ContentFilterResult\n---\n",
      "Content": "The components of this data type are defined in[Table 113](/\u00A7_Ref180475619).\nTable 113- ContentFilterResult structure\nName\nType\nDescription\nContentFilterResult\nstructure\nA structure that contains any errors associated with the filter.\nelementResults []\nContentFilter\nElementResult\nA list of results for individual elements in the filter. The size and order of the list matches the size and order of the elements in the ContentFilter parameter. This structure is defined in-line with the following indented items.\nstatusCode\nStatusCode\nThe status code for a single element.\noperandStatusCodes []\nStatusCode\nA list of status codes for the operands in an element. The size and order of the list matches the size and order of the operands in the ContentFilterElement. This list is empty if no operand errors occurred.\noperandDiagnosticInfos []\nDiagnosticInfo\nA list of diagnostic information for the operands in an element. The size and order of the list matches the size and order of the operands in the ContentFilterElement. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the operands.\nelementDiagnosticInfos []\nDiagnosticInfo\nA list of diagnostic information for individual elements in the filter. The size and order of the list matches the size and order of the elements in the filter request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the elements.\n\n[Table 114](/\u00A7_Ref187591767) defines values for the StatusCode parameter that are specific to this structure. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 114- ContentFilterResult Result Codes\nSymbolic Id\nDescription"
    },
    {
      "Id": "cc69f2fa-be5c-47ff-8bbc-53a6a2189fe1",
      "Header": "Document: Part 4 - Services\nSection: 7.7.2 ContentFilterResult\n---\n",
      "Content": "Description\nBad_FilterOperandCountMismatch\nThe number of operands provided for the filter operator was less than expected for the operand provided.\nBad_FilterOperatorInvalid\nAn unrecognized operator was provided in a filter.\nBad_FilterOperatorUnsupported\nA valid operator was provided, but the Server does not provide support for this filter operator.\n[Table 115](/\u00A7_Ref196798495) defines values for the operandStatusCodes parameter that are specific to this structure. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 115- ContentFilterResult Operand Result Codes\nSymbolic Id\nDescription\nBad_FilterOperandInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_FilterElementInvalid\nThe referenced element is not a valid element in the content filter.\nBad_FilterLiteralInvalid\nThe referenced literal is not a valid BaseDataType.\nBad_AttributeIdInvalid\nThe attribute id is not a valid attribute id in the system.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NotTypeDefinition\nThe provided NodeId was not a type definition NodeId."
    },
    {
      "Id": "f98bbf05-9fd1-4a09-a56d-40749c08fb4f",
      "Header": "Document: Part 4 - Services\nSection: 7.7 ContentFilter\n---\n",
      "Content": "7.7.3 FilterOperator"
    },
    {
      "Id": "092cb3b4-2aff-4b0b-8530-c0ffaf5ec513",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "[Table 116](/\u00A7_Ref127328167) defines the basic operators that can be used in a ContentFilter. See[Table 117](/\u00A7_Ref165186340) for a description of advanced operators. See[7.7.4](/\u00A7_Ref132018533) for a definition of operands.\nTable 116- Basic FilterOperator definition\nOperator\nName\nOperator\nNumber\nNumber of Operands\nDescription\nEquals\n0\n2\nTRUE if operand[0] is equal to operand[1].\nIf the operands are of different types, the system shall perform any implicit conversion to a common type. This operator resolves to FALSE if no implicit conversion is available and the operands are of different types. This operator returns FALSE if the implicit conversion fails. See the discussion on data type precedence in[Table 120](/\u00A7_Ref163527377) for more information how to convert operands of different types.\nThe Equals operator for String is case sensitive.\nIsNull\n1\n1\nTRUE if operand[0] is a null value.\nTRUE If the value in operand[0] is a StatusCode instead of the field DataType.\nGreaterThan\n2\n2\nTRUE if operand[0] is greater than operand[1].\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to an ordered value.\n[1]: Any operand that resolves to an ordered value.\nThe same conversion rules as defined for Equals apply.\nLessThan\n3\n2\nTRUE if operand[0] is less than operand[1].\nThe same conversion rules and restrictions as defined for GreaterThan apply.\nGreaterThanOrEqual\n4\n2\nTRUE if operand[0] is greater than or equal to operand[1].\nThe same conversion rules and restrictions as defined for GreaterThan apply."
    },
    {
      "Id": "91f0f646-4ed0-433c-9e55-317838ce6a7c",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "GreaterThan apply.\nLessThanOrEqual\n5\n2\nTRUE if operand[0] is less than or equal to operand[1].\nThe same conversion rules and restrictions as defined for GreaterThan apply.\nLike\n6\n2\nTRUE if operand[0] matches a pattern defined by operand[1]. See[Table 118](/\u00A7_Ref132016905) for the definition of the pattern syntax.\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a String.\n[1]: Any operand that resolves to a String.\nThis operator resolves to FALSE if no operand can be resolved to a string.\nNot\n7\n1\nTRUE if operand[0] is FALSE.\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a Boolean.\nIf the operand cannot be resolved to a Boolean, the result is a NULL. See below for a discussion on the handling of NULL.\nBetween\n8\n3\nTRUE if operand[0] is greater or equal to operand[1] and less than or equal to operand[2].\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to an ordered value.\n[1]: Any operand that resolves to an ordered value.\n[2]: Any operand that resolves to an ordered value.\nIf the operands are of different types, the system shall perform any implicit conversion to match all operands to a common type. If no implicit conversion is available and the operands are of different types, the particular result is FALSE. See the discussion on data type precedence in[Table 120](/\u00A7_Ref163527377) for more information how to convert operands of different types.\nInList\n9\n2..n"
    },
    {
      "Id": "32421054-ad5e-415a-85db-f4274bfaccce",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "2..n\nTRUE if operand[0] is equal to one or more of the remaining operands.\nThe Equals Operator is evaluated for operand[0] and each remaining operand in the list. If any Equals evaluation is TRUE, InList returns TRUE.\nAnd\n10\n2\nTRUE if operand[0] and operand[1] are TRUE.\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a Boolean.\n[1]: Any operand that resolves to a Boolean.\nIf any operand cannot be resolved to a Boolean it is considered a NULL. See below for a discussion on the handling of NULL.\nOr\n11\n2\nTRUE if operand[0] or operand[1] are TRUE.\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a Boolean.\n[1]: Any operand that resolves to a Boolean.\nIf any operand cannot be resolved to a Boolean it is considered a NULL. See below for a discussion on the handling of NULL.\nCast\n12\n2\nConverts operand[0] to a value with a data type with a NodeId identified by operand[1].\nThe following restrictions apply to the operands:\n[0]: Any operand.\n[1]: Any operand that resolves to a NodeId or ExpandedNodeId where the Node is of the NodeClass DataType.\nIf there is any error in conversion or in any of the parameters then the Cast Operation evaluates to a NULL. See below for a discussion on the handling of NULL.\nBitwiseAnd\n16\n2\nThe result is an integer which matches the size of the largest operand and contains a bitwise And operation of the two operands where both have been converted to the same size (largest of the two operands).\nThe following restrictions apply to the operands:"
    },
    {
      "Id": "f6febfd0-2c77-4ee8-b486-f3389321e52d",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "[0]: Any operand that resolves to an integer.\n[1]: Any operand that resolves to an integer.\nIf any operand cannot be resolved to an integer it is considered a NULL. See below for a discussion on the handling of NULL.\nBitwiseOr\n17\n2\nThe result is an integer which matches the size of the largest operand and contains a bitwise Or operation of the two operands where both have been converted to the same size (largest of the two operands).\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to an integer.\n[1]: Any operand that resolves to an integer.\nIf any operand cannot be resolved to an integer it is considered a NULL. See below for a discussion on the handling of NULL.\n\nMany operands have restrictions on their type. This requires the operand to be evaluated to determine what the type is. In some cases the type is specified in the operand (i.e. a LiteralOperand). In other cases the type requires that the value of an attribute be read. An ElementOperand evaluates to a Boolean value unless the operator is a Cast or a nested RelatedTo operator.\nOperands that resolve to an ordered value are restricted to the DataTypes Byte, Int16, Int32, Int64, SByte, UInt16, UInt32, UInt64, Float, Double and DateTime.\nWhen testing for equality, a Server shall treat null and empty arrays of the same DataType as equal. This also applies to Strings and ByteStrings.\n[Table 117](/\u00A7_Ref165186340) defines complex operators that require a target node (i.e. row) to evaluate. These operators shall be re-evaluated for each possible target node in the result set.\nTable 117- Complex FilterOperator definition\nOperator\nName\nOperator\nNumber"
    },
    {
      "Id": "0ee97f92-3bc0-4ed5-acf4-417d0254d27f",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "Operator\nNumber\nNumber of Operands\nDescription\nInView\n13\n1\nTRUE if the target Node is contained in the View defined by operand[0].\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a NodeId that identifies a View Node.\nIf operand[0] does not resolve to a NodeId that identifies a View Node, this operation shall always be False.\nOfType\n14\n1\nTRUE if the target Node is of type operand[0] or of a subtype of operand[0].\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a NodeId that identifies an ObjectType or VariableType Node.\nIf operand[0] does not resolve to a NodeId that identifies an ObjectType or VariableType Node, this operation shall always be False.\nRelatedTo\n15\n6\nTRUE if the target Node is of type operand[0] and is related to a NodeId of the type defined in operand[1] by the Reference type defined in operand[2].\noperand[0] or operand[1] can also point to an element Reference where the referred to element is another RelatedTo operator. This allows chaining of relationships (e.g. A is related to B is related to C), where the relationship is defined by the ReferenceType defined in operand[2]. In this case, the referred to element returns a list of NodeIds instead of TRUE or FALSE. In this case if any errors occur or any of the operands cannot be resolved to an appropriate value, the result of the chained relationship is an empty list of nodes.\nOperand[3] defines the number of hops for which the relationship should be followed. If operand[3] is 1, then objects shall be directly related. If a hop is greater than 1, then a NodeId"
    },
    {
      "Id": "75b9958a-6057-45d1-996a-4a99d38c6e37",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "NodeId of the type described in operand[1] is checked for at the depth specified by the hop. In this case, the type of the intermediate Node is undefined, and only the Reference type used to reach the end Node is defined. If the requested number of hops cannot be followed, then the result is FALSE, i.e., an empty Node list. If operand[3] is 0, the relationship is followed to its logical end in a forward direction and each Node is checked to be of the type specified in operand[1]. If any Node satisfies this criterion, then the result is TRUE, i.e., the NodeId is included in the sub-list.\nOperand [4] defines if operands [0] and [1] should include support for subtypes of the types defined by these operands. A TRUE indicates support for subtypes\noperand [5] defines if operand [2] should include support for subtypes of the reference type. A TRUE indicates support for subtypes.\n\nThe following restrictions apply to the operands:\n[0]: Any operand that resolves to a NodeId or ExpandedNodeId that identifies an ObjectType or VariableType Node or a reference to another element which is a RelatedTo operator.\n[1]: Any operand that resolves to a NodeId or ExpandedNodeId that identifies an ObjectType or VariableType Node or a reference to another element which is a RelatedTo operator.\n[2]: Any operand that resolves to a NodeId that identifies a ReferenceType Node.\n[3]: Any operand that resolves to a value implicitly convertible to UInt32.\n[4]: Any operand that resolves to a value implicitly convertible to a Boolean; if this operand does not resolve to a Boolean, then a value of FALSE is used.\n[5]: Any operand that resolves to a value implicitly convertible to a Boolean; if"
    },
    {
      "Id": "1b2be558-815d-4db5-b999-8e11299819d4",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "this operand does not resolve to a Boolean, then a value of FALSE is used.\n\nIf none of the operands [0],[1],[2],[3] resolves to an appropriate value then the result of this operation shall always be False (or an Empty set in the case of a nested RelatedTo operand).\n\nSee examples for RelatedTo in[B.2](/\u00A7_Ref188668219).\n\nThe RelatedTo operator can be used to identify if a given type, set as operand[1], is a subtype of another type set as operand[0] by setting operand[2] to the HasSubtype ReferenceType and operand[3] to 0.\nThe Like operator can be used to perform wildcard comparisons. Several special characters can be included in the second operand of the Like operator. The valid characters are defined in[Table 118](/\u00A7_Ref132016905). The wildcard characters can be combined in a single string (i.e. \u0027Th[ia][ts]%\u0027 would match \u0027That is fine\u0027, \u0027This is fine\u0027, \u0027That as one\u0027, \u0027This it is\u0027, \u0027Then at any\u0027, etc.). The Like operator is case sensitive.\nTable 118- Wildcard characters\nSpecial Character\nDescription\n%\nMatch any string of zero or more characters (i.e. \u0027main%\u0027 would match any string that starts with \u0027main\u0027, \u0027%en%\u0027 would match any string that contains the letters \u0027en\u0027 such as \u0027entail\u0027, \u0027green\u0027 and \u0027content\u0027.) If a \u0027%\u0027 sign is intend in a string the list operand can be used (i.e. 5[%] would match \u00275%\u0027).\n_"
    },
    {
      "Id": "0bd96c4d-b67d-4812-ad55-ce35ae2f6677",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "_\nMatch any single character (i.e. \u0027_ould\u0027 would match \u0027would\u0027, \u0027could\u0027). If the \u0027_\u0027 is intended in a string then the list operand can be used (i.e. 5[_] would match \u00275_\u0027).\n\\\nEscape character allows literal interpretation\n(i.e. \\\\ is \\, \\% is %, \\_ is _)\n[]\nMatch any single character in a list\n(i.e. \u0027abc[13-68] would match \u0027abc1\u0027, \u0027abc3\u0027, \u0027abc4\u0027, \u0027abc5\u0027, \u0027abc6\u0027, and \u0027abc8\u0027.\n\u0027xyz[c-f]\u0027 would match \u0027xyzc\u0027, \u0027xyzd\u0027, \u0027xyze\u0027, \u0027xyzf\u0027).\n[^]\nNot Matching any single character in a list.\nThe ^ shall be the first character inside on the [].\n(i.e. \u0027ABC[^13-5]\u0027 would NOT match \u0027ABC1\u0027, \u0027ABC3\u0027, \u0027ABC4\u0027, and \u0027ABC5\u0027. xyz[^dgh] would NOT match \u0027xyzd\u0027, \u0027xyzg\u0027, \u0027xyzh\u0027. )\n\n[Table 119](/\u00A7_Ref135730244) defines the conversion rules for the operand values. The types are automatically converted if an implicit conversion exists (I). If an explicit conversion exists (E) then type can be converted with the cast operator. If no conversion exists (X) the then types cannot be converted, however, some Servers may support application specific explicit conversions. The types used in the table are defined in[OPC 10000-3](/\u00A7UAPart3). A data type that is not in the table does not have any defined conversions.\nTable 119- Conversion rules\n\nTarget Type (To)\nSource Type\n(From)\n\nBoolean\nByte\nByteString\nDateTime\nDouble"
    },
    {
      "Id": "1218e390-eb98-406e-8314-0be5b73f9e81",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "DateTime\nDouble\nExpandedNodeId\nFloat\nGuid\nInt16\nInt32\nInt64\nNodeId\nSByte\nStatusCode\nString\nLocalizedText\nQualifiedName\nUInt16\nUInt32\nUInt64\nXmlElement\nBoolean\n-\nI\nX\nX\nI\nX\nI\nX\nI\nI\nI\nX\nI\nX\nE\nX\nX\nI\nI\nI\nX\nByte\nE\n-\nX\nX\nI\nX\nI\nX\nI\nI\nI\nX\nI\nX\nE\nX\nX\nI\nI\nI\nX\nByteString\nX\nX\n-\nX\nX\nX\nX\nE\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nDateTime\nX\nX\nX\n-\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nE\nX\nX\nX\nX\nX\nX\nDouble\nE\nE\nX\nX\n-\nX\nE\nX\nE\nE\nE\nX\nE\nX\nE\nX\nX\nE\nE\nE\nX\nExpandedNodeId\nX\nX\nX\nX\nX\n-\nX\nX\nX\nX\nX\nE\nX\nX\nI\nX\nX\nX\nX\nX\nX\nFloat\nE\nE\nX\nX\nI\nX\n-\nX\nE\nE\nE\nX\nE\nX\nE\nX\nX\nE\nE\nE\nX\nGuid\nX\nX\nE\nX\nX\nX\nX\n-\nX\nX\nX"
    },
    {
      "Id": "adfce031-2add-4bab-b8e5-d655d5b2865b",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "X\nX\nX\nX\nX\nE\nX\nX\nX\nX\nX\nX\nInt16\nE\nE\nX\nX\nI\nX\nI\nX\n-\nI\nI\nX\nE\nX\nE\nX\nX\nE\nI\nI\nX\nInt32\nE\nE\nX\nX\nI\nX\nI\nX\nE\n-\nI\nX\nE\nE\nE\nX\nX\nE\nE\nI\nX\nInt64\nE\nE\nX\nX\nI\nX\nI\nX\nE\nE\n-\nX\nE\nE\nE\nX\nX\nE\nE\nE\nX\nNodeId\nX\nX\nX\nX\nX\nI\nX\nX\nX\nX\nX\n-\nX\nX\nI\nX\nX\nX\nX\nX\nX\nSByte\nE\nE\nX\nX\nI\nX\nI\nX\nI\nI\nI\nX\n-\nX\nE\nX\nX\nI\nI\nI\nX\nStatusCode\nX\nX\nX\nX\nX\nX\nX\nX\nX\nE\nE\nX\nX\n-\nX\nX\nX\nE\nE\nE\nX\nString\nI\nI\nX\nE\nI\nE\nI\nI\nI\nI\nI\nE\nI\nX\n-\nE\nE\nI\nI\nI\nX\nLocalizedText\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nI\n-\nX\nX\nX\nX"
    },
    {
      "Id": "c8911c60-e9e1-41b2-aa24-89cd8b7acea4",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "X\nX\nX\nQualifiedName\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nI\nI\n-\nX\nX\nX\nX\nUInt16\nE\nE\nX\nX\nI\nX\nI\nX\nI\nI\nI\nX\nE\nI\nE\nX\nX\n-\nI\nI\nX\nUInt32\nE\nE\nX\nX\nI\nX\nI\nX\nE\nI\nI\nX\nE\nE\nE\nX\nX\nE\n-\nI\nX\nUInt64\nE\nE\nX\nX\nI\nX\nI\nX\nE\nE\nI\nX\nE\nE\nE\nX\nX\nE\nE\n-\nX\nXmlElement\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\nX\n-\n\nArrays of a source type can be converted to arrays of the target type by converting each element. A conversion error for any element causes the entire conversion to fail.\nArrays of length 1 can be implicitly converted to a scalar value of the same type.\nGuid, NodeId and ExpandedNodeId are converted to and from String using the syntax defined in[OPC 10000-6](/\u00A7UAPart6).\nFloating point values are rounded by adding 0.5 and truncating when they are converted to integer values.\nConverting a negative value to an unsigned type causes a conversion error. If the conversion fails the result is a null value."
    },
    {
      "Id": "8520f695-147e-45a4-8331-92e9163770a5",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "Converting a value that is outside the range of the target type causes a conversion error. If the conversion fails the result is a null value.\nByteString is converted to String by formatting the bytes as a sequence of hexadecimal digits.\nLocalizedText values are converted to Strings by dropping the Locale. Strings are converted to LocalizedText values by setting the Locale to \u0022\u0022.\nQualifiedName values are converted to Strings by dropping the NamespaceIndex. Strings are converted to QualifiedName values by setting the NamespaceIndex to 0.\nA StatusCode can be converted to and from a UInt32 and Int32 by copying the bits. Only the top 16-bits if the StatusCode are copied when it is converted to and from a UInt16 or Int16 value. Since Event fields can have a StatusCode instead of the expected DataType, a StatusCode can only be converted to an integer with an explicit conversion.\nBoolean values are converted to \u00271\u0027 when true and \u00270\u0027 when false. Non zero numeric values are converted to true Boolean values. Numeric values of 0 are converted to false Boolean values. String values containing \u0022true\u0022, \u0022false\u0022, \u00221\u0022 or \u00220\u0022 can be converted to Boolean values. Other string values cause a conversion error. In this case Strings are case-insensitive.\nIt is sometimes possible to use implicit casts when operands with different data types are used in an operation. In this situation the precedence rules defined in[Table 120](/\u00A7_Ref163527377) are used to determine which implicit conversion to use. The first data type in the list (top down) has the most precedence. If a data type is not in this table then it cannot be converted implicitly while evaluating an operation.\nFor example, assume that A = 1,1 ( Float) and B = 1 ( Int32) and that these values are used with an Equals"
    },
    {
      "Id": "bb78210d-54ab-4b05-bc7c-64c75aae16bc",
      "Header": "Document: Part 4 - Services\nSection: 7.7.3 FilterOperator\n---\n",
      "Content": "Equals operator. This operation would be evaluated by casting the Int32 value to a Float since the Float data type has more precedence.\nTable 120- Data Precedence rules\nRank\nData Type\n1\nDouble\n2\nFloat\n3\nInt64\n4\nUInt64\n5\nInt32\n6\nUInt32\n7\nStatusCode\n8\nInt16\n9\nUInt16\n10\nSByte\n11\nByte\n12\nBoolean\n13\nGuid\n14\nString\n15\nExpandedNodeId\n16\nNodeId\n17\nLocalizedText\n18\nQualifiedName\n\nOperands may contain null values (i.e. values which do not exist). When this happens, the element always evaluates to NULL (unless the IsNull operator has been specified).[Table 121](/\u00A7_Ref163564926) defines how to combine elements that evaluate to NULL with other elements in a logical AND operation.\nTable 121- Logical AND Truth table\n\nTRUE\nFALSE\nNULL\nTRUE\nTRUE\nFALSE\nNULL\nFALSE\nFALSE\nFALSE\nFALSE\nNULL\nNULL\nFALSE\nNULL\n\n\n[Table 122](/\u00A7_Ref163565558) defines how to combine elements that evaluate to NULL with other elements in a logical OR operation.\nTable 122- Logical OR Truth table\n\nTRUE\nFALSE\nNULL\nTRUE\nTRUE\nTRUE\nTRUE\nFALSE\nTRUE\nFALSE\nNULL\nNULL\nTRUE\nNULL\nNULL\n\nThe NOT operator always evaluates to NULL if applied to a NULL operand.\nA ContentFilter which evaluates to NULL after all elements are evaluated is evaluated as FALSE.\nFor any fatal errors like out of memory situations, the operator either evaluates to FALSE or NULL."
    },
    {
      "Id": "b4a7b661-40ac-40c7-b245-a6d43d021fb3",
      "Header": "Document: Part 4 - Services\nSection: 7.7 ContentFilter\n---\n",
      "Content": "7.7.4 FilterOperand parameters"
    },
    {
      "Id": "a68e3287-77c4-410a-98db-4a13361b47a9",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4 FilterOperand parameters\n---\n",
      "Content": "7.7.4.1 Overview"
    },
    {
      "Id": "639a0dd0-5863-4f61-b92a-f3d6b9dff0b1",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.1 Overview\n---\n",
      "Content": "The ContentFilter structure specified in[7.7](/\u00A7_Ref132019060) defines a collection of elements that makes up filter criteria and contains different types of FilterOperands. The FilterOperand parameter is an extensible parameter. This parameter is defined in[Table 123](/\u00A7_Ref131322470). The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nTable 123- FilterOperand parameter TypeIds\nSymbolic Id\nDescription\nElement\nSpecifies an index into the array of elements. This type is used to build a logic tree of sub-elements by linking the operand of one element to a sub-element.\nLiteral\nSpecifies a literal value.\nAttribute\nSpecifies any Attribute of an Object or Variable Node using a Node in the type system and relative path constructed from ReferenceTypes and BrowseNames.\nSimpleAttribute\nSpecifies any Attribute of an Object or Variable Node using a TypeDefinition and a relative path constructed from BrowseNames."
    },
    {
      "Id": "f039d2ce-e130-4229-a1a1-8b79adf5b6e0",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4 FilterOperand parameters\n---\n",
      "Content": "7.7.4.2 ElementOperand"
    },
    {
      "Id": "e4e95c03-9548-4220-acd3-5332ae34b71a",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.2 ElementOperand\n---\n",
      "Content": "The ElementOperand provides the linking to sub-elements within a ContentFilter. The link is in the form of an integer that is used to index into the array of elements contained in the ContentFilter. An index is considered valid if its value is greater than the element index it is part of and it does not Reference a non-existent element. Clients shall construct filters in this way to avoid circular and invalid References. Servers should protect against invalid indexes by verifying the index prior to using it.\n[Table 124](/\u00A7_Ref132017822) defines the ElementOperand type.\nTable 124- ElementOperand\nName\nType\nDescription\nElementOperand\nstructure\nElementOperand value.\nindex\nUInt32\nIndex into the element array."
    },
    {
      "Id": "2d41764e-4855-490b-981b-fa3c0e3d694b",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4 FilterOperand parameters\n---\n",
      "Content": "7.7.4.3 LiteralOperand"
    },
    {
      "Id": "a14fe50b-f609-4b48-ad8d-863335ee33f0",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.3 LiteralOperand\n---\n",
      "Content": "[Table 125](/\u00A7_Ref132017835) defines the LiteralOperand type.\nTable 125- LiteralOperand\nName\nType\nDescription\nLiteralOperand\nstructure\nLiteralOperand value.\nvalue\nBaseDataType\nA literal value."
    },
    {
      "Id": "1a32a99b-6383-4b39-93b2-2c9c19b23f58",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4 FilterOperand parameters\n---\n",
      "Content": "7.7.4.4 AttributeOperand"
    },
    {
      "Id": "80120c35-68ee-49f1-a477-e6bbc3e28e19",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.4 AttributeOperand\n---\n",
      "Content": "[Table 126](/\u00A7_Ref132017848) defines the AttributeOperand type.\nTable 126- AttributeOperand\nName\nType\nDescription\nAttributeOperand\nstructure\nAttribute of a Node in the AddressSpace.\nnodeId\nNodeId\nNodeId of a Node from the type system.\nalias\nString\nAn optional parameter used to identify or refer to an alias. An alias is a symbolic name that can be used to alias this operand and use it in other locations in the filter structure.\nbrowsePath\nRelativePath\nBrowse path relative to the Node identified by the nodeId parameter. See[7.30](/\u00A7_Ref139474657) for the definition of RelativePath.\nattributeId\nIntegerId\nId of the Attribute. This shall be a valid AttributeId. The IntegerId is defined in[7.19](/\u00A7_Ref128929614). The IntegerIds for the Attributes are defined in[OPC 10000-6](/\u00A7UAPart6).\nindexRange\nNumericRange\nThis parameter is used to identify a single element of an array or a single range of indexes for an array. The first element is identified by index 0 (zero).\nThe NumericRange type is defined in[7.27](/\u00A7_Ref129174867).\nThis parameter is not used if the specified Attribute is not an array. However, if the specified Attribute is an array and this parameter is not used, then all elements are to be included in the range. The parameter is null or empty if not used."
    },
    {
      "Id": "d345fc13-e687-4df7-bc43-30ae83d368eb",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4 FilterOperand parameters\n---\n",
      "Content": "7.7.4.5 SimpleAttributeOperand"
    },
    {
      "Id": "07df6837-27eb-4b2e-8810-9420e7995e2d",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.5 SimpleAttributeOperand\n---\n",
      "Content": "The SimpleAttributeOperand is a simplified form of the AttributeOperand and all of the rules that apply to the AttributeOperand also apply to the SimpleAttributeOperand. The examples provided in[B.1](/\u00A7_Ref188668154) only use AttributeOperand, however, the AttributeOperand can be replaced by a SimpleAttributeOperand whenever all ReferenceTypes in the RelativePath are subtypes of HierarchicalReferences and the targets are Object or Variable Nodes and an Alias is not required.\n[Table 127](/\u00A7_Ref189306839) defines the SimpleAttributeOperand type.\nTable 127- SimpleAttributeOperand\nName\nType\nDescription\nSimpleAttributeOperand\nstructure\nAttribute of a Node in the AddressSpace.\ntypeDefinitionId\nNodeId\nNodeId of a TypeDefinitionNode.\nThis parameter restricts the operand to instances of the TypeDefinitionNode or one of its subtypes.\nIf the SimpleAttributeOperand is used in an EventFilter and the typeDefinitionId is BaseEventType the Server shall evaluate the browsePath without considering the typeDefinitionId.\nbrowsePath []\nQualifiedName\nA relative path to a Node.\nThis parameter specifies a relative path using a list of BrowseNames instead of the RelativePath structure used in the AttributeOperand. The list of BrowseNames is equivalent to a RelativePath that specifies forward references which are subtypes of the HierarchicalReferences ReferenceType.\nAll Nodes followed by the browsePath shall be of the NodeClass Object or Variable.\nIf this list is empty the Node is the instance of the TypeDefinition.\nattributeId\nIntegerId\nId of the Attribute. The IntegerId is defined in[7.19](/\u00A7_Ref128929614).\nThe Value Attribute shall be supported by all Servers. The support of other Attributes depends on requirements set in Profiles or other parts of this specification."
    },
    {
      "Id": "cfdee6c4-c08e-4fcc-b07a-668c0e2e864d",
      "Header": "Document: Part 4 - Services\nSection: 7.7.4.5 SimpleAttributeOperand\n---\n",
      "Content": "indexRange\nNumericRange\nThis parameter is used to identify a single element of an array, or a single range of indexes for an array. The array in this context includes String and ByteString. The first element is identified by index 0 (zero).\nThis parameter is ignored if the selected Node is not a Variable or the Value of a Variable is not an array.\nAll values in the array are used if this parameter is null or empty.\nThe NumericRange type is defined in[7.27](/\u00A7_Ref129174867)."
    },
    {
      "Id": "c40cd763-b087-4193-94fb-bc73cf0d5a33",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.8 Counter"
    },
    {
      "Id": "911f72a3-0863-4430-a9fe-4cce57b625fa",
      "Header": "Document: Part 4 - Services\nSection: 7.8 Counter\n---\n",
      "Content": "This primitive data type is a UInt32 that represents the value of a counter. The initial value of a counter is specified by its use. Modulus arithmetic is used for all calculations, where the modulus is max value \u002B 1. Therefore,\nx \u002B y = ( x \u002B y)mod(max value \u002B 1)\nFor example:\nmax value \u002B 1 = 0\nmax value \u002B 2 = 1"
    },
    {
      "Id": "745d56c3-5a1e-4c61-a28f-b602ba6b703e",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.9 ContinuationPoint"
    },
    {
      "Id": "3673bdfb-2bb2-4a25-a3eb-49d64be83550",
      "Header": "Document: Part 4 - Services\nSection: 7.9 ContinuationPoint\n---\n",
      "Content": "A ContinuationPoint is used to pause a Browse, QueryFirst or HistoryRead operation and allow it to be restarted later by calling BrowseNext, QueryNext or HistoryRead. Operations are paused when the number of results found exceeds the limits set by either the Client or the Server.\nThe Client specifies the maximum number of results per operation in the request message. A Server shall not return more than this number of results but it may return fewer results. The Server allocates a ContinuationPoint if there are more results to return.\nServers shall support at least one ContinuationPoint per Session. Servers specify a maximum number of ContinuationPoints per Session in the ServerCapabilities Object defined in[OPC 10000-5](/\u00A7UAPart5). ContinuationPoints remain active until the Client retrieves the remaining results, the Client releases the ContinuationPoint or the Session is closed. A Server shall automatically free ContinuationPoints from prior requests from a Session if they are needed to process a new request from this Session. The Server returns a Bad_ ContinuationPointInvalid error if a Client tries to use a ContinuationPoint that has been released. A Client can avoid this situation by completing paused operations before starting new operations. For Session-less Service invocations, the ContinuationPoints are shared across all Session-less Service invocations from all Clients. The Server shall support at least the maximum number of ContinuationPoints it would allow for one Session. A Server may support an infinite number of ContinuationPoints by adding all information necessary to continue the operation into the ContinuationPoint. In this case the Server shall not allocate memory for a ContinuationPoint.\nRequests will often specify multiple operations that may or may not require a ContinuationPoint. A Server shall process the operations until it uses the maximum number of continuation points in this response. Once that happens the Server"
    },
    {
      "Id": "8c922a6a-064c-404c-bd4e-73a0a0d9e691",
      "Header": "Document: Part 4 - Services\nSection: 7.9 ContinuationPoint\n---\n",
      "Content": "Server shall return a Bad_ NoContinuationPoints error for any remaining operations. A Client can avoid this situation by sending requests with a number of operations that do not exeed the maximum number of ContinuationPoints per Session defined for the Service in the ServerCapabilities Object defined in[OPC 10000-5](/\u00A7UAPart5).\nA Client restarts an operation by passing the ContinuationPoint back to the Server. Server should always be able to reuse the ContinuationPoint provided so Servers shall never return Bad_ NoContinuationPoints error when continuing a previously halted operation.\nA ContinuationPoint is a subtype of the ByteString data type."
    },
    {
      "Id": "c2961cb5-91f3-4ac3-97f7-4646891b817c",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.10 DataChangeTrigger"
    },
    {
      "Id": "49ad31c2-d0fd-4b90-86e2-514655d7ffc0",
      "Header": "Document: Part 4 - Services\nSection: 7.10 DataChangeTrigger\n---\n",
      "Content": "The DataChangeTrigger is an enumeration that specifies the conditions under which a data change notification should be reported. The possible values are described in[Table 128](/\u00A7_Ref43031751).\nTable 128- DataChangeTrigger values\nName\nValue\nDescription\nSTATUS\n0\nReport a notification ONLY if the StatusCode associated with the value changes. See[Table 177](/\u00A7_Ref127606591) for StatusCodes defined in this document.[OPC 10000-8](/\u00A7UAPart8) specifies additional StatusCodes that are valid in particular for device data.\nSTATUS_VALUE\n1\nReport a notification if either the StatusCode or the value change. The Deadband filter can be used in addition for filtering value changes.\nFor floating point values a Server shall check for NaN and only report a single notification with NaN when the value enters the NaN state.\nWhen testing for changes, a Server shall treat null and empty arrays of the same DataType as equal. This also applies to Strings and ByteStrings.\nThis is the default setting if no filter is set.\nSTATUS_VALUE_TIMESTAMP\n2\nReport a notification if either StatusCode, value or the SourceTimestamp change. If a Deadband filter is specified, this trigger has the same behaviour as STATUS_VALUE."
    },
    {
      "Id": "95bb41d9-8970-422c-8ed6-0ad555247623",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.11 DataValue"
    },
    {
      "Id": "d9976af2-4796-4fd5-8051-60d7f09b9668",
      "Header": "Document: Part 4 - Services\nSection: 7.11 DataValue\n---\n",
      "Content": "7.11.1 General"
    },
    {
      "Id": "909ba7c2-9ce5-493c-9c65-bf30d09bbab7",
      "Header": "Document: Part 4 - Services\nSection: 7.11.1 General\n---\n",
      "Content": "The components of this parameter are defined in[Table 129](/\u00A7_Ref115234515).\nTable 129- DataValue\nName\nType\nDescription\nDataValue\nstructure\nThe value and associated information.\nvalue\nBaseDataType\nThe data value. If the StatusCode indicates an error then the value is to be ignored and the Server shall set it to null.\nstatusCode\nStatusCode\nThe StatusCode that defines the Server\u0027s ability to access/provide the value. The StatusCode type is defined in[7.38](/\u00A7_Ref127346441)\nsourceTimestamp\nUtcTime\nThe source timestamp for the value.\nsourcePicoSeconds\nUInteger\nSpecifies the number of 10 picoseconds (1,0 e-11 seconds) intervals which shall be added to the sourceTimestamp.\nserverTimestamp\nUtcTime\nThe Server timestamp for the value.\nserverPicoSeconds\nUInteger\nSpecifies the number of 10 picoseconds (1,0 e-11 seconds) intervals which shall be added to the serverTimestamp."
    },
    {
      "Id": "0b066996-6461-4869-9f68-8ba36a0b9abc",
      "Header": "Document: Part 4 - Services\nSection: 7.11 DataValue\n---\n",
      "Content": "7.11.2 PicoSeconds"
    },
    {
      "Id": "0dc05612-55f8-428e-83a8-3a8dbe8cce28",
      "Header": "Document: Part 4 - Services\nSection: 7.11.2 PicoSeconds\n---\n",
      "Content": "Some applications require high resolution timestamps. The PicoSeconds fields allow applications to specify timestamps with a resolution of 10 picoseconds. The actual size of the PicoSeconds field depends on the resolution of the UtcTime DataType. For example, if the UtcTime DataType has a resolution of 100 nanoseconds then the PicoSeconds field would need to store values up to 10 000 in order to provide the resolution of 10 picoseconds. The resolution of the UtcTime DataType depends on the Mappings defined in[OPC 10000-6](/\u00A7UAPart6)."
    },
    {
      "Id": "9056a92b-21b2-4d5f-a91b-24643e62d887",
      "Header": "Document: Part 4 - Services\nSection: 7.11 DataValue\n---\n",
      "Content": "7.11.3 SourceTimestamp"
    },
    {
      "Id": "56bb0727-db4f-463c-9f98-b7a0e7b76529",
      "Header": "Document: Part 4 - Services\nSection: 7.11.3 SourceTimestamp\n---\n",
      "Content": "The sourceTimestamp is used to reflect the timestamp that was applied to a Variable value by the data source. Once a value has been assigned a source timestamp, the source timestamp for that value instance never changes. In this context, \u0022value instance\u0022 refers to the value received, independent of its actual value.\nThe sourceTimestamp shall be UTC time and should indicate the time of the last change of the value or statusCode.\nThe sourceTimestamp should be generated as close as possible to the source of the value but the timestamp needs to be set always by the same physical clock. In the case of redundant sources, the clocks of the sources should be synchronized.\nIf the OPC UA Server receives the Variable value from another OPC UA Server, then the OPC UA Server shall always pass the source timestamp without changes. If the source that applies the timestamp is not available, the source timestamp is set to null. For example, if a value could not be read because of some error during processing like invalid arguments passed in the request then the sourceTimestamp shall be null.\nIn the case of a bad or uncertain status sourceTimestamp is used to reflect the time that the source recognized the non-good status or the time the Server last tried to recover from the bad or uncertain status.\nThe sourceTimestamp is only returned with a Value Attribute. For all other Attributes the returned sourceTimestamp is set to null."
    },
    {
      "Id": "2febd78f-eef5-4915-ba70-e8b8281793a1",
      "Header": "Document: Part 4 - Services\nSection: 7.11 DataValue\n---\n",
      "Content": "7.11.4 ServerTimestamp"
    },
    {
      "Id": "1529726b-491f-424e-bde7-bc278d544e95",
      "Header": "Document: Part 4 - Services\nSection: 7.11.4 ServerTimestamp\n---\n",
      "Content": "The serverTimestamp is used to reflect the time that the Server received a Variable value or knew it to be accurate.\nIn the case of a bad or uncertain status, serverTimestamp is used to reflect the time that the Server received the status or that the Server last tried to recover from the bad or uncertain status.\nIn the case where the OPC UA Server subscribes to a value from another OPC UA Server, each Server applies its own serverTimestamp. This is in contrast to the sourceTimestamp in which only the originator of the data is allowed to apply the sourceTimestamp.\nIf the Server subscribes to the value from another Server every ten seconds and the value changes, then the serverTimestamp is updated each time a new value is received. If the value does not change, then new values will not be received on the Subscription. However, in the absence of errors, the receiving Server applies a new serverTimestamp every ten seconds because not receiving a value means that the value has not changed. Thus, the serverTimestamp reflects the time at which the Server knew the value to be accurate.\nThis concept also applies to OPC UA Servers that receive values from exception-based data sources. For example, suppose that a Server is receiving values from an exception-based device, and that\nthe device is checking values every 0,5 seconds,\nthe connection to the device is good,\nthe device sent an update 3 minutes ago with a value of 1,234.\nIn this case, the Server value would be 1,234 and the serverTimestamp would be updated every 0,5 seconds after the receipt of the value."
    },
    {
      "Id": "59033e8a-4cef-4e81-93ba-32d57d39b4fe",
      "Header": "Document: Part 4 - Services\nSection: 7.11 DataValue\n---\n",
      "Content": "7.11.5 StatusCode assigned to a value"
    },
    {
      "Id": "49e7bb3a-026d-4ae1-8b2b-f0574e9ad957",
      "Header": "Document: Part 4 - Services\nSection: 7.11.5 StatusCode assigned to a value\n---\n",
      "Content": "The StatusCode is used to indicate the conditions under which a Variable value was generated, and thereby can be used as an indicator of the usability of the value. The StatusCode is defined in[7.38](/\u00A7_Ref127346441).\nOverall condition (severity)\nA StatusCode with severity Good means that the value is of good quality.\nA StatusCode with severity Uncertain means that the quality of the value is uncertain for reasons indicated by the SubCode.\nA StatusCode with severity Bad means that the value is not usable for reasons indicated by the SubCode.\nRules\nThe StatusCode indicates the usability of the value. Therefore, It is required that Clients minimally check the StatusCode Severity of all results, even if they do not check the other fields, before accessing and using the value.\nA Server, which does not support status information, shall return a severity code of Good. It is also acceptable for a Server to simply return a severity and a non-specific (0) SubCode.\nIf the Server has no known value - in particular when Severity is BAD, it shall return a NULL value. If the DataType of the Variable is not BaseDataType, the Severity shall be BAD if the value is NULL for a non-nullable Datatype. If a Variable is created and no default value or initial value is available, the StatusCode shall be Bad_NoValue."
    },
    {
      "Id": "9584aff7-756c-4abd-a8ac-61f17db330e4",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.12 DiagnosticInfo"
    },
    {
      "Id": "7264f933-1bf7-4afd-a114-af573cba53b8",
      "Header": "Document: Part 4 - Services\nSection: 7.12 DiagnosticInfo\n---\n",
      "Content": "The components of this parameter are defined in[Table 130](/\u00A7_Ref141105467).\nThe DiagnosticInfo shall not contain any security related information.\nTable 130- DiagnosticInfo\nName\nType\nDescription\nDiagnosticInfo\nstructure\nVendor-specific diagnostic information.\nnamespaceUri\nInt32\nThe symbolicId is defined within the context of a namespace. This namespace is represented as a string and is conveyed to the Client in the stringTable parameter of the ResponseHeader parameter defined in[7.33](/\u00A7_Ref115239340).\nThe namespaceUri parameter contains the index into the stringTable for this string. -1 indicates that no string is specified.\nThe namespaceUri shall not be the standard OPC UA namespace. There are no symbolicIds provided for standard StatusCodes.\nsymbolicId\nInt32\nThe symbolicId shall be used to identify a vendor-specific error or condition; typically the result of some Server internal operation. The maximum length of this string is 32 characters. Servers wishing to return a numeric return code should convert the return code into a string and use this string as symbolicId(e.g., \u00220xC0040007\u0022 or \u0022-4\u0022).\nThis symbolic identifier string is conveyed to the Client in the stringTable parameter of the ResponseHeader parameter defined in[7.33](/\u00A7_Ref115239340). The symbolicId parameter contains the index into the stringTable for this string. -1 indicates that no string is specified.\nThe symbolicId shall not contain StatusCodes. If the localizedText contains a translation for the description of a StatusCode, the symbolicId is -1.\nlocale\nInt32\nThe locale part of the vendor-specific localized text describing the symbolic id.\nThis localized text string is conveyed to the Client in the stringTable parameter of the ResponseHeader"
    },
    {
      "Id": "0c1c681d-9fb8-42f2-a04c-3219e06d7c3e",
      "Header": "Document: Part 4 - Services\nSection: 7.12 DiagnosticInfo\n---\n",
      "Content": "parameter of the ResponseHeader parameter defined in[7.33](/\u00A7_Ref115239340). The locale parameter contains the index into the stringTable for this string. -1 indicates that no string is specified.\nlocalizedText\nInt32\nA vendor-specific localized text string describes the symbolic id. The maximum length of this text string is 256 characters.\nThis localized text string is conveyed to the Client in the stringTable parameter of the ResponseHeader parameter defined in[7.33](/\u00A7_Ref115239340). The localizedText parameter contains the index into the stringTable for this string. -1 indicates that no string is specified.\nThe localizedText refers to the symbolicId if present or the string that describes the standard StatusCode if the Server provides translations. If the index is -1, the Server has no translation to return and the Client should use the invariant StatusCode description from the specification.\nadditionalInfo\nString\nVendor-specific diagnostic information.\ninnerStatusCode\nStatusCode\nThe StatusCode from the inner operation.\nMany applications will make calls into underlying systems during OPC UA request processing. An OPC UA Server has the option of reporting the status from the underlying system in the diagnostic info.\ninnerDiagnosticInfo\nDiagnosticInfo\nThe diagnostic info associated with the inner StatusCode."
    },
    {
      "Id": "906557be-c14c-4199-b080-acf60ba7f3f6",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.13 DiscoveryConfiguration parameters"
    },
    {
      "Id": "1d8ffcd6-53f3-4971-a3d1-c8178df0a21b",
      "Header": "Document: Part 4 - Services\nSection: 7.13 DiscoveryConfiguration parameters\n---\n",
      "Content": "7.13.1 Overview"
    },
    {
      "Id": "64ca350a-da4b-4519-9c9a-a1a12de5c600",
      "Header": "Document: Part 4 - Services\nSection: 7.13.1 Overview\n---\n",
      "Content": "The DiscoveryConfiguration structure used in the RegisterServer2 Service allows Servers to provide additional configuration parameters to Discovery Servers for registration.[Table 131](/\u00A7_Ref413267915) defines the current set of discovery configuration options. The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nTable 131- DiscoveryConfiguration parameterTypeIds\nSymbolic Id\nDescription\nMdnsDiscoveryConfiguration\nConfiguration parameters for mDNS discovery."
    },
    {
      "Id": "a2077371-d1f5-4f81-803a-a52284604169",
      "Header": "Document: Part 4 - Services\nSection: 7.13 DiscoveryConfiguration parameters\n---\n",
      "Content": "7.13.2 MdnsDiscoveryConfiguration"
    },
    {
      "Id": "cc0ec552-75fd-4980-91d5-fa72c7034b51",
      "Header": "Document: Part 4 - Services\nSection: 7.13.2 MdnsDiscoveryConfiguration\n---\n",
      "Content": "[Table 132](/\u00A7_Ref413267926) defines the MdnsDiscoveryConfiguration parameter.\nTable 132- MdnsDiscoveryConfiguration\nName\nType\nDescription\nMdnsDiscoveryConfiguration\nstructure\nmDNS discovery configuration.\nmdnsServerName\nString\nThe name of the Server when it is announced via mDNS. See[OPC 10000-12](/\u00A7UAPart12) for the details about mDNS.\nThis string shall be less than 64 bytes.\nIf null or empty the first element of the serverNames array from RegisteredServer is used ( Text of LocalizedText and truncated to 63 bytes if necessary).\nserverCapabilities []\nString\nThe set of Server capabilities supported by the Server.\nA Server capability is a short identifier for a feature\nThe set of allowed Server capabilities are defined in[OPC 10000-12](/\u00A7UAPart12)."
    },
    {
      "Id": "373256ed-3aab-4937-ba21-c21d70545147",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.14 EndpointDescription"
    },
    {
      "Id": "0306d0c4-23e0-4cc9-a0b3-8c30f8138124",
      "Header": "Document: Part 4 - Services\nSection: 7.14 EndpointDescription\n---\n",
      "Content": "The components of this parameter are defined in[Table 133](/\u00A7_Ref175564678).\nTable 133- EndpointDescription\nName\nType\nDescription\nEndpointDescription\nstructure\nDescribes an Endpoint for a Server.\nendpointUrl\nString\nThe URL for the Endpoint described.\nserver\nApplicationDescription\nThe description for the Server that the Endpoint belongs to.\nThe ApplicationDescription type is defined in[7.2](/\u00A7_Ref153821547).\nserverCertificate\nApplicationInstance\nCertificate\nThe ApplicationInstanceCertificate issued to the Server.\nThe ApplicationInstanceCertificate type is defined in[7.3](/\u00A7_Ref182127421).\nsecurityMode\nEnum\nMessageSecurityMode\nThe type of security to apply to the messages.\nThe type MessageSecurityMode type is defined in[7.20](/\u00A7_Ref153806472).\nA SecureChannel may need to be created even if the securityMode is NONE. The exact behaviour depends on the mapping used and is described in the[OPC 10000-6](/\u00A7UAPart6).\nsecurityPolicyUri\nString\nThe URI for SecurityPolicy to use when securing messages.\nThe set of known URIs and the S ecurityPolicies associated with them are defined in[OPC 10000-7](/\u00A7UAPart7).\nuserIdentityTokens []\nUserTokenPolicy\nThe user identity tokens that the Server will accept.\nThe Client shall pass one of the UserIdentityTokens in the ActivateSession request. The UserTokenPolicy type is described in[7.41](/\u00A7_Ref184567336).\ntransportProfileUri\nString\nThe URI of the Transport Profile supported by the Endpoint.\n[OPC 10000-7](/\u00A7UAPart7)"
    },
    {
      "Id": "5e568824-8730-4853-8641-39d0db668194",
      "Header": "Document: Part 4 - Services\nSection: 7.14 EndpointDescription\n---\n",
      "Content": "defines URIs for the Transport Profiles.\nsecurityLevel\nByte\nA numeric value that indicates how secure the EndpointDescription is compared to other EndpointDescriptions for the same Server.\nA value of 0 indicates that the EndpointDescription is not recommended and is only supported for backward compatibility.\nA higher value indicates better security."
    },
    {
      "Id": "dc548c73-1368-429f-912e-93e82c74841f",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.15 EphemeralKeyType"
    },
    {
      "Id": "10bbeb68-1096-46a2-9135-eb1dec59464a",
      "Header": "Document: Part 4 - Services\nSection: 7.15 EphemeralKeyType\n---\n",
      "Content": "The EphemeralKeyType parameter is used to return an ECC EphemeralKey needed to provide encrypted data back to the owner of the key. This Structure is used in the additionalHeader with the AdditionalParametersType defined in[7.1](/\u00A7_Ref43210127). See[OPC 10000-6](/\u00A7UAPart6) for a discussion of ECC EphemeralKeys. The EphemeralKey is created based on an ECC named curve specified by a SecurityPolicy. The SecurityPolicy to use depends on the context in which this parameter is used.\nThe components of this structure are defined in[Table 134](/\u00A7_Ref43209629).\nTable 134- EphemeralKeyType\nName\nType\nDescription\nEphemeralKeyType\nStructure\nSpecifies an ECC ephemeral Public Key and a signature created by the application that owns the associated Private Key.\npublicKey\nByteString\nThe Public Key associated with an EphemeralKey created by the sender.\nIt is encoded according to the rules for the ECC SecurityPolicies(see[OPC 10000-7](/\u00A7UAPart7)).\nThe size of the Public Key is specified by the current SecurityPolicyUri.\nsignature\nByteString\nThe Signature calculated using the ApplicationInstanceCertificate of the owner of the Private Key associated with the Public Key.\nThe value of the Public Key field is the data used to calculate the Signature.\nThe SecurityPolicyUri used to generate the EphemeralKey is the SecurityPolicyUri used to calculate the signature."
    },
    {
      "Id": "a413eabc-9503-4d49-8666-3d60d0784dae",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.16 ExpandedNodeId"
    },
    {
      "Id": "2f165238-b621-4168-b8f4-bec3c43e08d9",
      "Header": "Document: Part 4 - Services\nSection: 7.16 ExpandedNodeId\n---\n",
      "Content": "The components of this parameter are defined in[Table 135](/\u00A7_Ref115064134). ExpandedNodeId allows the namespace to be specified explicitly as a string or with an index in the Server\u0027s namespace table.\nTable 135- ExpandedNodeId\nName\nType\nDescription\nExpandedNodeId\nstructure\nThe NodeId with the namespace expanded to its string representation.\nserverIndex\nIndex\nIndex that identifies the Server that contains the TargetNode. This Server may be the local Server or a remote Server.\nThis index is the index of that Server in the local Server\u0027s Server table. The index of the local Server in the Server table is always 0. All remote Servers have indexes greater than 0. The Server table is contained in the Server Object in the AddressSpace(see[OPC 10000-3](/\u00A7UAPart3) and[OPC 10000-5](/\u00A7UAPart5)).\nThe Client may read the Server table Variable to access the description of the target Server.\nnamespaceUri\nString\nThe URI of the namespace.\nIf this parameter is specified then the namespace index is ignored.\n[5.5](/\u00A7_Ref163991716) and[OPC 10000-12](/\u00A7UAPart12) describes discovery mechanism that can be used to resolve URIs into URLs.\nnamespaceIndex\nUInt16\nThe index in the Server\u0027s namespace table.\nThis parameter shall be 0 and is ignored in the Server if the namespace URI is specified.\nidentifierType\nIdType\nType of the identifier element of the NodeId.\nidentifier\n*\nThe identifier for a Node in the AddressSpace of an OPC UA Server(see NodeId definition in[OPC 10000-3](/\u00A7UAPart3))."
    },
    {
      "Id": "1c370df8-1e23-481d-a7f5-246e4ea04466",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.17 ExtensibleParameter"
    },
    {
      "Id": "7b708d9e-dc27-4b06-9304-f086b877e847",
      "Header": "Document: Part 4 - Services\nSection: 7.17 ExtensibleParameter\n---\n",
      "Content": "The extensible parameter types can only be extended by additional parts of OPC 10000.\nThe ExtensibleParameter defines a data structure with two elements. The parameterTypeId specifies the data type encoding of the second element. Therefore the second element is specified as \u0022--\u0022. The ExtensibleParameter base type is defined in[Table 136](/\u00A7_Ref112552226).\nConcrete extensible parameters that are common to OPC UA are defined in Clause[7](/\u00A7_Ref81632048). Additional parts of OPC 10000 can define additional extensible parameter types.\nTable 136- ExtensibleParameter base type\nName\nType\nDescription\nExtensibleParameter\nstructure\nSpecifies the details of an extensible parameter type.\nparameterTypeId\nNodeId\nIdentifies the data type of the parameter that follows.\nparameterData\n--\nThe details for the extensible parameter type."
    },
    {
      "Id": "a7b856b3-6a67-4e47-852f-486bbc6059e1",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.18 Index"
    },
    {
      "Id": "8126a6c4-081e-4c7d-b982-3b808aad09f9",
      "Header": "Document: Part 4 - Services\nSection: 7.18 Index\n---\n",
      "Content": "This primitive data type is a UInt32 that identifies an element of an array."
    },
    {
      "Id": "e4c95a0e-1e81-494d-852f-ed6e1637d69b",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.19 IntegerId"
    },
    {
      "Id": "88e6f03e-5da2-4b10-9a8b-9269fbca8217",
      "Header": "Document: Part 4 - Services\nSection: 7.19 IntegerId\n---\n",
      "Content": "This primitive data type is a UInt32 that is used as an identifier, such as a handle. All values, except for 0, are valid."
    },
    {
      "Id": "6b1f8822-2bf5-40cd-98c7-3f5a830655c9",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.20 MessageSecurityMode"
    },
    {
      "Id": "9ef3180a-b9d2-44a6-9dec-6319a51a2123",
      "Header": "Document: Part 4 - Services\nSection: 7.20 MessageSecurityMode\n---\n",
      "Content": "The MessageSecurityMode is an enumeration that specifies what security should be applied to messages exchanges during a Session. The possible values are described in[Table 137](/\u00A7_Ref154235244).\nTable 137- MessageSecurityMode values\nName\nValue\nDescription\nINVALID\n0\nThe MessageSecurityMode is invalid.\nThis value is the default value to avoid an accidental choice of no security is applied. This choice will always be rejected.\nNONE\n1\nNo security is applied.\nSIGN\n2\nAll messages are signed but not encrypted.\nSIGNANDENCRYPT\n3\nAll messages are signed and encrypted."
    },
    {
      "Id": "52d66ab8-5683-42fe-a2f7-935e09ae3ce1",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.21 MonitoringParameters"
    },
    {
      "Id": "4593b246-61d9-4c25-b33b-510e714e053e",
      "Header": "Document: Part 4 - Services\nSection: 7.21 MonitoringParameters\n---\n",
      "Content": "The components of this parameter are defined in[Table 138](/\u00A7_Ref103573463).\nTable 138- MonitoringParameters\nName\nType\nDescription\nMonitoringParameters\nstructure\nParameters that define the monitoring characteristics of a MonitoredItem.\nclientHandle\nIntegerId\nClient-supplied id of the MonitoredItem. This id is used in Notifications generated for the list Node. The IntegerId type is defined in[7.19](/\u00A7_Ref128930275).\nsamplingInterval\nDuration\nThe interval that defines the fastest rate at which the MonitoredItem(s) should be accessed and evaluated. This interval is defined in milliseconds.\nThe value 0 indicates that the Server should use the fastest practical rate.\nThe value -1 indicates that the default sampling interval defined by the publishing interval of the Subscription is requested. A different sampling interval is used if the publishing interval is not a supported sampling interval. Any negative number is interpreted as -1. The sampling interval is not changed if the publishing interval is changed by a subsequent call to the ModifySubscription Service.\nThe Server uses this parameter to assign the MonitoredItems to a sampling interval that it supports.\nThe assigned interval is provided in the revisedSamplingInterval parameter. The Server shall always return a revisedSamplingInterval that is equal or higher than the requested samplingInterval unless the requested samplingInterval is higher than the maximum sampling interval supported by the Server, in which case the maximum sampling interval shall be returned.\nfilter\nExtensible Parameter\nMonitoringFilter\nA filter used by the Server to determine if the MonitoredItem should generate a Notification. If not used, this parameter is null. The MonitoringFilter parameter type is an extensible parameter type specified in[7.22](/\u00A7_Ref127325541). It specifies the types of filters that can be used.\nqueueSize"
    },
    {
      "Id": "294f20a5-e914-43df-bda2-b1b8a2af0e87",
      "Header": "Document: Part 4 - Services\nSection: 7.21 MonitoringParameters\n---\n",
      "Content": "queueSize\nCounter\nThe requested size of the MonitoredItem queue.\nThe following values have special meaning for data monitored items:\nValue Meaning\n0 or 1 the Server returns the default queue size which shall be 1 as revisedQueueSize for data monitored items. The queue has a single entry, effectively disabling queuing.\nFor values larger than one a first-in-first-out queue is to be used. The Server may limit the size in revisedQueueSize. In the case of a queue overflow, the Overflow bit (flag) in the InfoBits portion of the DataValue statusCode is set in the new value.\n\nThe following values have special meaning for event monitored items:\nValue Meaning\n0 the Server returns the default queue size for Event Notifications as revisedQueueSize for event monitored items.\n1 the Server returns the minimum queue size the Server requires for Event Notifications as revisedQueueSize.\nMaxUInt32 the Server returns the maximum queue size that the Server can support for Event Notifications as revisedQueueSize.\nIf a Client chooses a value between the minimum and maximum settings of the Server the value shall be returned in the revisedQueueSize. If the requested queueSize is outside the minimum or maximum, the Server shall return the corresponding bounding value.\nIn the case of a queue overflow, an Event of the type EventQueueOverflowEventType is generated.\ndiscardOldest\nBoolean\nSpecifies the discard policy when the queue is full and a new Notification is to be queued. It has the following values:\nTRUE the oldest (first) Notification in the queue is discarded. The new Notification is added to the end of the queue.\nFALSE the last Notification added to the queue gets replaced with the new Notification."
    },
    {
      "Id": "4b8e1123-f451-46d1-aed8-598d3ff62285",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.22 MonitoringFilter parameters"
    },
    {
      "Id": "100f19e1-d7e6-429b-847d-448be02f963b",
      "Header": "Document: Part 4 - Services\nSection: 7.22 MonitoringFilter parameters\n---\n",
      "Content": "7.22.1 Overview"
    },
    {
      "Id": "0cb2cba0-1b85-4d37-bdf3-87cbecdbbc10",
      "Header": "Document: Part 4 - Services\nSection: 7.22.1 Overview\n---\n",
      "Content": "The CreateMonitoredItem Service allows specifying a filter for each MonitoredItem. The MonitoringFilter is an extensible parameter whose structure depends on the type of item being monitored. The parameterTypeIds are defined in[Table 139](/\u00A7_Ref112121377). Other types can be defined by additional parts of this multi-part specification or other specifications based on OPC UA. The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nEach MonitoringFilter may have an associated MonitoringFilterResult structure which returns revised parameters and/or error information to Clients in the response. The result structures, when they exist, are described in the section that defines the MonitoringFilter.\nTable 139- MonitoringFilter parameterTypeIds\nSymbolic Id\nDescription\nDataChangeFilter\nThe change in a data value that shall cause a Notification to be generated.\nEventFilter\nIf a Notification conforms to the EventFilter, the Notification is sent to the Client.\nAggregateFilter\nThe Aggregate and its intervals when it will be calculated and a Notification is generated."
    },
    {
      "Id": "50b5f7b9-3d0f-4fd1-8d84-a489ceaf1270",
      "Header": "Document: Part 4 - Services\nSection: 7.22 MonitoringFilter parameters\n---\n",
      "Content": "7.22.2 DataChangeFilter"
    },
    {
      "Id": "b0bf583e-c57c-48f1-9358-c778656d2196",
      "Header": "Document: Part 4 - Services\nSection: 7.22.2 DataChangeFilter\n---\n",
      "Content": "The DataChangeFilter defines the conditions under which a DataChange Notification should be reported and, optionally, a range or band for value changes where no DataChange Notification is generated. This range is called Deadband. The DataChangeFilter is defined in[Table 140](/\u00A7_Ref127327568).\nTable 140- DataChangeFilter\nName\nType\nDescription\nDataChangeFilter\nstructure\n\ntrigger\nEnum\nDataChangeTrigger\nSpecifies the conditions under which a data change notification should be reported. The DataChangeTrigger enumeration is defined in[7.10](/\u00A7_Ref43031711).\nIf the DataChangeFilter is not applied to the monitored item, STATUS_VALUE is the default reporting behaviour.\ndeadbandType\nUInt32\nA value that defines the Deadband type and behaviour.\nValue Name Description\n0 None No Deadband calculation should be applied.\n1 Absolute AbsoluteDeadband (see below)\n2 Percent PercentDeadband (This type is specified in[OPC 10000-8](/\u00A7UAPart8)).\ndeadbandValue\nDouble\nThe Deadband is applied only if* the trigger includes value changes and* the deadbandType is set appropriately.\nDeadband is ignored if the status of the data item changes.\nDeadbandType = AbsoluteDeadband\nFor this type the deadbandValue contains the absolute change in a data value that shall cause a Notification to be generated. This parameter applies only to Variables with any Number data type.\nAn exception that causes a DataChange Notification based on an AbsoluteDeadband is determined as follows:\nGenerate a Notification if (absolute value of (last cached value - current value) \u003E AbsoluteDeadband)\nThe last cached value is defined as the last value pushed to the queue."
    },
    {
      "Id": "3bec7f2d-791f-47ad-a055-adad20a4e82e",
      "Header": "Document: Part 4 - Services\nSection: 7.22.2 DataChangeFilter\n---\n",
      "Content": "If the item is an array of values, the entire array is returned if any array element exceeds the AbsoluteDeadband, or the size or dimension of the array changes.\nDeadbandType = PercentDeadband:\nThis type is specified in[OPC 10000-8](/\u00A7UAPart8)\n\nThe DataChangeFilter does not have an associated result structure."
    },
    {
      "Id": "060dc43c-21d4-4dfd-8e69-4778d86d132b",
      "Header": "Document: Part 4 - Services\nSection: 7.22 MonitoringFilter parameters\n---\n",
      "Content": "7.22.3 EventFilter"
    },
    {
      "Id": "3693a0f9-735d-4deb-8a54-8d38cb7157e1",
      "Header": "Document: Part 4 - Services\nSection: 7.22.3 EventFilter\n---\n",
      "Content": "The EventFilter provides for the filtering and content selection of Event Subscriptions.\nIf an Event Notification conforms to the filter defined by the where parameter of the EventFilter, then the Notification is sent to the Client.\nEach Event Notification shall include the fields defined by the selectClauses parameter of the EventFilter. The defined EventTypes are specified in[OPC 10000-5](/\u00A7UAPart5).\nThe selectClauses and whereClause parameters are specified with the SimpleAttributeOperand structure (see[7.7.4.5](/\u00A7_Ref189225639)). This structure requires the NodeId of an EventType supported by the Server and a path to an InstanceDeclaration. An InstanceDeclaration is a Node which can be found by following forward hierarchical references from the fully inherited EventType where the Node is also the source of a HasModellingRule reference. EventTypes, InstanceDeclarations and Modelling Rules are described completely in[OPC 10000-3](/\u00A7UAPart3).\nIn some cases the same SimpleAttributeOperand. browsePath will apply to multiple EventTypes. If the Client specifies the BaseEventType in the SimpleAttributeOperand.typeDefinitionId then the Server shall evaluate the SimpleAttributeOperand.browsePath without considering the SimpleAttributeOperand.typeDefinitionId.\nEach InstanceDeclaration in the path shall be Object or Variable Node. The final Node in the path may be an Object Node; however, Object Nodes are only available for Events which are visible in the Server\u0027s AddressSpace.\nThe SimpleAttributeOperand structure allows the Client to specify any Attribute; however, the Server is only required to support the Value Attribute for Variable Nodes and the NodeId Attribute for Object Nodes. That said, profiles defined in[OPC 10000-7](/\u00A7UAPart7) may make support for additional Attributes"
    },
    {
      "Id": "3016a22c-6a1b-4fcd-b21d-fc578f79ee34",
      "Header": "Document: Part 4 - Services\nSection: 7.22.3 EventFilter\n---\n",
      "Content": "Attributes mandatory.\nThe SimpleAttributeOperand structure is used in the selectClauses to select the value to return if an Event meets the criteria specified by the whereClause. A null value is returned in the corresponding event field in the Publish response if the selected field is not part of the Event or an error was returned in the selectClauseResults of the EventFilterResult. If the selected field is supported but not available at the time of the event notification, the event field shall contain a StatusCode that indicates the reason for the unavailability. For example, the Server shall set the event field to Bad_UserAccessDenied if the value is not accessible to the user associated with the Session. If a Value Attribute has an uncertain or bad StatusCode associated with it then the Server shall provide the StatusCode instead of the Value Attribute. The Server shall set the event field to Bad_EncodingLimitsExceeded if a value exceeds the maxResponseMessageSize. The EventId, EventType and ReceiveTime cannot contain a StatusCode or a null value.\nThe Server shall validate the selectClauses when a Client creates or updates the EventFilter. Any errors which are true for all possible Events are returned in the selectClauseResults parameter described in[Table 142](/\u00A7_Ref163490072). Some Servers, like aggregating Servers, may not know all possible EventTypes at the time the EventFilter is set. These Servers do not return errors for unknown EventTypes or BrowsePaths. The Server shall not report errors that might occur depending on the state or the Server or type of Event. For example, a selectClauses that requests a single element in an array would always produce an error if the DataType of the Attribute is a scalar. However, even if the DataType is an array an error could occur if the requested index does not exist for a particular Event, the Server would not report an error in the"
    },
    {
      "Id": "9ee67556-9e7b-45a8-aff8-d18b771a054d",
      "Header": "Document: Part 4 - Services\nSection: 7.22.3 EventFilter\n---\n",
      "Content": "selectClauseResults parameter if the latter situation existed.\nThe SimpleAttributeOperand is used in the whereClause to select a value which forms part of a logical expression. These logical expressions are then used to determine whether a particular Event should be reported to the Client. The Server shall use a null value if any error occurs when a whereClause is evaluated for a particular Event. If a Value Attribute has an uncertain or bad StatusCode associated with it, then the Server shall use a null value instead of the Value.\nAny basic FilterOperator in[Table 116](/\u00A7_Ref127328167) may be used in the whereClause, however, only the OfType FilterOperator from[Table 117](/\u00A7_Ref165186340) is permitted.\nThe Server shall validate the whereClause when a Client creates or updates the EventFilter. Any structural errors in the construction of the filter and any errors which are true for all possible Events are returned in the whereClauseResult parameter described in[Table 142](/\u00A7_Ref163490072). Errors that could occur depending on the state of the Server or the Event are not reported. Some Servers, like aggregating Servers, may not know all possible EventTypes at the time the EventFilter is set. These Servers do not return errors for unknown EventTypes or BrowsePaths.\nEventQueueOverflowEventType Events are special Events which are used to provide control information to the Client. These Events are only published to the MonitoredItems in the Subscription that produced the EventQueueOverflowEventType Event. These Events bypass the whereClause.\n[Table 141](/\u00A7_Ref132018690) defines the EventFilter structure.\nTable 141- EventFilter structure\nName\nType\nDescription\nEventFilter\nstructure\n\nselectClauses []\nSimpleAttribute\nOperand\nList of the values to return with each Event in a"
    },
    {
      "Id": "3407950b-ea3a-4dc1-848c-0aad2bdb4c38",
      "Header": "Document: Part 4 - Services\nSection: 7.22.3 EventFilter\n---\n",
      "Content": "Event in a Notification. At least one valid clause shall be specified. See[7.7.4.5](/\u00A7_Ref189225639) for the definition of SimpleAttributeOperand.\nwhereClause\nContentFilter\nLimit the Notifications to those Events that match the criteria defined by this ContentFilter. The ContentFilter structure is described in[7.7](/\u00A7_Ref132019059).\nThe AttributeOperand structure may not be used in an EventFilter.\n\n[Table 142](/\u00A7_Ref163490072) defines the EventFilterResult structure. This is the MonitoringFilterResult associated with the EventFilter MonitoringFilter.\nTable 142- EventFilterResult structure\nName\nType\nDescription\nEventFilterResult\nstructure\n\nselectClauseResults []\nStatusCode\nList of status codes for the elements in the select clause. The size and order of the list matches the size and order of the elements in the selectClauses request parameter. The Server returns null for unavailable or rejected Event fields.\nselectClauseDiagnosticInfos []\nDiagnosticInfo\nA list of diagnostic information for individual elements in the select clause. The size and order of the list matches the size and order of the elements in the selectClauses request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the select clauses.\nwhereClauseResult\nContentFilter\nResult\nAny results associated with the whereClause request parameter.\nThe ContentFilterResult type is defined in[7.7.2](/\u00A7_Ref180477312).\n\n[Table 143](/\u00A7_Ref189310724) defines values for the selectClauseResults parameter. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable 143"
    },
    {
      "Id": "cacebcd1-0570-466c-bb06-7da0d0f7ec9e",
      "Header": "Document: Part 4 - Services\nSection: 7.22.3 EventFilter\n---\n",
      "Content": ".\nTable 143- EventFilterResult Result Codes\nSymbolic Id\nDescription\nBad_TypeDefinitionInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe typeId is not the NodeId for BaseEventType or a subtype of it.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe browsePath is specified but it will never exist in any Event.\nBad_BrowseNameInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe browsePath is specified and contains a null element.\nBad_AttributeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe node specified by the browse path will never allow the given AttributeId to be returned.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_TypeMismatch\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nThe indexRange is valid but the value of the Attribute is never an array."
    },
    {
      "Id": "6d1a1230-e6e0-47c9-8a7d-9a80b787f6d6",
      "Header": "Document: Part 4 - Services\nSection: 7.22 MonitoringFilter parameters\n---\n",
      "Content": "7.22.4 AggregateFilter"
    },
    {
      "Id": "d8e7fec9-8cee-4597-9db8-c594968cbc99",
      "Header": "Document: Part 4 - Services\nSection: 7.22.4 AggregateFilter\n---\n",
      "Content": "The AggregateFilter defines the Aggregate function that should be used to calculate the values to be returned. See[OPC 10000-13](/\u00A7UaPart13) for details on possible Aggregate functions. It specifies a startTime of the first Aggregate to be calculated. The samplingInterval of the MonitoringParameters(see[7.21](/\u00A7_Ref161114771)) defines how the Server should internally sample the underlying data source. The processingInterval specifies the size of a time-period where the Aggregate is calculated. The queueSize from the MonitoringAttributes specifies the number of processed values that should be kept.\nThe intention of the AggregateFilter is not to read historical data, the HistoryRead service should be used for this purpose. However, it is allowed that the startTime is set to a time that is in the past when received from the Server. The number of Aggregates to be calculated in the past should not exceed the queueSize defined in the MonitoringAttributes since the values exceeding the queueSize would directly be discharged and never returned to the Client.\nThe startTime and the processingInterval can be revised by the Server, but the startTime should remain in the same boundary (startTime \u002B revisedProcessingInterval * n = revisedStartTime). That behaviour simplifies accessing historical values of the Aggregates using the same boundaries by calling the HistoryRead service. The extensible Parameter AggregateFilterResult is used to return the revised values for the AggregateFilter.\nSome underlying systems may poll data and produce multiple samples with the same value. Other systems may only report changes to the values. The definition for each Aggregate type explains how to handle the two different scenarios.\nThe MonitoredItem only reports values for intervals that have completed when the publish timer expires. Unused data is carried over and used to calculate a value returned in the next publish.\nThe ServerTimestamp"
    },
    {
      "Id": "cb8cc903-7eba-44f1-b370-7245ea16eed1",
      "Header": "Document: Part 4 - Services\nSection: 7.22.4 AggregateFilter\n---\n",
      "Content": "The ServerTimestamp for each interval shall be the time of the end of the processing interval.\nThe AggregateFilter is defined in[Table 144](/\u00A7_Ref165187582).\nTable 144- AggregateFilter structure\nName\nType\nDescription\nAggregateFilter\nstructure\n\nstartTime\nUtcTime\nBeginning of period to calculate the Aggregate the first time. The size of each period used to calculate the Aggregate is defined by the samplingInterval of the MonitoringParameters(see[7.21](/\u00A7_Ref161114771)).\naggregateType\nNodeId\nThe NodeId of the AggregateFunctionType Object that indicates the Aggregate to be used when retrieving processed data. See[OPC 10000-13](/\u00A7UaPart13) for details.\nprocessingInterval\nDuration\nThe period be used to compute the Aggregate.\naggregateConfiguration\nAggregate\nConfiguration\nThis parameter allows Clients to override the Aggregate configuration settings supplied by the AggregateConfiguration Object on a per monitored item basis. See[OPC 10000-13](/\u00A7UaPart13) for more information on Aggregate configurations. If the Server does not support the ability to override the Aggregate configuration settings it shall return a StatusCode of Bad_AggregateListMismatch. This structure is defined in-line with the following indented items.\nuseServerCapabilities\nDefaults\nBoolean\nIf value = TRUE use Aggregate configuration settings as outlined by the AggregateConfiguration object.\nIf value=FALSE use configuration settings as outlined in the following aggregateConfiguration parameters.\nDefault is TRUE.\ntreatUncertainAsBad\nBoolean\nAs described in[OPC 10000-13](/\u00A7UaPart13).\npercentDataBad\nByte\nAs described in[OPC 10000-13](/\u00A7UaPart13).\npercentDataGood\nByte"
    },
    {
      "Id": "d2af93d5-eda6-47e1-ae4e-57bd0791ba10",
      "Header": "Document: Part 4 - Services\nSection: 7.22.4 AggregateFilter\n---\n",
      "Content": "percentDataGood\nByte\nAs described in[OPC 10000-13](/\u00A7UaPart13).\nuseSloped\nExtrapolation\nBoolean\nAs described in[OPC 10000-13](/\u00A7UaPart13).\n\nThe AggregateFilterResult defines the revised AggregateFilter the Server can return when an AggregateFilter is defined for a MonitoredItem in the CreateMonitoredItems or ModifyMonitoredItems Services. The AggregateFilterResult is defined in[Table 145](/\u00A7_Ref165187583). This is the MonitoringFilterResult associated with the AggregateFilter MonitoringFilter.\nTable 145- AggregateFilterResult structure\nName\nType\nDescription\nAggregateFilterResult\nstructure\n\nrevisedStartTime\nUtcTime\nThe actual StartTime interval that the Server shall use.\nThis value is based on a number of factors, including capabilities of the Server to access historical data. The revisedStartTime should remain in the same boundary as the startTime (startTime \u002B samplingInterval * n = revisedStartTime).\nrevisedProcessingInterval\nDuration\nThe actual processingInterval that the Server shall use.\n\nThe revisedProcessingInterval shall be at least twice the revisedSamplingInterval for the MonitoredItem.\nrevisedAggregateConfiguration\nAggregate\nConfiguration\nThe actual aggregateConfiguration that the Server shall use.\nThe structure is defined in[Table 144](/\u00A7_Ref165187582)."
    },
    {
      "Id": "b05c322c-c20b-447d-b375-1e6831938cf2",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.23 MonitoringMode"
    },
    {
      "Id": "d59f0d7d-209b-4200-9901-42d565f452ea",
      "Header": "Document: Part 4 - Services\nSection: 7.23 MonitoringMode\n---\n",
      "Content": "The MonitoringMode is an enumeration that specifies whether sampling and reporting are enabled or disabled for a MonitoredItem. The value of the publishing enabled parameter for a Subscription does not affect the value of the monitoring mode for a MonitoredItem of the Subscription. The values of this parameter are defined in[Table 146](/\u00A7_Ref104716199).\nTable 146- MonitoringMode values\nName\nValue\nDescription\nDISABLED\n0\nThe item being monitored is not sampled or evaluated, and Notifications are not generated or queued. Notification reporting is disabled.\nSAMPLING\n1\nThe item being monitored is sampled and evaluated, and Notifications are generated and queued. Notification reporting is disabled.\nREPORTING\n2\nThe item being monitored is sampled and evaluated, and Notifications are generated and queued. Notification reporting is enabled."
    },
    {
      "Id": "0c67402c-0fbd-4330-bc16-d721234ea656",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.24 NodeAttributes parameters"
    },
    {
      "Id": "5e994371-0019-43a9-98cf-777597e15bb4",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.1 Overview"
    },
    {
      "Id": "0edba913-091e-4c8e-be0f-0b43db5ab25e",
      "Header": "Document: Part 4 - Services\nSection: 7.24.1 Overview\n---\n",
      "Content": "The AddNodes Service allows specifying the Attributes for the Nodes to add. The NodeAttributes is an extensible parameter whose structure depends on the type of the NodeClass being added. It identifies the NodeClass that defines the structure of the Attributes that follow. The parameterTypeIds are defined in[Table 147](/\u00A7_Ref130144036). The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nTable 147- NodeAttributes parameterTypeIds\nSymbolic Id\nDescription\nObjectAttributes\nDefines the Attributes for the Object NodeClass.\nVariableAttributes\nDefines the Attributes for the Variable NodeClass.\nMethodAttributes\nDefines the Attributes for the Method NodeClass.\nObjectTypeAttributes\nDefines the Attributes for the ObjectType NodeClass.\nVariableTypeAttributes\nDefines the Attributes for the VariableType NodeClass.\nReferenceTypeAttributes\nDefines the Attributes for the ReferenceType NodeClass.\nDataTypeAttributes\nDefines the Attributes for the DataType NodeClass.\nViewAttributes\nDefines the Attributes for the View NodeClass.\nGenericAttributes\nDefines an id and value list for passing in any number of Attribute values. It should be used instead of the NodeClass specific structures since it allows the handling of additional Attributes defined in future specification versions.\n\n[Table 148](/\u00A7_Ref176330917) defines the bit mask used in the NodeAttributes parameters to specify which Attributes are set by the Client.\nTable 148- Bit mask for specified Attributes\nField\nBit\nDescription\nAccessLevel\n0\nIndicates if the AccessLevel Attribute is set.\nArrayDimensions\n1\nIndicates if the ArrayDimensions Attribute is set.\nReserved\n2\nReserved to be consistent with WriteMask defined in[OPC 10000-3](/\u00A7UAPart3).\nContainsNoLoops\n3"
    },
    {
      "Id": "2dd2390b-47f8-443e-bbbf-d8521c8472dc",
      "Header": "Document: Part 4 - Services\nSection: 7.24.1 Overview\n---\n",
      "Content": "3\nIndicates if the ContainsNoLoops Attribute is set.\nDataType\n4\nIndicates if the DataType Attribute is set.\nDescription\n5\nIndicates if the Description Attribute is set.\nDisplayName\n6\nIndicates if the DisplayName Attribute is set.\nEventNotifier\n7\nIndicates if the EventNotifier Attribute is set.\nExecutable\n8\nIndicates if the Executable Attribute is set.\nHistorizing\n9\nIndicates if the Historizing Attribute is set.\nInverseName\n10\nIndicates if the InverseName Attribute is set.\nIsAbstract\n11\nIndicates if the IsAbstract Attribute is set.\nMinimumSamplingInterval\n12\nIndicates if the MinimumSamplingInterval Attribute is set.\nReserved\n13\nReserved to be consistent with WriteMask defined in[OPC 10000-3](/\u00A7UAPart3).\nReserved\n14\nReserved to be consistent with WriteMask defined in[OPC 10000-3](/\u00A7UAPart3).\nSymmetric\n15\nIndicates if the Symmetric Attribute is set.\nUserAccessLevel\n16\nIndicates if the UserAccessLevel Attribute is set.\nUserExecutable\n17\nIndicates if the UserExecutable Attribute is set.\nUserWriteMask\n18\nIndicates if the UserWriteMask Attribute is set.\nValueRank\n19\nIndicates if the ValueRank Attribute is set.\nWriteMask\n20\nIndicates if the WriteMask Attribute is set.\nValue\n21\nIndicates if the Value Attribute is set.\nReserved\n22:32\nReserved for future use. Shall always be zero."
    },
    {
      "Id": "615e55f3-1b46-4c34-b1cf-5d086002f347",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.2 ObjectAttributes parameter"
    },
    {
      "Id": "fbaf8411-f6b4-4065-9bd8-df416e369ac6",
      "Header": "Document: Part 4 - Services\nSection: 7.24.2 ObjectAttributes parameter\n---\n",
      "Content": "[Table 149](/\u00A7_Ref114548391) defines the ObjectAttributes parameter.\nTable 149- ObjectAttributes\nName\nType\nDescription\nObjectAttributes\nstructure\nDefines the Attributes for the Object NodeClass.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\neventNotifier\nByte\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "497803a2-7881-4ccf-9eec-02cbbde2a825",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.3 VariableAttributes parameter"
    },
    {
      "Id": "29778006-ccba-4853-bdf5-2db724fc9f7b",
      "Header": "Document: Part 4 - Services\nSection: 7.24.3 VariableAttributes parameter\n---\n",
      "Content": "[Table 150](/\u00A7_Ref134963183) defines the VariableAttributes parameter.\nTable 150- VariableAttributes\nName\nType\nDescription\nVariableAttributes\nstructure\nDefines the Attributes for the Variable NodeClass\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nvalue\nBaseDataType\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndataType\nNodeId\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nvalueRank\nInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\narrayDimensions\nUInt32 []\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\naccessLevel\nByte\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserAccessLevel"
    },
    {
      "Id": "91355bd1-eb92-47d0-b5e6-0a330bd02c44",
      "Header": "Document: Part 4 - Services\nSection: 7.24.3 VariableAttributes parameter\n---\n",
      "Content": ".\nuserAccessLevel\nByte\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nminimumSamplingInterval\nDuration\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nhistorizing\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "0ce7a42b-bbde-4a2b-ad43-61fae76cab38",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.4 MethodAttributes parameter"
    },
    {
      "Id": "30f9039a-0451-4009-970a-e32c7319a422",
      "Header": "Document: Part 4 - Services\nSection: 7.24.4 MethodAttributes parameter\n---\n",
      "Content": "[Table 151](/\u00A7_Ref134963184) defines the MethodAttributes parameter.\nTable 151- MethodAttributes\nName\nType\nDescription\nMethodAttributes\nstructure\nDefines the Attributes for the Method NodeClass\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nexecutable\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserExecutable\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "f5620b4b-30ba-4186-8f7f-c310fc169223",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.5 ObjectTypeAttributes parameter"
    },
    {
      "Id": "5c67a958-1d07-4b0c-899f-42bb9441dfcc",
      "Header": "Document: Part 4 - Services\nSection: 7.24.5 ObjectTypeAttributes parameter\n---\n",
      "Content": "[Table 152](/\u00A7_Ref134963185) defines the ObjectTypeAttributes parameter.\nTable 152- ObjectTypeAttributes\nName\nType\nDescription\nObjectTypeAttributes\nstructure\nDefines the Attributes for the ObjectType NodeClass.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nisAbstract\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "66b8f18e-3e74-4a22-91aa-f7d36b08c521",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.6 VariableTypeAttributes parameter"
    },
    {
      "Id": "74e2267e-c2a5-4e2c-8fe8-60fafa3ed621",
      "Header": "Document: Part 4 - Services\nSection: 7.24.6 VariableTypeAttributes parameter\n---\n",
      "Content": "[Table 153](/\u00A7_Ref134963186) defines the VariableTypeAttributes parameter.\nTable 153- VariableTypeAttributes\nName\nType\nDescription\nVariableTypeAttributes\nstructure\nDefines the Attributes for the VariableType NodeClass\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nvalue\nBaseDataType\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndataType\nNodeId\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nvalueRank\nInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\narrayDimensions\nUInt32 []\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nisAbstract\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute"
    },
    {
      "Id": "5319eb03-6d51-4699-953c-ef1c4c64125a",
      "Header": "Document: Part 4 - Services\nSection: 7.24.6 VariableTypeAttributes parameter\n---\n",
      "Content": "Attribute."
    },
    {
      "Id": "eca1d8fd-583b-4275-84fc-5474aaa47cff",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.7 ReferenceTypeAttributes parameter"
    },
    {
      "Id": "f0e5b1e2-4992-4176-8950-02eae4b82a9b",
      "Header": "Document: Part 4 - Services\nSection: 7.24.7 ReferenceTypeAttributes parameter\n---\n",
      "Content": "[Table 154](/\u00A7_Ref134963187) defines the ReferenceTypeAttributes parameter.\nTable 154- ReferenceTypeAttributes\nName\nType\nDescription\nReferenceTypeAttributes\nstructure\nDefines the Attributes for the ReferenceType NodeClass.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nisAbstract\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nsymmetric\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ninverseName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "af690129-e8c7-4ad1-9606-5d05eeac059c",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.8 DataTypeAttributes parameter"
    },
    {
      "Id": "17480b5f-b473-413e-988c-9b63cbc57abd",
      "Header": "Document: Part 4 - Services\nSection: 7.24.8 DataTypeAttributes parameter\n---\n",
      "Content": "[Table 155](/\u00A7_Ref182068196) defines the DataTypeAttributes parameter.\nTable 155- DataTypeAttributes\nName\nType\nDescription\nDataTypeAttributes\nstructure\nDefines the Attributes for the DataType NodeClass.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nisAbstract\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "0ca2aabe-4e16-4bbc-8b17-5fe8d2c59521",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.9 ViewAttributes parameter"
    },
    {
      "Id": "128b438a-3d06-45b9-bf0b-d05a79a52b74",
      "Header": "Document: Part 4 - Services\nSection: 7.24.9 ViewAttributes parameter\n---\n",
      "Content": "[Table 156](/\u00A7_Ref134963189) defines the ViewAttributes parameter.\nTable 156- ViewAttributes\nName\nType\nDescription\nViewAttributes\nstructure\nDefines the Attributes for the View NodeClass.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ncontainsNoLoops\nBoolean\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\neventNotifier\nByte\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute."
    },
    {
      "Id": "a6cb2dc1-ad53-4422-a3c8-e19b976e52af",
      "Header": "Document: Part 4 - Services\nSection: 7.24 NodeAttributes parameters\n---\n",
      "Content": "7.24.10 GenericAttributes parameter"
    },
    {
      "Id": "bfe2abb7-70db-4011-85b4-44bac565ea18",
      "Header": "Document: Part 4 - Services\nSection: 7.24.10 GenericAttributes parameter\n---\n",
      "Content": "This structure should be used instead of the NodeClass specific structures defined in the other sub sections of[7.24](/\u00A7_Ref130144342) since it allows the handling of additional Attributes defined in future specification versions.\n[Table 157](/\u00A7_Ref471384282) defines the GenericAttributes parameter.\nTable 157- GenericAttributes\nName\nType\nDescription\nGenericAttributes\nstructure\nDefines a generic structure for passing in any number of Attributes.\nspecifiedAttributes\nUInt32\nA bit mask that indicates which fields contain valid values.\nA field shall be ignored if the corresponding bit is set to 0.\nThe bit values are defined in[Table 148](/\u00A7_Ref176330917).\ndisplayName\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\ndescription\nLocalizedText\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nwriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nuserWriteMask\nUInt32\nSee[OPC 10000-3](/\u00A7UAPart3) for the description of this Attribute.\nattributeValues\nGenericAttributeValue []\nDefines one attributeId and value combination.\nattributeId\nIntegerId\nId of the Attribute specified. AttributeIds shall be unique in the list and shall not repeat the common Attributes in the structure.\nvalue\nBaseDataType\nValue of the Attribute specified."
    },
    {
      "Id": "45f26547-f795-411c-acad-9c1324f6e80e",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.25 NotificationData parameters"
    },
    {
      "Id": "675aacb8-2d28-460f-803d-766f1c1d6fc8",
      "Header": "Document: Part 4 - Services\nSection: 7.25 NotificationData parameters\n---\n",
      "Content": "7.25.1 Overview"
    },
    {
      "Id": "aee7a14a-d39c-44e3-aeef-c3d727c57bef",
      "Header": "Document: Part 4 - Services\nSection: 7.25.1 Overview\n---\n",
      "Content": "The NotificationMessage structure used in the Subscription Service set allows specifying different types of NotificationData. The NotificationData parameter is an extensible parameter whose structure depends on the type of Notification being sent. This parameter is defined in[Table 158](/\u00A7_Ref127332779). Other types can be defined by additional parts of OPC 10000 or other specifications based on OPC UA. The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nThere may be multiple notifications for a single MonitoredItem in a single NotificationData structure. When that happens the Server shall ensure the notifications appear in the same order that they were queued in the MonitoredItem. These notifications do not need to appear as a contiguous block.\nTable 158- NotificationData parameterTypeIds\nSymbolic Id\nDescription\nDataChange\nNotification data parameter used for data change Notifications.\nEvent\nNotification data parameter used for Event Notifications.\nStatusChange\nNotification data parameter used for Subscription status change Notifications."
    },
    {
      "Id": "cc9e5946-da16-40f0-9b45-511072bb931f",
      "Header": "Document: Part 4 - Services\nSection: 7.25 NotificationData parameters\n---\n",
      "Content": "7.25.2 DataChangeNotification parameter"
    },
    {
      "Id": "34965408-e5ea-4273-b6d2-6d46f9e291a1",
      "Header": "Document: Part 4 - Services\nSection: 7.25.2 DataChangeNotification parameter\n---\n",
      "Content": "[Table 159](/\u00A7_Ref127333978) defines the NotificationData parameter used for data change notifications. This structure contains the monitored data items that are to be reported. Monitored data items are reported under two conditions:\nif the MonitoringMode is set to REPORTING and a change in value or its status (represented by its StatusCode) is detected;\nif the MonitoringMode is set to SAMPLING, the MonitoredItem is linked to a triggering item and the triggering item triggers.\nSee[5.13](/\u00A7_Ref127334094) for a description of the MonitoredItem Service set, and in particular the MonitoredItem model and the Triggering model.\nAfter creating a MonitoredItem, the current value or status of the monitored Attribute shall be queued without applying the filter. If the current value is not available after the first sampling interval the first Notification shall be queued after getting the initial value or status from the data source.\nTable 159- DataChangeNotification\nName\nType\nDescription\nDataChangeNotification\nstructure\nData change Notification data.\nmonitoredItems []\nMonitoredItem Notification\nThe list of MonitoredItems for which a change has been detected. This structure is defined in-line with the following indented items.\nclientHandle\nIntegerId\nClient-supplied handle for the MonitoredItem. The IntegerId type is defined in[7.19](/\u00A7_Ref128931107)\nValue\nDataValue\nThe StatusCode, value and timestamp(s) of the monitored Attribute depending on the sampling and queuing configuration.\nIf the StatusCode indicates an error then the value is to be ignored.\nIf not every detected change has been returned since the Server\u0027s queue buffer for the MonitoredItem"
    },
    {
      "Id": "a4043639-bff6-4a3c-a928-71528a6f46ef",
      "Header": "Document: Part 4 - Services\nSection: 7.25.2 DataChangeNotification parameter\n---\n",
      "Content": "MonitoredItem reached its limit and had to purge out data and the size of the queue is larger than one, the Overflow bit in the DataValue InfoBits of the statusCode is set.\nDataValue is a common type defined in[7.11](/\u00A7_Ref127334314).\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information. The size and order of this list matches the size and order of the monitoredItems parameter. There is one entry in this list for each Node contained in the monitoredItems parameter. This list is empty if diagnostics information was not requested or is not available for any of the MonitoredItems. DiagnosticInfo is a common type defined in[7.12](/\u00A7_Ref127334266)."
    },
    {
      "Id": "6263de25-d246-4970-af81-b4e0d9683a8a",
      "Header": "Document: Part 4 - Services\nSection: 7.25 NotificationData parameters\n---\n",
      "Content": "7.25.3 EventNotificationList parameter"
    },
    {
      "Id": "3d18e888-2e8b-4e0f-b758-eb4534846815",
      "Header": "Document: Part 4 - Services\nSection: 7.25.3 EventNotificationList parameter\n---\n",
      "Content": "[Table 160](/\u00A7_Ref126656867) defines the NotificationData parameter used for Event notifications.\nThe EventNotificationList defines a table structure that is used to return Event fields to a Client Subscription. The structure is in the form of a table consisting of one or more Events, each containing an array of one or more fields. The selection and order of the fields returned for each Event is identical to the selected parameter of the EventFilter.\nTable 160- EventNotificationList\nName\nType\nDescription\nEventNotificationList\nstructure\nEvent Notification data.\nevents []\nEventFieldList\nThe list of Events being delivered. This structure is defined in-line with the following indented items.\nclientHandle\nIntegerId\nClient-supplied handle for the MonitoredItem. The IntegerId type is defined in[7.19](/\u00A7_Ref128931107).\neventFields []\nBaseDataType\nList of selected Event fields. This shall be a one to one match with the fields selected in the EventFilter.\n[7.22.3](/\u00A7_Ref129512350) specifies how the Server shall deal with error conditions."
    },
    {
      "Id": "c278997e-f247-4817-b787-56ec03fbf3e3",
      "Header": "Document: Part 4 - Services\nSection: 7.25 NotificationData parameters\n---\n",
      "Content": "7.25.4 StatusChangeNotification parameter"
    },
    {
      "Id": "fa7bb5fb-42eb-4386-bdb4-a7a1a22a6b64",
      "Header": "Document: Part 4 - Services\nSection: 7.25.4 StatusChangeNotification parameter\n---\n",
      "Content": "[Table 161](/\u00A7_Ref165197101) defines the NotificationData parameter used for a StatusChangeNotification.\nThe StatusChangeNotification informs the Client about a change in the status of a Subscription.\nTable 161- StatusChangeNotification\nName\nType\nDescription\nStatusChangeNotification\nstructure\nEvent Notification data\nstatus\nStatusCode\nThe StatusCode that indicates the status change.\ndiagnosticInfo\nDiagnosticInfo\nDiagnostic information for the status change"
    },
    {
      "Id": "a938eae8-1736-47d9-88a2-496c67132611",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.26 NotificationMessage"
    },
    {
      "Id": "327d35f6-0012-475f-b320-cb508e402403",
      "Header": "Document: Part 4 - Services\nSection: 7.26 NotificationMessage\n---\n",
      "Content": "The components of this parameter are defined in[Table 162](/\u00A7_Ref78952255).\nTable 162- NotificationMessage\nName\nType\nDescription\nNotificationMessage\nstructure\nThe Message that contains one or more Notifications.\nsequenceNumber\nCounter\nThe sequence number of the NotificationMessage.\npublishTime\nUtcTime\nThe time that this Message was sent to the Client. If this Message is retransmitted to the Client, this parameter contains the time it was first transmitted to the Client.\nnotificationData []\nExtensible Parameter\nNotificationData\nThe list of NotificationData structures.\nThe NotificationData parameter type is an extensible parameter type specified in[7.25](/\u00A7_Ref127333461). It specifies the types of Notifications that can be sent. The ExtensibleParameter type is specified in[7.17](/\u00A7_Ref182070092).\nNotifications of the same type should be grouped into one NotificationData element. If a Subscription contains MonitoredItems for events and data, this array should have not more than 2 elements. If the Subscription contains MonitoredItems only for data or only for events, the array size should always be one for this Subscription."
    },
    {
      "Id": "0d9a5e9e-7617-43d2-9422-a33be236174a",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.27 NumericRange"
    },
    {
      "Id": "173ab4f3-aca1-4d3c-a6a0-aafc84c2981e",
      "Header": "Document: Part 4 - Services\nSection: 7.27 NumericRange\n---\n",
      "Content": "This parameter is defined in[Table 163](/\u00A7_Ref111608672). A formal BNF definition of the numeric range can be found in Clause A.3. Examples for the use of the parameter are shown in[Table 164](/\u00A7_Ref209703336).\nTable 163- NumericRange\nName\nType\nDescription\nNumericRange\nString\nA number or a numeric range.\nA null or empty string indicates that this parameter is not used.\n\nThe syntax for the string contains one of the following two constructs. The first construct is the string representation of an individual integer. For example, \u00226\u0022 is valid, but \u00226,0\u0022 and \u00223,2\u0022 are not. The minimum and maximum values that can be expressed are defined by the use of this parameter and not by this parameter type definition. The second construct is a range represented by two integers separated by the colon (\u0022:\u0022) character. The first integer shall always have a lower value than the second. For example, \u00225:7\u0022 is valid, while \u00227:5\u0022 and \u00225:5\u0022 are not. The minimum and maximum values that can be expressed by these integers are defined by the use of this parameter, and not by this parameter type definition. No other characters, including white-space characters, are permitted.\nMulti-dimensional arrays can be indexed by specifying a range for each dimension separated by a \u0027,\u0027. For example, a 2x2 block in a 4x4 matrix could be selected with the range \u00221:2,0:1\u0022. A single element in a multi-dimensional array can be selected by specifying a single number instead of a range. For example, \u00221,1\u0022 selects the [1,1] element in a two dimensional array.\nDimensions are specified in the order that they appear in the ArrayDimensions Attribute"
    },
    {
      "Id": "4b332b7f-4311-4613-9365-ba7c892e0897",
      "Header": "Document: Part 4 - Services\nSection: 7.27 NumericRange\n---\n",
      "Content": "ArrayDimensions Attribute. All dimensions shall be specified for a NumericRange to be valid.\nAll indexes start with 0. The maximum value for any index is one less than the length of the dimension.\nWhen reading a value and any of the lower bounds of the indexes is out of range the Server shall return a Bad_IndexRangeNoData. If any of the upper bounds of the indexes is out of range, the Server shall return partial results. For arrays of the ByteStrings and Strings find more details in the paragraphs below.\nBad_IndexRangeInvalid is only used for invalid syntax of the NumericRange. All other invalid requests with a valid syntax shall result in Bad_IndexRangeNoData.\nWhen writing a value, the size of the array shall match the size specified by the NumericRange. The Server shall return an error if it cannot write all elements specified by the Client.\nThe NumericRange can also be used to specify substrings for ByteString and String values. Arrays of ByteString and String values are treated as two dimensional arrays where the final index specifies the substring range within the ByteString or String value. The entire ByteString or String value is selected if the final index is omitted. If the last element of the specified IndexRange refers to a substring, the Server shall return partial results accordingly. For any element in the array where the lower and upper bound of the specified IndexRange for the substring are out of bounds, the Server shall return a null or empty value.\nTable 164- NumericRange examples\nValue\nNumericRange\nResult\n[ 2, 33, 12, 0, 99 ]\n0:2\n[ 2, 33, 12 ]\n[ 2, 33, 12, 0, 99 ]\n3:7\n[ 0, 99 ]"
    },
    {
      "Id": "00771645-e343-4e81-acde-c0d299d14605",
      "Header": "Document: Part 4 - Services\nSection: 7.27 NumericRange\n---\n",
      "Content": "[ 2, 33, 12, 0, 99 ]\n7:9\nBad_IndexRangeNoData\n[ \u0022TestString\u0022, \u0022Test\u0022, \u0022String\u0022 ]\n0:1,7:9\n[ \u0022ing\u0022, [Null String] ]\n[ \u0022TestString\u0022, \u0022Test\u0022, \u0022String\u0022 ]\n0:1,10:15\nBad_IndexRangeNoData"
    },
    {
      "Id": "1e676091-2296-482b-b9cd-bc4ef7738d7e",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.28 ReadValueId"
    },
    {
      "Id": "41984174-76b0-4658-bd78-f4874e09d717",
      "Header": "Document: Part 4 - Services\nSection: 7.28 ReadValueId\n---\n",
      "Content": "The components of this parameter are defined in[Table 165](/\u00A7_Ref104699528).\nTable 165- ReadValueId\nName\nType\nDescription\nReadValueId\nstructure\nIdentifier for an item to read or to monitor.\nnodeId\nNodeId\nNodeId of a Node.\nattributeId\nIntegerId\nId of the Attribute. This shall be a valid Attribute id. The IntegerId is defined in[7.19](/\u00A7_Ref128929614). The IntegerIds for the Attributes are defined in[OPC 10000-6](/\u00A7UAPart6).\nindexRange\nNumericRange\nThis parameter is used to identify a single element of an array, or a single range of indexes for arrays. The array in this context includes String and ByteString. If a range of elements is specified, the values are returned as a composite. The first element is identified by index 0 (zero). The NumericRange type is defined in[7.27](/\u00A7_Ref129174867).\nThis parameter is null or empty if the specified Attribute is not an array. However, if the specified Attribute is an array, and this parameter is null or empty, then all elements are to be included in the range.\ndataEncoding\nQualifiedName\nThis parameter is no longer used.\nClients shall set it to null or empty.\nThe Server shall ignore the parameter."
    },
    {
      "Id": "8bb7668d-936b-423e-a420-a271a7baeec2",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.29 ReferenceDescription"
    },
    {
      "Id": "f5481e04-661d-40b8-8776-98d037630cf8",
      "Header": "Document: Part 4 - Services\nSection: 7.29 ReferenceDescription\n---\n",
      "Content": "The components of this parameter are defined in[Table 166](/\u00A7_Ref100043538).\nTable 166- ReferenceDescription\nName\nType\nDescription\nReferenceDescription\nstructure\nReference parameters returned for the Browse Service.\nreferenceTypeId\nNodeId\nNodeId of the ReferenceType that defines the Reference.\nisForward\nBoolean\nIf the value is TRUE, the Server followed a forward Reference. If the value is FALSE, the Server followed an inverse Reference.\nnodeId\nExpanded\nNodeId\nNodeId of the TargetNode as assigned by the Server identified by the Server index. The ExpandedNodeId type is defined in[7.16](/\u00A7_Ref129164940).\nIf the server Index indicates that the TargetNode is a remote Node, then the nodeId shall contain the absolute namespace URI. If the TargetNode is a local Node the nodeId shall contain the namespace index.\nbrowseName 1\nQualifiedName\nThe BrowseName of the TargetNode.\ndisplayName\nLocalizedText\nThe DisplayName of the TargetNode.\nnodeClass 1\nNodeClass\nNodeClass of the TargetNode.\ntypeDefinition 1\nExpanded\nNodeId\nType definition NodeId of the TargetNode. Type definitions are only available for the NodeClasses Object and Variable. For all other NodeClasses a null NodeId shall be returned.\nIf the server Index indicates that the type definition Node is a remote Node, then the nodeId shall contain the absolute namespace URI. If the type definition Node is a local Node the nodeId shall contain the namespace index.\n1) If the Server index in the ExpandedNodeId indicates that the TargetNode is a remote Node, then the browseName, nodeClass and typeDefinition may be null or empty. If they are not null or empty, they might not be up to date because the local Server might not continuously monitor the remote Server"
    },
    {
      "Id": "e4714228-894b-4bf8-bf1d-8fdff687ea18",
      "Header": "Document: Part 4 - Services\nSection: 7.29 ReferenceDescription\n---\n",
      "Content": "Server for changes. The displayName shall be provided for remote Nodes."
    },
    {
      "Id": "f60f869b-6dca-489c-a358-38ee0fdcfb37",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.30 RelativePath"
    },
    {
      "Id": "44003736-3207-422b-9af3-6c78db8007da",
      "Header": "Document: Part 4 - Services\nSection: 7.30 RelativePath\n---\n",
      "Content": "The components of this parameter are defined in[Table 167](/\u00A7_Ref179409027).\nTable 167- RelativePath\nName\nType\nDescription\nRelativePath\nstructure\nDefines a sequence of References and BrowseNames to follow.\nelements []\nRelativePath\nElement\nA sequence of References and BrowseNames to follow. This structure is defined in-line with the following indented items.\nEach element in the sequence is processed by finding the targets and then using those targets as the starting nodes for the next element. The targets of the final element are the target of the RelativePath.\nreferenceTypeId\nNodeId\nThe type of reference to follow from the current node.\nThe current path cannot be followed any further if the referenceTypeId is not available on the Node instance.\nIf the referenceTypeId is null then all References are included and the parameter includeSubtypes is ignored. This is equal to use the base References ReferenceType and includeSubtypes set to TRUE.\nisInverse\nBoolean\nOnly inverse references shall be followed if this value is TRUE.\nOnly forward references shall be followed if this value is FALSE.\nincludeSubtypes\nBoolean\nIndicates whether subtypes of the ReferenceType should be followed. Subtypes are included if this value is TRUE.\ntargetName\nQualifiedName\nThe BrowseName of the target node.\nThe final element may have an empty targetName. In this situation all targets of the references identified by the referenceTypeId are the targets of the RelativePath.\nThe targetName shall be specified for all other elements.\nThe current path cannot be followed any further if no targets with the specified BrowseName exist.\n\nA RelativePath can be applied to any starting Node. The targets of the RelativePath are the set of Nodes that are found by sequentially following the elements in RelativePath.\nA text format for the RelativePath"
    },
    {
      "Id": "42c193bf-8f14-4fa0-a3ed-a35b92fd5bf7",
      "Header": "Document: Part 4 - Services\nSection: 7.30 RelativePath\n---\n",
      "Content": "RelativePath can be found in Clause A.2. This format is used in examples that explain the Services that make use of the RelativePath structure."
    },
    {
      "Id": "1c82abd3-b20c-4073-a92d-e7e7fdedd966",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.31 RegisteredServer"
    },
    {
      "Id": "66b2002a-5b28-4c5d-9c84-d95bce24e259",
      "Header": "Document: Part 4 - Services\nSection: 7.31 RegisteredServer\n---\n",
      "Content": "The components of this parameter are defined in[Table 168](/\u00A7_Ref413265357).\nTable 168- RegisteredServer\nName\nType\nDescription\nRegisteredServer\nstructure\nThe Server to register.\nserverUri\nString\nThe globally unique identifier for the Server instance. The serverUri matches the applicationUri from the ApplicationDescription defined in[7.2](/\u00A7_Ref153821547).\nproductUri\nString\nThe globally unique identifier for the Server product.\nserverNames []\nLocalizedText\nA list of localized descriptive names for the Server.\nThe list shall have at least one valid entry.\nserverType\nEnum\nApplicationType\nThe type of application.\nThe enumeration values are defined in[Table 107](/\u00A7_Ref154233713).\nThe value \u0022CLIENT\u0022 (The application is a Client) is not allowed. The Service result shall be Bad_InvalidArgument in this case.\ngatewayServerUri\nString\nThe URI of the Gateway Server associated with the discoveryUrls.\nThis value is only specified by Gateway Servers that wish to register the Servers that they provide access to.\nFor Servers that do not act as a Gateway Server this parameter shall be null or empty.\ndiscoveryUrls []\nString\nA list of DiscoveryEndpoints for the Server.\nThe list shall have at least one valid entry.\nsemaphoreFilePath\nString\nThe path to the semaphore file used to identify an automatically-launched Server instance; Manually-launched Servers will not use this parameter.\nIf a Semaphore file is provided, the isOnline flag is ignored.\nIf a Semaphore file is provided and exists, the LocalDiscoveryServer shall save the registration information in a persistent data store that it reads whenever the LocalDiscoveryServer starts.\nIf a Semaphore file is specified but does not exist the Discovery Server"
    },
    {
      "Id": "dad7ad40-e8c4-4ecf-8fad-3a55121d3516",
      "Header": "Document: Part 4 - Services\nSection: 7.31 RegisteredServer\n---\n",
      "Content": "Discovery Server shall remove the registration from any persistent data store.\nIf the Server has registered with a semaphoreFilePath, the Discovery Server shall check that this file exists before returning the ApplicationDescription to the Client.\nIf the Server did not register with a semaphoreFilePath (it is null or empty) then the Discovery Server does not attempt to verify the existence of the file before returning the ApplicationDescription to the Client.\nisOnline\nBoolean\nTrue if the Server is currently able to accept connections from Clients. The Discovery Server shall return ApplicationDescriptions to the Client.\nThe Server is expected to periodically re-register with the Discovery Server.\nFalse if the Server is currently unable to accept connections from Clients. The Discovery Server shall NOT return ApplicationDescriptions to the Client.\nThis parameter is ignored if a semaphoreFilePath is provided."
    },
    {
      "Id": "0b5787d6-7c92-45af-9142-f63e0e609d97",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.32 RequestHeader"
    },
    {
      "Id": "64681f05-0397-4a2b-aefe-1b9c50b3c75d",
      "Header": "Document: Part 4 - Services\nSection: 7.32 RequestHeader\n---\n",
      "Content": "The components of this parameter are defined in[Table 169](/\u00A7_Ref107372950).\nTable 169- RequestHeader\nName\nType\nDescription\nRequestHeader\nstructure\nCommon parameters for all requests submitted on a Session.\nauthenticationToken\nSession\nAuthenticationToken\nThe secret Session identifier used to verify that the request is associated with the Session. The SessionAuthenticationToken type is defined in[7.35](/\u00A7_Ref183363986).\ntimestamp\nUtcTime\nThe time the Client sent the request. The parameter is only used for diagnostic and logging purposes in the Server.\nrequestHandle\nIntegerId\nA requestHandle associated with the request. This Client defined handle can be used to cancel the request. It is also returned in the response.\nreturnDiagnostics\nUInt32\nA bit mask that identifies the types of vendor-specific diagnostics to be returned in diagnosticInfo r esponse parameters.\nThe value of this parameter may consist of zero, one or more of the following values. No value indicates that diagnostics are not to be returned.\n\nBit Value\nDiagnostics to return\n0x0000 0001\nServiceLevel / SymbolicId\n0x0000 0002\nServiceLevel / LocalizedText\n0x0000 0004\nServiceLevel / AdditionalInfo\n0x0000 0008\nServiceLevel / Inner StatusCode\n0x0000 0010\nServiceLevel / Inner Diagnostics\n0x0000 0020\nOperationLevel / SymbolicId\n0x0000 0040\nOperationLevel / LocalizedText\n0x0000 0080\nOperationLevel / AdditionalInfo\n0x0000 0100\nOperationLevel / Inner StatusCode\n0x0000 0200\nOperationLevel / Inner Diagnostics"
    },
    {
      "Id": "54c6a2f7-6826-4523-bbfa-6af0ea9708fe",
      "Header": "Document: Part 4 - Services\nSection: 7.32 RequestHeader\n---\n",
      "Content": "Each of these values is composed of two components, level and type, as described below. If none are requested, as indicated by a 0 value, or if no diagnostic information was encountered in processing of the request, then diagnostics information is not returned.\n\nLevel:\nServiceLevel\nreturn diagnostics in the diagnosticInfo of the Service.\nOperationLevel\nreturn diagnostics in the diagnosticInfo defined for individual operations requested in the Service.\n\nType:\nSymbolicId\nreturn a namespace-qualified, symbolic identifier for an error or condition. The maximum length of this identifier is 32 characters.\nLocalizedText\nreturn up to 256 bytes of localized text that describes the symbolic id.\nAdditionalInfo\nreturn a byte string that contains additional diagnostic information, such as a memory image. The format of this byte string is vendor-specific, and may depend on the type of error or condition encountered.\nInnerStatusCode\nreturn the inner StatusCode associated with the operation or Service.\nInnerDiagnostics\nreturn the inner diagnostic info associated with the operation or Service. The contents of the inner diagnostic info structure are determined by other bits in the mask. Note that setting this bit could cause multiple levels of nested diagnostic info structures to be returned.\n\nauditEntryId\nString\nAn identifier that identifies the Client\u0027s security audit log entry associated with this request. An empty string value means that this parameter is not used.\nThe auditEntryId typically contains who initiated the action and from where it was initiated. The auditEntryId is included in the AuditEvent to allow human readers to correlate an Event with the initiating action.\nMore details of the Audit mechanisms are defined in[6.5](/\u00A7_Ref468992842) and in[OPC 10000-3](/\u00A7UAPart3).\ntimeoutHint\nUInt32"
    },
    {
      "Id": "7098f41a-2f7e-4b67-8a49-8362cf2e46a3",
      "Header": "Document: Part 4 - Services\nSection: 7.32 RequestHeader\n---\n",
      "Content": "UInt32\nThis timeout in milliseconds is used in the Client side Communication Stack to set the timeout on a per-call base.\nFor a Server this timeout is only a hint and can be used to cancel long running operations to free resources. If the Server detects a timeout, he can cancel the operation by sending the Service result Bad_Timeout. The Server should wait at minimum the timeout after he received the request before cancelling the operation. The Server shall check the timeoutHint parameter of a Publish request before processing a Publish response. If the request timed out, a Bad_Timeout Service result is sent and another Publish request is used.\nThe value of 0 indicates no timeout.\nadditionalHeader\nExtensible Parameter\nAdditionalHeader\nIf additional header parameters are needed, they shall be passed using the AdditionalParametersType defined in[7.1](/\u00A7_Ref43210127).\nApplications that do not understand the header should ignore it."
    },
    {
      "Id": "ae3cdd7a-af0e-4215-afe5-4bb065b992b7",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.33 ResponseHeader"
    },
    {
      "Id": "8e36ed45-9534-4315-836b-b7bfe9bc89b1",
      "Header": "Document: Part 4 - Services\nSection: 7.33 ResponseHeader\n---\n",
      "Content": "The components of this parameter are defined in[Table 170](/\u00A7_Ref107373020).\nTable 170- ResponseHeader\nName\nType\nDescription\nResponseHeader\nstructure\nCommon parameters for all responses.\ntimestamp\nUtcTime\nThe time the Server sent the response.\nrequestHandle\nIntegerId\nThe requestHandle given by the Client to the request.\nserviceResult\nStatusCode\nOPC UA-defined result of the Service invocation. The StatusCode type is defined in[7.38](/\u00A7_Ref127346441).\nserviceDiagnostics\nDiagnosticInfo\nDiagnostic information for the Service invocation. This parameter is empty if diagnostics information was not requested in the request header. The DiagnosticInfo type is defined in[7.12](/\u00A7_Ref127334266).\nstringTable []\nString\nThere is one string in this list for each unique namespace, symbolic identifier, and localized text string contained in all of the diagnostics information parameters contained in the response (see[7.12](/\u00A7_Ref115239793)). Each is identified within this table by its zero-based index.\nadditionalHeader\nExtensible Parameter\nAdditionalHeader\nIf additional header parameters are needed, they shall be passed using the AdditionalParametersType defined in[7.1](/\u00A7_Ref43210127).\nApplications that do not understand the header should ignore it."
    },
    {
      "Id": "fa1faced-ee0b-4ba1-b31a-1ad4fbe41594",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.34 ServiceFault"
    },
    {
      "Id": "d491a676-2609-4e35-a9cd-03faa12c1c68",
      "Header": "Document: Part 4 - Services\nSection: 7.34 ServiceFault\n---\n",
      "Content": "The components of this parameter are defined in[Table 171](/\u00A7_Ref139473562).\nThe ServiceFault parameter shall be returned instead of the Service response message when the serviceResult is a StatusCode with Severity Bad. The requestHandle in the ResponseHeader should be set to what was provided in the RequestHeader even if these values were not valid. The level of diagnostics returned in the ResponseHeader is specified by the returnDiagnostics parameter in the RequestHeader.\nThe exact use of this parameter depends on the mappings defined in[OPC 10000-6](/\u00A7UAPart6).\nTable 171- ServiceFault\nName\nType\nDescription\nServiceFault\nstructure\nAn error response sent when a service level error occurs.\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition)."
    },
    {
      "Id": "7d2124f5-3401-4917-b7d1-31fa85d4d6b1",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.35 SessionAuthenticationToken"
    },
    {
      "Id": "4e9fd462-87a2-4b1a-a033-3493c83532b8",
      "Header": "Document: Part 4 - Services\nSection: 7.35 SessionAuthenticationToken\n---\n",
      "Content": "The SessionAuthenticationToken type is an opaque identifier that is used to identify requests associated with a particular Session. This identifier is used in conjunction with the SecureChannelId or Client Certificate to authenticate incoming messages. It is the secret form of the sessionId for internal use in the Client and Server Applications. The SessionAuthenticationToken is a subtype of NodeId.\nA Server returns a SessionAuthenticationToken in the CreateSession response. The Client then sends this value with every request which allows the Server to verify that the sender of the request is the same as the sender of the original CreateSession request.\nFor the purposes of this discussion, a Server consists of application (code) and a Communication Stack as shown in[Figure 37](/\u00A7_Ref185171717). The security provided by the SessionAuthenticationToken depends on a trust relationship between the Server application and the Communication Stack. The Communication Stack shall be able to verify the sender of the message and it uses the SecureChannelId or the Client Certificate to identify the sender to the Server. In these cases, the SessionAuthenticationToken is a NodeId with a UInt32 identifier that allows the Server to distinguish between different Sessions created by the same sender."
    },
    {
      "Id": "735e16a3-451f-4061-92a6-0df0119af87e",
      "Header": "Document: Part 4 - Services\nSection: 7.35 SessionAuthenticationToken\nCaption: Figure 37 - Logical layers of a Server\n---\n",
      "Content": "[image040.png](images/image040.png)"
    },
    {
      "Id": "8902f6df-bf79-4a17-835c-fca68519c12f",
      "Header": "Document: Part 4 - Services\nSection: 7.35 SessionAuthenticationToken\n---\n",
      "Content": "Figure 37 - Logical layers of a Server\nIn some cases, the application and the Communication Stack cannot exchange information at runtime which means the application will not have access to the SecureChannelId or the Certificate used to create the SecureChannel. In these cases the application shall create a random ByteString value that is at least 32 bytes long. This value shall be kept secret and shall always be exchanged over a SecureChannel with encryption enabled. The Administrator is responsible for ensuring that encryption is enabled. In this cases, the SessionAuthenticationToken is a NodeId with a ByteString identifier. The Profiles in[OPC 10000-7](/\u00A7UAPart7) may define additional requirements for a ByteString SessionAuthenticationToken.\nClient and Server applications should be written to be independent of the SecureChannel implementation. Therefore, they should always treat the SessionAuthenticationToken as secret information even if it is not required when using some SecureChannel implementations.\n[Figure 38](/\u00A7_Ref183366531) illustrates the information exchanged between the Client, the Server and the Server Communication Stack when the Client obtains a SessionAuthenticationToken. In this figure the GetSecureChannelInfo step represents an API that depends on the Communication Stack implementation."
    },
    {
      "Id": "24289209-55d0-4341-ad09-d01631411bad",
      "Header": "Document: Part 4 - Services\nSection: 7.35 SessionAuthenticationToken\nCaption: Figure 38 - Obtaining a SessionAuthenticationToken\n---\n",
      "Content": "[image041.png](images/image041.png)"
    },
    {
      "Id": "c0827985-5969-4021-9a07-7ff4647681f3",
      "Header": "Document: Part 4 - Services\nSection: 7.35 SessionAuthenticationToken\n---\n",
      "Content": "Figure 38 - Obtaining a SessionAuthenticationToken\nThe SessionAuthenticationToken is a subtype of the NodeId data type; however, it is never used to identify a Node in the AddressSpace. Servers may assign a value to the NamespaceIndex; however, its meaning is Server specific."
    },
    {
      "Id": "435b1272-6a7c-401f-b404-da8f3a56f5e7",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.36 SignatureData"
    },
    {
      "Id": "fab12473-be6c-4f24-bd98-c1a8a4cce48d",
      "Header": "Document: Part 4 - Services\nSection: 7.36 SignatureData\n---\n",
      "Content": "The components of this parameter are defined in[Table 172](/\u00A7_Ref153780325).\nTable 172- SignatureData\nName\nType\nDescription\nSignatureData\nstructure\nContains a digital signature created with a Certificate.\nalgorithm\nString\nA string containing the URI of the algorithm.\nThe URI string values are defined as part of the security profiles specified in[OPC 10000-7](/\u00A7UAPart7).\nsignature\nByteString\nThis is a signature generated with the private key associated with a Certificate."
    },
    {
      "Id": "351a227c-a9a9-4696-b6d2-47d96b62f6cc",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.37 SignedSoftwareCertificate"
    },
    {
      "Id": "4cfa1b77-0f20-4b6d-bfab-272083e8a76e",
      "Header": "Document: Part 4 - Services\nSection: 7.37 SignedSoftwareCertificate\n---\n",
      "Content": "Note Details on SoftwareCertificates will be defined in a future version of this document.\n[Table 173](/\u00A7_Ref181549897) specifies SignedSoftwareCertificate Structure.\nTable 173- SignedSoftwareCertificate\nName\nType\nDescription\nSignedSoftwareCertificate\nstructure\n\ncertificateData\nByteString\nThe certificate data serialized as a ByteString.\nsignature\nByteString\nThe signature for the certificateData."
    },
    {
      "Id": "3f1e9ba4-526a-48f8-a5cd-755ac06d5615",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.38 StatusCode"
    },
    {
      "Id": "4756a938-33a1-4ce2-8958-c590607cdc62",
      "Header": "Document: Part 4 - Services\nSection: 7.38 StatusCode\n---\n",
      "Content": "7.38.1 General"
    },
    {
      "Id": "8a9cecfa-9393-4422-8e6d-4c79ecb344ef",
      "Header": "Document: Part 4 - Services\nSection: 7.38.1 General\n---\n",
      "Content": "A StatusCode in OPC UA is numerical value that is used to report the outcome of an operation performed by an OPC UA Server. This code may have associated diagnostic information that describes the status in more detail; however, the code by itself is intended to provide Client applications with enough information to make decisions on how to process the results of an OPC UA Service.\nThe StatusCode is a 32-bit unsigned integer. The top 16 bits represent the numeric value of the code that shall be used for detecting specific errors or conditions. The bottom 16 bits are bit flags that contain additional information but do not affect the meaning of the StatusCode.\nAll OPC UA Clients shall always check the StatusCode associated with a result before using it. Results that have an uncertain/warning status associated with them shall be used with care since these results might not be valid in all situations. Results with a bad/failed status shall never be used.\nOPC UA Servers should return good/success StatusCodes if the operation completed normally and the result is always valid. Different StatusCode values can provide additional information to the Client.\nOPC UA Servers should use uncertain/warning StatusCodes if they could not complete the operation in the manner requested by the Client, however, the operation did not fail entirely.\nThe list of StatusCodes is managed by OPC UA. The complete list of StatusCodes is defined in[OPC 10000-6](/\u00A7UAPart6). Servers shall not define their own StatusCodes. OPC UA companion working groups may request additional StatusCodes from the OPC Foundation to be added to the list in[OPC 10000-6](/\u00A7UAPart6).\nThe exact bit assignments are shown in[Table 174](/\u00A7_Ref127250480).\nTable 174- StatusCode bit assignments\nField\nBit Range\nDescription\nSeverity\n30:31"
    },
    {
      "Id": "ae012f68-cf65-4604-9b0b-b3da28580f8d",
      "Header": "Document: Part 4 - Services\nSection: 7.38.1 General\n---\n",
      "Content": "Severity\n30:31\nIndicates whether the StatusCode represents a good, bad or uncertain condition. These bits have the following meanings:\nGood Success\n00\nIndicates that the operation was successful and the associated results may be used.\nUncertain Warning\n01\nIndicates that the operation was partially successful and that associated results might not be suitable for some purposes.\nBad Failure\n10\nIndicates that the operation failed and any associated results cannot be used.\nReserved\n11\nReserved for future use. All Clients should treat a StatusCode with this severity as \u0022Bad\u0022.\n\nReserved\n29:29\nReserved for use in OPC UA application specific APIs. This bit shall always be zero on the wire but may be used by OPC UA application specific APIs for API specific status codes.\nReserved\n28:28\nReserved for future use. Shall always be zero.\nSubCode\n16:27\nThe code is a numeric value assigned to represent different conditions. Each code has a symbolic name and a numeric value. All descriptions in the OPC UA specification refer to the symbolic name.[OPC 10000-6](/\u00A7UAPart6) maps the symbolic names onto a numeric value.\nStructureChanged\n15:15\nIndicates that the structure of the associated data value has changed since the last Notification. Clients should not process the data value unless they re-read the metadata.\nServers shall set this bit if the DataTypeDefinition of the DataType used for a Variable changes.\nThis bit is provided to warn Clients that parse complex data values that their parsing routines could fail because the serialized form of the data value has changed.\nThis bit has meaning only for StatusCodes returned as part of a data change Notification or the HistoryRead. StatusCodes used in other contexts shall always set this bit to zero."
    },
    {
      "Id": "8660a56f-4a71-487a-96fa-436db42b7ba0",
      "Header": "Document: Part 4 - Services\nSection: 7.38.1 General\n---\n",
      "Content": "The bit is set on one data change Notification per MonitoredItem that samples values at the time the structure change happened. If the data change notification with the bit set is deleted because of a queue overflow, the bit shall be set on the next data change notification in the queue.\nSemanticsChanged\n14:14\nIndicates that the semantics of the associated data value have changed. Clients should not process the data value until they re-read the metadata associated with the Variable.\nServers should set this bit if the metadata has changed in way that could cause application errors if the Client does not re-read the metadata. For example, a change to the engineering units could create problems if the Client uses the value to perform calculations.\n[OPC 10000-8](/\u00A7UAPart8) defines the conditions where a Server shall set this bit for a DA Variable. Other specifications may define additional conditions. A Server may define other conditions that cause this bit to be set.\nThis bit has meaning only for StatusCodes returned as part of a data change Notification or the HistoryRead. StatusCodes used in other contexts shall always set this bit to zero.\nThe bit is set on one data change Notification per MonitoredItem that samples values at the time the semantic change happened. If the data change notification with the bit set is deleted because of a queue overflow, the bit shall be set on the next data change notification in the queue.\nReserved\n12:13\nReserved for future use. Shall always be zero.\nInfoType\n10:11\nThe type of information contained in the info bits. These bits have the following meanings:\nNotUsed\n00\nThe info bits are not used and shall be set to zero.\nDataValue\n01\nThe StatusCode and its info bits are associated with a data value returned from the Server"
    },
    {
      "Id": "fe699e10-59b4-41b0-bab1-6aa47df341dc",
      "Header": "Document: Part 4 - Services\nSection: 7.38.1 General\n---\n",
      "Content": "Server. The info bits are defined in[Table 175](/\u00A7_Ref127252123).\nReserved\n1X\nReserved for future use. The info bits shall be ignored.\n\nInfoBits\n0:9\nAdditional information bits that qualify the StatusCode.\nThe structure of these bits depends on the Info Type field.\n\n[Table 175](/\u00A7_Ref127252123) describes the structure of the InfoBits when the Info Type is set to DataValue(01).\nTable 175- DataValue InfoBits\nInfo Type\nBit Range\nDescription\nLimitBits\n8:9\nThe limit bits associated with the data value. The limits bits have the following meanings:\nLimit\nBits\nDescription\nNone\n00\nThe value is free to change.\nLow\n01\nThe value is at the lower limit for the data source.\nHigh\n10\nThe value is at the higher limit for the data source.\nConstant\n11\nThe value is constant and cannot change.\n\nOverflow\n7\nThis bit shall only be set if the MonitoredItem queue size is greater than 1.\nIf this bit is set, not every detected change has been returned since the Server\u0027s queue buffer for the MonitoredItem reached its limit and had to purge out data.\nReserved\n5:6\nReserved for future use. Shall always be zero.\nHistorianBits\n0:4\nThese bits are set only when reading historical data. They indicate where the data value came from and provide information that affects how the Client uses the data value. The historian bits have the following meaning:\nRaw\nXXX00\nA raw data value.\nCalculated\nXXX01\nA data value which was calculated.\nInterpolated\nXXX10\nA data value which was interpolated.\nReserved"
    },
    {
      "Id": "78475bf8-7eba-4ee5-8bf2-a91b38842204",
      "Header": "Document: Part 4 - Services\nSection: 7.38.1 General\n---\n",
      "Content": "Reserved\nXXX11\nUndefined.\nPartial\nXX1XX\nA data value which was calculated with an incomplete interval.\nExtra Data\nX1XXX\nA raw data value that hides other data at the same timestamp.\nMulti Value\n1XXXX\nMultiple values match the Aggregate criteria (i.e. multiple minimum values at different timestamps within the same interval).\n[OPC 10000-11](/\u00A7UAPart11) describes how these bits are used in more detail."
    },
    {
      "Id": "f26d1b82-bba8-4ff6-9f6f-01a50af5b69d",
      "Header": "Document: Part 4 - Services\nSection: 7.38 StatusCode\n---\n",
      "Content": "7.38.2 Common StatusCodes"
    },
    {
      "Id": "a22f7940-3402-4714-b7c6-e8e6e4837602",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "[Table 176](/\u00A7_Ref90539276) defines the common StatusCodes for all Service results used in more than one service. It does not provide a complete list. These StatusCodes may also be used as operation level result code.[OPC 10000-6](/\u00A7UAPart6) maps the symbolic names to a numeric value and provides a complete list of StatusCodes including codes defines in other parts.\nTable 176- Common Service Result Codes\nSymbolic Id\nDescription\nGood\nThe operation was successful.\nGood_CompletesAsynchronously\nThe processing will complete asynchronously.\nGood_SubscriptionTransferred\nThe Subscription was transferred to another session.\n\n\nBad_CertificateHostNameInvalid\n\nThe HostName used to connect to a Server does not match a HostName in the Certificate.\nBad_CertificateChainIncomplete\nThe Certificate chain is incomplete.\nBad_CertificateIssuerRevocationUnknown\nIt was not possible to determine if the Issuer Certificate has been revoked.\nBad_CertificateIssuerUseNotAllowed\nThe Issuer Certificate may not be used for the requested operation.\nBad_CertificateIssuerTimeInvalid\nAn Issuer Certificate has expired or is not yet valid.\nBad_CertificateIssuerRevoked\nThe Issuer Certificate has been revoked.\nBad_CertificateInvalid\nThe Certificate provided as a parameter is not valid.\nBad_CertificateRevocationUnknown\nIt was not possible to determine if the Certificate has been revoked.\nBad_CertificateRevoked\nThe Certificate has been revoked.\nBad_CertificateTimeInvalid\nThe Certificate has expired or is not yet valid.\nBad_CertificateUriInvalid\nThe URI specified in the ApplicationDescription does not match the URI in the Certificate.\nBad_CertificateUntrusted\nThe Certificate is not trusted.\nBad_CertificateUseNotAllowed\nThe Certificate may not be used for the requested operation."
    },
    {
      "Id": "dfbba76f-bf46-41bf-9837-cd2ceda8048a",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "Bad_CommunicationError\nA low level communication error occurred.\nBad_DataTypeIdUnknown\nThe ExtensionObject cannot be (de)serialized because the data type id is not recognized.\nBad_DecodingError\nDecoding halted because of invalid data in the stream.\nBad_EncodingError\nEncoding halted because of invalid data in the objects being serialized.\nBad_EncodingLimitsExceeded\nThe message encoding/decoding limits imposed by the Communication Stack have been exceeded.\nBad_IdentityTokenInvalid\nThe user identity token is not valid.\nBad_IdentityTokenRejected\nThe user identity token is valid but the Server has rejected it.\nBad_InternalError\nAn internal error occurred as a result of a programming or configuration error.\nBad_InvalidArgument\nOne or more arguments are invalid.\nEach service defines parameter-specific StatusCodes and these StatusCodes shall be used instead of this general error code. This error code shall be used only by the Communication Stack and in services where it is defined in the list of valid StatusCodes for the service.\nBad_InvalidState\nThe operation cannot be completed because the object is closed, uninitialized or in some other invalid state.\nBad_InvalidTimestamp\nThe timestamp is outside the range allowed by the Server.\nBad_LicenseExpired\nThe UA Server requires a license to operate in general or to perform a service or operation, but existing license is expired\nBad_LicenseLimitsExceeded\nThe UA Server has limits on number of allowed operations / objects, based on installed licenses, and these limits where exceeded.\nBad_LicenseNotAvailable\nThe UA Server does not have a license which is required to operate in general or to perform a service or operation.\nBad_NonceInvalid\nThe nonce does appear to be not a random value or it is not the correct length.\nBad_NothingToDo"
    },
    {
      "Id": "59637828-d4e9-4f7a-a59b-aea195cd334f",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "Bad_NothingToDo\nNo processing could be done because there was nothing to do.\nFor Service level results the code is used if the Client passed a list of operations with no elements.\nBad_OutOfMemory\nNot enough memory to complete the operation.\nBad_RequestCancelledByClient\nThe request was cancelled by the Client.\nBad_RequestTooLarge\nThe request message size exceeds limits set by the Server.\nBad_ResponseTooLarge\nThe response message size exceeds limits set by the Client or Server.\nBad_RequestHeaderInvalid\nThe header for the request is missing or invalid.\nBad_ResourceUnavailable\nAn operating system resource is not available.\nBad_SecureChannelIdInvalid\nThe specified secure channel is no longer valid.\nBad_SecurityChecksFailed\nAn error occurred while verifying security.\nBad_SecurityPolicyRejected\nThe security policy does not meet the requirements set by the Server.\nBad_ServerHalted\nThe Server has stopped and cannot process any requests.\nBad_ServerNotConnected\nThe operation could not complete because the Client is not connected to the Server.\nBad_ServerTooBusy\nThe Server does not have the resources to process the request at this time.\nThis can be caused by a general overload of the Server or an overload by the Client that receives the result code.\nBad_ServerUriInvalid\nThe Server URI is not valid.\nBad_ServiceUnsupported\nThe Server does not support the requested service.\nBad_SessionIdInvalid\nThe Session id is not valid.\nBad_SessionClosed\nThe Session was closed by the Client.\nBad_SessionNotActivated\nThe Session cannot be used because ActivateSession has not been called.\nBad_Shutdown\nThe operation was cancelled because the application is shutting down.\nBad_SubscriptionIdInvalid\nThe Subscription id is not valid.\nThe Subscription"
    },
    {
      "Id": "2fa3bcf8-b8fb-458b-84bb-ee8c8b315f2b",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "The Subscription id is not known or is not valid in the context of the Session used to call the Subscription related Service.\nBad_Timeout\nThe operation timed out.\nBad_TimestampsToReturnInvalid\nThe timestamps to return parameter is invalid.\nBad_TooManyOperations\nThe request could not be processed because it specified too many operations.\nBad_UnexpectedError\nAn unexpected error occurred.\nBad_UnknownResponse\nAn unrecognized response was received from the Server.\nBad_UserAccessDenied\nUser does not have permission to perform the requested operation.\nBad_ViewIdUnknown\nThe view id does not refer to a valid view Node.\nBad_ViewTimestampInvalid\nThe view timestamp is not available or not supported.\nBad_ViewParameterMismatchInvalid\nThe view parameters are not consistent with each other.\nBad_ViewVersionInvalid\nThe view version is not available or not supported.\n\n[Table 177](/\u00A7_Ref127606591) defines the common StatusCodes for all operation level results used in more than one service. It does not provide a complete list.[OPC 10000-6](/\u00A7UAPart6) maps the symbolic names to a numeric value and provides a complete list of StatusCodes including codes defines in other parts. The common Service result codes can be also contained in the operation level.\nTable 177- Common Operation Level Result Codes\nSymbolic Id\nDescription\nGood_Clamped\nThe value written was accepted but was clamped.\nGood_Overload\nSampling has slowed down due to resource limitations.\n\n\nUncertain\nThe value is uncertain but no specific reason is known.\n\n\nBad\nThe value is bad but no specific reason is known.\nBad_AttributeIdInvalid\nThe attribute is not supported for the specified node.\nBad_BrowseDirectionInvalid"
    },
    {
      "Id": "cf19778f-648f-4ac8-959a-96662f92a38c",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "The browse direction is not valid.\nBad_BrowseNameInvalid\nThe browse name is invalid.\nBad_ContentFilterInvalid\nThe content filter is not valid.\nBad_ContinuationPointInvalid\nThe continuation point provided is no longer valid.\nThis status is returned if the continuation point was deleted or the address space was changed between the browse calls.\nBad_DataEncodingInvalid\nThe data encoding is invalid.\nBad_DataEncodingUnsupported\nThe Server does not support the requested data encoding for the node.\nBad_EventFilterInvalid\nThe event filter is not valid.\nBad_FilterNotAllowed\nA monitoring filter cannot be used in combination with the attribute specified.\nBad_FilterOperandInvalid\nThe operand used in a content filter is not valid.\nBad_HistoryOperationInvalid\nThe history details parameter is not valid.\nBad_HistoryOperationUnsupported\nThe Server does not support the requested operation.\nBad_IndexRangeInvalid\nThe syntax of the index range parameter is invalid.\nBad_IndexRangeNoData\nNo data exists within the range of indexes specified.\nBad_MonitoredItemFilterInvalid\nThe monitored item filter parameter is not valid.\nBad_MonitoredItemFilterUnsupported\nThe Server does not support the requested monitored item filter.\nBad_MonitoredItemIdInvalid\nThe monitoring item id does not refer to a valid monitored item.\nBad_MonitoringModeInvalid\nThe monitoring mode is invalid.\nBad_NoCommunication\nCommunication with the data source is defined, but not established, and there is no last known value available.\nThis status/sub-status is used for cached values before the first value is received or for Write and Call if the communication is not established.\nBad_NoContinuationPoints\nThe operation could not be processed because all continuation points have been allocated.\nBad_NodeClassInvalid\nThe node class is not valid."
    },
    {
      "Id": "3852b062-56ab-448d-91ab-271d19c17f9f",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "Bad_NodeIdInvalid\nThe syntax of the node id is not valid or refers to a node that is not valid for the operation.\nBad_NodeIdUnknown\nThe node id refers to a node that does not exist in the Server address space.\nBad_NoDeleteRights\nThe Server will not allow the node to be deleted.\nBad_NodeNotInView\nThe nodesToBrowse is not part of the view.\nBad_NotFound\nA requested item was not found or a search operation ended without success.\nBad_NotImplemented\nRequested operation is not implemented.\nBad_NoValue\nThere is no value available.\nThis status is also used if a Variable is created and no default value or no initial value is available.\nBad_NotReadable\nThe access level does not allow reading or subscribing to the Node.\nBad_NotSupported\nThe requested operation is not supported.\nBad_NotWritable\nThe access level does not allow writing to the Node.\nBad_ObjectDeleted\nThe Object cannot be used because it has been deleted.\nBad_OutOfRange\nThe value was out of range.\nBad_ReferenceTypeIdInvalid\nThe reference type id does not refer to a valid reference type node.\nBad_SecurityModeInsufficient\nThe SecurityPolicy and/or MessageSecurityMode do not match the Server requirements to complete the operation.\nFor example, a user may have the right to receive the data but the data can only be transferred through an encrypted channel with an appropriate SecurityPolicy.\nBad_SourceNodeIdInvalid\nThe source node id does not refer to a valid node.\nBad_StructureMissing\nA mandatory structured parameter was missing or null.\nBad_TargetNodeIdInvalid\nThe target node id does not refer to a valid node.\nBad_TypeDefinitionInvalid\nThe type definition node id does not reference an appropriate type node.\nBad_TypeMismatch"
    },
    {
      "Id": "9b79317c-f0e6-4d1b-8dc4-f4c44ad7a934",
      "Header": "Document: Part 4 - Services\nSection: 7.38.2 Common StatusCodes\n---\n",
      "Content": "Bad_TypeMismatch\nThe value supplied for the attribute is not of the same type as the attribute\u0027s value.\nBad_WaitingForInitialData\nWaiting for the Server to obtain values from the underlying data source.\nAfter creating a MonitoredItem or after setting the MonitoringMode from DISABLED to REPORTING or SAMPLING, it may take some time for the Server to actually obtain values for these items. In such cases the Server can send a Notification with this status prior to the Notification with the first value or status from the data source."
    },
    {
      "Id": "787e5b63-7dfe-4b5d-b913-1021efad805f",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.39 TimestampsToReturn"
    },
    {
      "Id": "709ca212-b2cd-4079-a08f-a6f91ae99a8f",
      "Header": "Document: Part 4 - Services\nSection: 7.39 TimestampsToReturn\n---\n",
      "Content": "The TimestampsToReturn is an enumeration that specifies the Timestamp Attributes to be transmitted for MonitoredItems or Nodes in Read and HistoryRead. The values of this parameter are defined in[Table 178](/\u00A7_Ref112485903).\nTable 178- TimestampsToReturn values\nName\nValue\nDescription\nSOURCE\n0\nReturn the source timestamp.\nSERVER\n1\nReturn the Server timestamp.\nBOTH\n2\nReturn both the source and Server timestamps.\nNEITHER\n3\nReturn neither timestamp.\nThis is the default value for MonitoredItems if a Variable value is not being accessed.\nFor HistoryRead this is not a valid setting.\nINVALID\n4\nNo value specified."
    },
    {
      "Id": "0680348a-a1ba-4396-be93-70c032394cbb",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.40 UserIdentityToken parameters"
    },
    {
      "Id": "9cbda03c-154e-4a15-8875-ffb1b734de33",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.1 Overview"
    },
    {
      "Id": "2a2474cc-c523-433c-afcf-07fe9bee0e3c",
      "Header": "Document: Part 4 - Services\nSection: 7.40.1 Overview\n---\n",
      "Content": "The UserIdentityToken structure used in the Server Service Set allows Clients to specify the identity of the user they are acting on behalf of. The exact mechanism used to identify users depends on the system configuration. The different types of identity tokens are based on the most common mechanisms that are used in systems today.[Table 179](/\u00A7_Ref128242293) defines the current set of user identity tokens. The ExtensibleParameter type is defined in[7.17](/\u00A7_Ref182070092).\nTable 179- UserIdentityToken parameterTypeIds\nSymbolic Id\nDescription\nAnonymousIdentityToken\nNo user information is available.\nUserNameIdentityToken\nA user identified by user name and password.\nX509IdentityToken\nA user identified by an X.509 v3 Certificate.\nIssuedIdentityToken\nA user identified by a token issued by an external Authorization Service."
    },
    {
      "Id": "2504f325-7e4b-4400-a744-81675834f158",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.2 Token Encryption and Proof of Possession"
    },
    {
      "Id": "c1f427b6-0df2-43bb-910f-6c7bf4fdef5f",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2 Token Encryption and Proof of Possession\n---\n",
      "Content": "7.40.2.1 Overview"
    },
    {
      "Id": "d6b2983d-ffdc-4c14-8a65-5efb3d415cfa",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.1 Overview\n---\n",
      "Content": "The Client shall always prove possession of a UserIdentityToken when it passes it to the Server. Some tokens include a secret such as a password which the Server will accept as proof. In order to protect these secrets, the Token may be encrypted before it is passed to the Server. Other types of tokens allow the Client to create a signature with the secret associated with the Token. In these cases, the Client proves possession of a UserIdentityToken by creating a signature with the secret and passing it to the Server.\nEach UserIdentityToken allowed by an Endpoint shall have a UserTokenPolicy specified in the EndpointDescription. The UserTokenPolicy specifies what SecurityPolicy to use when encrypting or signing. If this SecurityPolicy is null or empty then the Client uses the SecurityPolicy in the EndpointDescription. If the matching SecurityPolicy is set to None then no encryption or signature is required. The possible SecurityPolicies are defined in[OPC 10000-7](/\u00A7UAPart7).\nIt is recommended that applications never set the SecurityPolicy to None for UserIdentityTokens that include a secret because these secrets could be used by an attacker to gain access to the system.\nClients shall validate the Server Certificate and ensure it is trusted before sending a UserIdentityToken encrypted with the Certificate.\nThe encrypted secret and Signature are embedded in a ByteString which is part of the UserIdentityToken. The format of this ByteString depends on the type of UserIdentityToken and the SecurityPolicy.\nThe legacy token secret format defined in[7.40.2.2](/\u00A7_Ref482553831) is not extensible and provides only encryption but the encrypted data is not signed. It is used together with the USERNAME UserIdentityToken. The password secret exchanged with this format shall not exceed 64 bytes. If the password exceeds 64 bytes, the"
    },
    {
      "Id": "a3a79d02-1a56-465c-b7fd-7a5a8e243f0a",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.1 Overview\n---\n",
      "Content": "EncryptedSecret format shall be used or the clear text password is sent over a SecureChannel that is encrypted.\nThe EncryptedSecret format defined in[7.40.2.3](/\u00A7_Ref482553832) provides an extensible secret format together with the definition how the secret is signed and encrypted. It allows for the layout to be updated as new token types are defined or new SecurityPolicies are added.\nThe EncryptedSecret format starts with a TypeId, EncodingMask and Length. These values allow a Server to determine how to handle the secret. If the TypeId does not resolve to one of the defined EncryptedSecret format DataTypes and a USERNAME UserIdentityToken has been provided then the Server may attempt to handle the secret using the legacy token secret format.\nThe UserIdentityToken types and the token formats supported by the Endpoint are identified by the UserTokenPolicy defined in[7.41](/\u00A7_Ref184567336).\nTo prevent the leakage of information useful to attackers, Servers shall ensure that the process of validating UserIdentityTokens completes in a fixed interval independent of whether an error occurs or not. The process of validation includes decrypting, check for padding and checking for a valid nonce. If any errors occur the return code is Bad_IdentityTokenInvalid.\nServers shall log details of any failure to validate a UserIdentityToken and shall lock out Client applications after five failures."
    },
    {
      "Id": "2c6b6176-04c9-4b44-89ee-bad0f03f9381",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2 Token Encryption and Proof of Possession\n---\n",
      "Content": "7.40.2.2 Legacy Encrypted Token Secret Format"
    },
    {
      "Id": "c20c7048-4101-424f-80a0-014733ca58e0",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.2 Legacy Encrypted Token Secret Format\n---\n",
      "Content": "When encrypting a UserIdentityToken, the Client appends the last ServerNonce to the secret. The data is then encrypted with the public key from the Server\u0027s Certificate.\nA Client should not add any padding after the secret. If a Client adds padding then all bytes shall be zero. A Server shall check for padding added by Clients and ensure that all padding bytes are zeros. Servers shall reject UserIdentityTokens with invalid padding. Administrators shall be able to configure Servers to accept UserIdentityTokens with invalid padding.\nIf no encryption is applied, the structure is not used and only the secret without any Nonce is passed to the Server.\n[Table 180](/\u00A7_Ref183363340) describes how to serialize UserIdentityTokens before applying encryption.\nTable 180- Legacy UserIdentityToken Encrypted Token Secret Format\nName\nType\nDescription\nLength\nByte [4]\nThe length of the data to be encrypted including the ServerNonce but excluding the length field.\nThis field is a 4-byte unsigned integer encoded with the least significant bytes appearing first.\ntokenData\nByte [*]\nThe token data.\nserverNonce\nByte [*]\nThe last ServerNonce returned by the Server in the CreateSession or ActivateSession response."
    },
    {
      "Id": "b81ce764-7967-4e0d-962f-54f862bcb28f",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2 Token Encryption and Proof of Possession\n---\n",
      "Content": "7.40.2.3 EncryptedSecret Format"
    },
    {
      "Id": "fa51001a-7027-4f4f-85d9-c15d23592689",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.3 EncryptedSecret Format\n---\n",
      "Content": "The EncryptedSecret uses an extensible format which has the TypeId of a DataType Node as a prefix as defined for the ExtensionObject encoding in[OPC 10000-6](/\u00A7UAPart6). The general layout of the EncryptedSecret is shown in[Figure 39](/\u00A7_Ref164005549)."
    },
    {
      "Id": "35b1986d-3910-4cb6-86d8-4d8e25aa69d5",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.3 EncryptedSecret Format\nCaption: Figure 39 - EncryptedSecret layout\n---\n",
      "Content": "[image042.png](images/image042.png)"
    },
    {
      "Id": "f89669ed-0a7b-40da-a6af-26a35a9e956f",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.3 EncryptedSecret Format\n---\n",
      "Content": "Figure 39 - EncryptedSecret layout\nThe TypeId specifies how the EncryptedSecret is serialized and secured. For example,  the RsaEncryptedSecret requires that the KeyData be encrypted with the public key associated with the EncryptingCertificate before it is serialized.\nThe SecurityPolicyUri is used to determine what algorithms were used to encrypt and sign the data. Valid SecurityPolicyUris are defined in[OPC 10000-7](/\u00A7UAPart7).\nThe payload is always encrypted using the symmetric encryption algorithm specified by the SecurityPolicyUri. The KeyData provides the keys needed for symmetric encryption. The structure of the KeyData depends on the EncryptedSecret DataType.\nThe EncryptedSecret is secured and serialized as follows:\nSerialize the common header;\nSerialize the KeyData;\nIf required, encrypt the KeyData and append the result to the common header;\nUpdate the KeyDataLength with the length of the encrypted KeyData;\nAppend the Nonce and the Secret to the encrypted KeyData;\nCalculate padding required on the payload and append after the Secret;\nEncrypt the payload;\nCalculate a Signature;\nAppend the Signature.\n\nIndividual fields are serialized using the UA Binary encoding (see[OPC 10000-6](/\u00A7UAPart6)) for the DataType specified in[Table 181](/\u00A7_Ref483801559). The Padding is used to ensure there is enough data to fill an integer multiple of encryption blocks. The size of the encryption block depends on the encryption algorithm. The total length of the Padding, not including the PaddingSize, is encoded as a UInt16. The individual bytes of the Padding are set to the least significant byte of the PaddingSize.\n\nThe EncryptedSecret is deserilized and validated as follows:"
    },
    {
      "Id": "46cfba9d-0dc0-4d83-8623-82dcff244b30",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.3 EncryptedSecret Format\n---\n",
      "Content": ":\nDeserialize the common header;\nVerify the Signature if the KeyData is not encrypted;\nDecrypt the KeyData and verify the Signature if the KeyData is encrypted;\nDecrypt the payload;\nVerify the padding on the payload;\nExtract the Secret;\n\nThe fields in the EncryptedSecret are described in[Table 181](/\u00A7_Ref483801559). The first three fields TypeId, EncodingMask and Length belong to the ExtensionObject encoding defined in[OPC 10000-6](/\u00A7UAPart6).\nTable 181- EncryptedSecret layout\nName\nType\nDescription\nTypeId\nNodeId\nThe NodeId of the DataType Node.\nEncodingMask\nByte\nThis value is always 1.\nLength\nInt32\nThe length of the data that follows including the Signature.\nSecurityPolicyUri\nString\nThe URI for the SecurityPolicy used to apply security.\nCertificate\nByteString\nThe signing and/or encrypting Certificate.\nSigningTime\nDateTime\nWhen the Signature was created.\nKeyDataLength\nUInt16\nThe length, in bytes, of the KeyData that follows\nIf the KeyData is encrypted this is the length of the encrypted data;\nOtherwise, it is the length of the unencrypted data.\nKeyData\nByte [*]\nThe key data used to create the keys needed for decrypting and verifying the payload using the SymmetricEncryptionAlgorithm specified by the SecurityPolicyUri. Each EncryptedSecret DataType describes how the key data is structured for different SecurityPolicies.\nNonce\nByteString\nThis is the last serverNonce returned in the CreateSession or ActivateSession Response when a UserIdentityToken is passed with the ActivateSession Request.\nIf used outside of an ActivateSession call, the Nonce"
    },
    {
      "Id": "b4b964db-b07a-477e-bd2d-e14a9f0f2ff1",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.3 EncryptedSecret Format\n---\n",
      "Content": "call, the Nonce is created by the sender and its length shall be between 32 and 128 bytes inclusive.\nSecret\nByteString\nThe secret to protect.\nThe password when used with UserNameIdentityTokens.\nThe tokenData when used with IssuedIdentityTokens.\nIf the Secret is a String is it encoded using UTF-8 first.\nPayloadPadding\nByte[*]\nAdditional padding added to ensure the size of the encrypted payload is an integer multiple of the InitializationVectorLength specified by the SecurityPolicyUri. If the InitializationVectorLength is less than 16 bytes then 16 bytes are used instead.\nThe value of each byte is the least significant byte of the PayloadPaddingSize.\nPayloadPaddingSize\nUInt16\nThe size of the padding added to the payload.\nSignature\nByte[*]\nThe Signature calculated after all encryption is applied.\nEach EncryptedSecret DataType describes how the Signature is calculated for different SecurityPolicies.\n\nThe PayloadPaddingSize adjusted with the following formula:\nIf (Secret.Length \u002B PayloadPaddingSize \u003C InitializationVectorLength) Then\nPayloadPaddingSize = PayloadPaddingSize \u002B InitializationVectorLength\nWhere the InitializationVectorLength is specified by the SymmetricEncryptionAlgorithm.\nThe currently available EncryptedSecret DataTypes are defined in[Table 182](/\u00A7_Ref482755394).\nTable 182- EncryptedSecret DataTypes\nType Name\nWhen to Use\nRsaEncryptedSecret\nUsed when the SecurityPolicy requires the use of RSA cryptography. It is described in[7.40.2.4](/\u00A7_Ref494295034).\nEccEncryptedSecret\nUsed when the SecurityPolicy requires the use of ECC cryptography.It is described in[7.40.2.5](/\u00A7_Ref43197004)."
    },
    {
      "Id": "52db5da8-5292-44b4-8bcc-cda79204d925",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2 Token Encryption and Proof of Possession\n---\n",
      "Content": "7.40.2.4 RsaEncryptedSecret DataType"
    },
    {
      "Id": "ac7cfb2e-1db2-429a-8872-ff51627f0225",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.4 RsaEncryptedSecret DataType\n---\n",
      "Content": "The RsaEncryptedSecret uses RSA based Asymmetric Cryptography.\nAdditional semantics for the fields in the EncryptedSecret layout for the RsaEncryptedSecret Structure are described in[Table 183](/\u00A7_Ref486275903).\nTable 183- RsaEncryptedSecret structure\nName\nType\nDescription\nTypeId\nNodeId\nThe NodeId of the RsaEncryptedSecret DataType Node.\nEncodingMask\nByte\nSee[Table 181](/\u00A7_Ref483801559).\nLength\nUInt32\nSee[Table 181](/\u00A7_Ref483801559).\nSecurityPolicyUri\nString\nSee[Table 181](/\u00A7_Ref483801559).\nCertificate\nByteString\nThe SHA1 hash of the DER form of the Certificate used to encrypt the KeyData.\nSigningTime\nDateTime\nSee[Table 181](/\u00A7_Ref483801559).\nKeyDataLength\nUInt16\nThe length, in bytes, of the encrypted KeyData.\nKeyData\n\nThe KeyData is encrypted with the PublicKey associated with the receiver of the EncryptedSecret. The creator of the EncryptedSecret generates the SigningKey, EncryptingKey and InitializationVector using a cryptographic random number generator with the lengths required by the SecurityPolicy.\nSigningKey\nByteString\nThe key used to compute the Signature.\nEncryptingKey\nByteString\nThe key used to encrypt payload.\nInitializationVector\nByteString\nThe initialization vector used with the EncryptingKey.\nNonce\nByteString\nA Nonce. This is the last ServerNonce returned in the CreateSession or ActivateSession Response when proving a UserIdentityToken passed in the ActivateSession Request. In other contexts, this is a Nonce"
    },
    {
      "Id": "d64fc857-2e47-43bf-b7cb-8212f7905d16",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.4 RsaEncryptedSecret DataType\n---\n",
      "Content": "Nonce created by the sender with a length between 32 and 128 bytes inclusive.\nSecret\nByteString\nSee[Table 181](/\u00A7_Ref483801559).\nPayloadPadding\nByte[*]\nSee[Table 181](/\u00A7_Ref483801559).\nPayloadPaddingSize\nUInt16\nSee[Table 181](/\u00A7_Ref483801559).\nSignature\nByte[*]\nThe Signature calculated with the SigningKey using the SymmetricEncryptionAlgorithm from the SecurityPolicy.\nThe Signature is calculated after encrypting the KeyData and the payload.\nThe Signature can only be checked after the KeyData is decrypted. It allows the receiver to verify that the message has not beem tampered with. It does not provide any information about who created the EncryptedSecret."
    },
    {
      "Id": "6da1365b-549a-4b03-b149-132aebed75ad",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2 Token Encryption and Proof of Possession\n---\n",
      "Content": "7.40.2.5 EccEncryptedSecret DataType"
    },
    {
      "Id": "3f155bdb-aa3b-4122-ab9f-1df0a65ddf6f",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.5 EccEncryptedSecret DataType\n---\n",
      "Content": "The EccEncryptedSecret uses ECC based Asymmetric Cryptography.\nAdditional semantics for the fields in the EncryptedSecret layout for the EccEncryptedSecret Structure are described in[Table 184](/\u00A7_Ref43194742).\nThe EccEncryptedSecret uses ECC EphemeralKeys to create the symmetric key used to encrypt the Secret. The handshake required to create and use the EphemeralKeys is described in[OPC 10000-6](/\u00A7UAPart6).\nTable 184- EccEncryptedSecret Layout\nName\nType\nDescription\nTypeId\nNodeId\nThe NodeId of the EccEncryptedSecret DataType Node.\nEncodingMask\nByte\nSee[Table 181](/\u00A7_Ref483801559)\nLength\nUInt32\nSee[Table 181](/\u00A7_Ref483801559)\nSecurityPolicyUri\nString\nSee[Table 181](/\u00A7_Ref483801559)\nCertificate\nByteString\nThe signing Certificate encoded in DER form.\nThe value shall include the entire chain.\nThis value may be null or empty if the SigningCertificate is known to the receiver. This is true if the structure is used to provide a UserIdentityToken to a Server over a SecureChannel and the SigningCertificate is the Client ApplicationInstance Certificate.\nSigningTime\nDateTime\nSee[Table 181](/\u00A7_Ref483801559)\nKeyDataLength\nUInt16\nThe length of the KeyData without encryption.\nKeyData\n\nThe KeyData is not encrypted.\nSenderPublicKey\nByteString\nThe Public Key for the EphemeralKey created by the sender.\nReceiverPublicKey\nByteString\nThe Public Key for the EphemeralKey created by the receiver.\nNonce\nByteString\nA Nonce"
    },
    {
      "Id": "7896903d-1215-4a7a-add1-cf8d4cce7444",
      "Header": "Document: Part 4 - Services\nSection: 7.40.2.5 EccEncryptedSecret DataType\n---\n",
      "Content": "ByteString\nA Nonce. This is the last ServerNonce returned in the CreateSession or ActivateSession Response when proving a UserIdentityToken passed in the ActivateSession Request. In other contexts, this is a Nonce created by the sender with a length between 32 and 128 bytes inclusive.\nSecret\nByteString\nSee[Table 181](/\u00A7_Ref483801559)\nPayloadPadding\nByte [*]\nSee[Table 181](/\u00A7_Ref483801559)\nPayloadPaddingSize\nUInt16\nSee[Table 181](/\u00A7_Ref483801559)\nSignature\nByte [*]\nWhen using AuthenticatedEncryption the Signature has two parts: the Signature produced when the secret is encrypted using the SymmetricEncryptionAlgorithm and the Signature calculated using the Certificate and the AsymmetricSignatureAlgorithm. Both Signatures are calculated from the start of the packet. The AsymmetricSignatureAlgorithm Signature includes the SymmetricEncryptionAlgorithm Signature.\nWhen using UnauthenticatedEncryption the Signature is only calculated using the Certificate and the AsymmetricSignatureAlgorithm."
    },
    {
      "Id": "82b45221-dbd2-4125-b029-502955c560ab",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.3 AnonymousIdentityToken"
    },
    {
      "Id": "218d63e1-d33b-4bae-8242-9f8c27c33e3e",
      "Header": "Document: Part 4 - Services\nSection: 7.40.3 AnonymousIdentityToken\n---\n",
      "Content": "The AnonymousIdentityToken is used to indicate that the Client has no user credentials.\n[Table 185](/\u00A7_Ref183190852) defines the AnonymousIdentityToken parameter.\nTable 185- AnonymousIdentityToken\nName\nType\nDescription\nAnonymousIdentityToken\nStructure\nAn anonymous user identity.\npolicyId\nString\nAn identifier for the UserTokenPolicy that the token conforms to.\nThe UserTokenPolicy structure is defined in[7.41](/\u00A7_Ref184567336). Servers that provide a null or empty PolicyId shall accept null or empty and treat them as equal."
    },
    {
      "Id": "08c0b02c-73fe-474b-a59e-bca55619c703",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.4 UserNameIdentityToken"
    },
    {
      "Id": "66738260-059d-44d4-9a35-8f599768a588",
      "Header": "Document: Part 4 - Services\nSection: 7.40.4 UserNameIdentityToken\n---\n",
      "Content": "The UserNameIdentityToken is used to pass simple username/password credentials to the Server.\nThis token shall be encrypted by the Client if required by the SecurityPolicy of the UserTokenPolicy. The Server should specify a SecurityPolicy for the UserTokenPolicy if the SecureChannel has a SecurityPolicy of None and no transport layer encryption is available. If None is specified for the UserTokenPolicy and SecurityPolicy is None then the password only contains the UTF-8 encoded password. The SecurityPolicy of the SecureChannel is used if no SecurityPolicy is specified in the UserTokenPolic y. The Server shall specify a SecurityPolicy for the UserTokenPolicy if the SecureChannel has a SecurityPolicy other than None and the MessageSecurityMode is not SIGNANDENCRYPT. See[Table 187](/\u00A7_Ref367827984) for possible combinations.\nIf the token is to be encrypted the password shall be converted to a UTF-8 ByteString, encrypted and then serialized according to the following rules. When using an RSA based SecurityPolicy and the password exceeds 64 bytes, it is encrypted and serialized as described in[7.40.2.4](/\u00A7_Ref494295034). For passwords that do not exceed 64 bytes, it is encrypted and serialized as described in[7.40.2.2](/\u00A7_Ref482553831). When using the ECC based SecurityPolicies the password is encrypted and serialized as described in[7.40.2.5](/\u00A7_Ref43197004).\nThe Server shall decrypt the password and verify the ServerNonce.\nIf the SecurityPolicy is None"
    },
    {
      "Id": "e7f5ff4d-f087-44cf-8b5f-a549ae86960c",
      "Header": "Document: Part 4 - Services\nSection: 7.40.4 UserNameIdentityToken\n---\n",
      "Content": "SecurityPolicy is None then the password only contains the UTF-8 encoded password. This configuration should not be used unless the network traffic is encrypted in some other manner such as a VPN. The use of this configuration without network encryption would result in a serious security fault, in that it would cause the appearance of a secure user access, but it would make the password visible in clear text.\n[Table 186](/\u00A7_Ref122192489) defines the UserNameIdentityToken parameter.\nTable 186- UserNameIdentityToken\nName\nType\nDescription\nUserNameIdentityToken\nStructure\nUserName value.\npolicyId\nString\nAn identifier for the UserTokenPolicy that the token conforms to.\nThe UserTokenPolicy structure is defined in[7.41](/\u00A7_Ref184567336). Servers that provide a null or empty PolicyId shall accept null or empty and treat them as equal.\nuserName\nString\nA string that identifies the user.\npassword\nByteString\nThe password for the user. The password can be an empty string.\nThe format used for the encrypted data is described in[7.40.2.2](/\u00A7_Ref482553831).\nencryptionAlgorithm\nString\nA string containing the URI of the AsymmetricEncryptionAlgorithm.\nThe URI string values are defined names that may be used as part of the security profiles specified in[OPC 10000-7](/\u00A7UAPart7).\nThis parameter is null or empty if the password is not encrypted.\n\n[Table 187](/\u00A7_Ref367827984) describes the dependencies for selecting the AsymmetricEncryptionAlgorithm for the UserNameIdentityToken. The SecureChannel SecurityPolicy URI is specified in the EndpointDescription and used in subsequent OpenSecureChannel requests. The UserTokenPolicy SecurityPolicy URI is specified in the EndpointDescription"
    },
    {
      "Id": "7e5c12d5-7b41-4ad7-9cb7-15ccfd3bc5a6",
      "Header": "Document: Part 4 - Services\nSection: 7.40.4 UserNameIdentityToken\n---\n",
      "Content": "EndpointDescription. The encryptionAlgorithm is specified in the UserNameIdentityToken or IssuedIdentityToken provided by the Client in the ActivateSession call. The SecurityPolicy Other in the table refers to any SecurityPolicy other than None. The selection of the EncryptionAlgorithm is based on the UserTokenPolicy. The SecureChannel SecurityPolicy is used if the UserTokenPolicy is null or empty. If the SecurityMode is not NONE, it is recommended to use the same SecurityPolicy for the SecureChannel and the user token. The SecurityPolicy used for the user token shall be compatible with the Certificate in the EndpointDescription.\nTable 187- EncryptionAlgorithm selection\nSecureChannel\nSecurityPolicy\nSecureChannel\nSecurityMode\nUserTokenPolicy\nSecurityPolicy\nUserIdentityToken EncryptionAlgorithm\nSecurity Policy - None\nNONE\nNull or empty\nNo encryption(a)\nSecurity Policy - None\nNONE\nSecurity Policy - None\nNo encryption(a)\nSecurity Policy - None\nNONE\nSecurity Policy - Other\nAsymmetric algorithm for \u0022Other\u0022\nSecurity Policy - Other\nOther than NONE\nNull or empty\nAsymmetric algorithm for \u0022Other\u0022\nSecurity Policy - Other\nOther than NONE\nSecurity Policy - Yet another\nAsymmetric algorithm for \u0022Yet another\u0022(b)\nSecurity Policy - Other\nOther than NONE\nSecurity Policy - Other\nAsymmetric algorithm for \u0022Other\u0022\nSecurity Policy - Other\nSIGNANDENCRYPT\nSecurity Policy - None\nNo encryption but encrypted SecureChannel\nSecurity Policy - Other\nSIGN\nSecurity Policy - None\nInvalid configuration shall be rejected.\n(a) The use of this configuration without network encryption would result in a serious security fault.\n(b) This configuration should not be used."
    },
    {
      "Id": "0728dbfb-3541-4a67-a7be-cab8f35063de",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.5 X509IdentityTokens"
    },
    {
      "Id": "57c57627-bd76-4c10-b4cb-c6be24098bac",
      "Header": "Document: Part 4 - Services\nSection: 7.40.5 X509IdentityTokens\n---\n",
      "Content": "The X509IdentityToken is used to pass an X.509 v3 Certificate which is issued by the user.\nThis token shall always be accompanied by a Signature in the userTokenSignature parameter of ActivateSession if required by the SecurityPolicy. The Server should specify a SecurityPolicy for the UserTokenPolicy if the SecureChannel has a SecurityPolicy of None.\nX509IdentityTokens have an validity period and a Server shall invalidate the credentials of the Session within a configurable time after the token expires. The Session shall stay valid with the Anonymous Role. If the Server does not allow anonymous users, it should close the Session. Clients should renew the token with ActivateSession before the expiration time to avoid communication interruption or other operation failures.\n[Table 188](/\u00A7_Ref122192442) defines the X509IdentityToken parameter.\nTable 188- X.509 v3 Identity Token\nName\nType\nDescription\nX509IdentityToken\nstructure\nX.509 v3 value.\npolicyId\nString\nAn identifier for the UserTokenPolicy that the token conforms to.\nThe UserTokenPolicy structure is defined in[7.41](/\u00A7_Ref184567336). Servers that provide a null or empty PolicyId shall accept null or empty and treat them as equal.\ncertificateData\nByteString\nThe X.509 v3 Certificate in DER format."
    },
    {
      "Id": "c8624b69-69b4-4dfd-ae4a-cc243618c81e",
      "Header": "Document: Part 4 - Services\nSection: 7.40 UserIdentityToken parameters\n---\n",
      "Content": "7.40.6 IssuedIdentityToken"
    },
    {
      "Id": "05142021-989e-48b8-ac43-7c540f85b4e8",
      "Header": "Document: Part 4 - Services\nSection: 7.40.6 IssuedIdentityToken\n---\n",
      "Content": "The IssuedIdentityToken is used to pass SecurityTokens issued by an external Authorization Service to the Server. These tokens may be text or binary.\nOAuth2 defines a standard for Authorization Services that produce JSON Web Tokens (JWT). These JWTs are passed as an Issued Token to an OPC UA Server which uses the signature contained in the JWT to validate the token.[OPC 10000-6](/\u00A7UAPart6) describes OAuth2 and JWTs in more detail. If the token is encrypted, it shall use the EncryptedSecret format defined in[7.40.2.3](/\u00A7_Ref482553832).\nThis token shall be encrypted by the Client if required by the SecurityPolicy of the UserTokenPolicy. The Server should specify a SecurityPolicy for the UserTokenPolicy if the SecureChannel has a SecurityPolicy of None and no transport layer encryption is available. The SecurityPolicy of the SecureChannel is used If no SecurityPolicy is specified in the UserTokenPolic y.\nIf the SecurityPolicy is not None, the tokenData shall be encoded in UTF-8 (if it is not already binary), signed and encrypted according the rules specified for the tokenType of the associated UserTokenPolicy(see[7.41](/\u00A7_Ref184567336)).\nIf the SecurityPolicy is None then the tokenData only contains the UTF-8 encoded tokenData. This configuration should not be used unless the network is encrypted in some other manner such as a VPN. The use of this configuration without network encryption would result in a serious security fault, in that it would cause the appearance of a secure user access, but it would make the token visible in clear text.\nIssuedIdentityTokens have an expiration time, and a Server shall invalidate the credentials of the Session"
    },
    {
      "Id": "7a3bdd7a-5c55-4890-9cda-78122326e2ed",
      "Header": "Document: Part 4 - Services\nSection: 7.40.6 IssuedIdentityToken\n---\n",
      "Content": "Session within a configurable time after the token expires. The Session shall stay valid with the Anonymous Role. If the Server does not allow anonymous users, it should close the Session. Clients should renew the token with ActivateSession before the expiration time to avoid communication interruption or other operation failures.\n[Table 189](/\u00A7_Ref153107520) defines the IssuedIdentityToken parameter.\nTable 189- IssuedIdentityToken\nName\nType\nDescription\nIssuedIdentityToken\nstructure\nThe token provided by an Authorization Service.\npolicyId\nString\nAn identifier for the UserTokenPolicy that the token conforms to.\nThe UserTokenPolicy structure is defined in[7.41](/\u00A7_Ref184567336). Servers that provide a null or empty PolicyId shall accept null or empty and treat them as equal.\ntokenData\nByteString\nThe text or binary representation of the token.\nThe format of the data depends on the associated UserTokenPolicy.\nencryptionAlgorithm\nString\nThe URI of the AsymmetricEncryptionAlgorithm.\nThe list of OPC UA-defined names that may be used is specified in[OPC 10000-7](/\u00A7UAPart7).\nSee[Table 187](/\u00A7_Ref367827984) for details on picking the correct URI.\nThis parameter is null or empty if the tokenData is not encrypted or if the EncryptedSecret format is used."
    },
    {
      "Id": "6fca275e-eef2-4f8f-8792-1bd6e58c4585",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.41 UserTokenPolicy"
    },
    {
      "Id": "5ff01c1d-e559-4fe4-badd-79a3053061bb",
      "Header": "Document: Part 4 - Services\nSection: 7.41 UserTokenPolicy\n---\n",
      "Content": "The components of this parameter are defined in[Table 190](/\u00A7_Ref128244140).\nTable 190- UserTokenPolicy\nName\nType\nDescription\nUserTokenPolicy\nstructure\nSpecifies a UserIdentityToken that a Server will accept.\npolicyId\nString\nAn identifier for the UserTokenPolicy assigned by the Server. The identifier may be null or empty. Null or empty are equal. The identifier shall be unique across the UserTokenPolicies assigned by the Server.\nThe Client specifies this value when it constructs a UserIdentityToken that conforms to the policy.\nThis value is only unique within the context of a single Server.\ntokenType\nEnum\nUser TokenType\nThe type of user identity token required. The UserTokenType is defined in[7.42](/\u00A7_Ref43034466)\nA tokenType of ANONYMOUS indicates that the Server does not require any user identification. In this case, the Client ApplicationInstanceCertificate is used as the user identification.\nissuedTokenType\nString\nA URI for the type of token.\n[OPC 10000-6](/\u00A7UAPart6) defines URIs for common issued token types.\nVendors may specify their own token types.\nThis field may only be specified if TokenType is ISSUEDTOKEN.\nissuerEndpointUrl\nString\nAn optional string which depends on the Authorization Service.\nThe meaning of this value depends on the issuedTokenType. Further details for the different token types are defined in[OPC 10000-6](/\u00A7UAPart6).\nFor JWTs this is a JSON object with fields defined in[OPC 10000-6](/\u00A7UAPart6).\nsecurityPolicyUri\nString\nThe security policy to use when encrypting or signing the UserIdentityToken"
    },
    {
      "Id": "0f6bb0de-1bc3-4cea-a8ff-0106e08cfe23",
      "Header": "Document: Part 4 - Services\nSection: 7.41 UserTokenPolicy\n---\n",
      "Content": "UserIdentityToken when it is passed to the Server in the ActivateSession request. Clause[7.40](/\u00A7_Ref128235836) describes how this parameter is used.\nThe security policy for the SecureChannel is used if this value is null or empty."
    },
    {
      "Id": "a94b4e20-c67a-41fe-8309-7f75dadf651b",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.42 UserTokenType"
    },
    {
      "Id": "c312ed27-7d52-4e66-ae67-ced44d746d8c",
      "Header": "Document: Part 4 - Services\nSection: 7.42 UserTokenType\n---\n",
      "Content": "The UserTokenType is an enumeration that specifies the user identity token type. The possible values are described in[Table 191](/\u00A7_Ref43034490).\nTable 191- UserTokenType values\nName\nValue\nDescription\nANONYMOUS\n0\nNo token is required.\nUSERNAME\n1\nA username/password token.\nCERTIFICATE\n2\nAn X.509 v3 Certificate token.\nISSUEDTOKEN\n3\nAny token issued by an Authorization Service."
    },
    {
      "Id": "2c0f88a0-b919-4580-95ec-630dc8c1d9bf",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.43 VersionTime"
    },
    {
      "Id": "2e48bbcc-3f5b-4540-9960-d5810e8ca1c9",
      "Header": "Document: Part 4 - Services\nSection: 7.43 VersionTime\n---\n",
      "Content": "This primitive data type is a UInt32 that represents the time in seconds since the year 2000. The epoch date is midnight UTC (00:00) on January 1, 2000.\nIt is used as version number based on the last change time. If the version is updated, the new value shall be greater than the previous value.\nIf a Variable is initialized with a VersionTime value, the value shall be either loaded from persisted configuration or time synchronization shall be available to ensure a unique version is applied.\nThe value 0 is used to indicate that no version information is available."
    },
    {
      "Id": "0cc46f00-bae3-4e28-9e7c-54ceadf98cf1",
      "Header": "Document: Part 4 - Services\nSection: 7 Common parameter type definitions\n---\n",
      "Content": "7.44 ViewDescription"
    },
    {
      "Id": "e2cd468e-a17b-49b2-a209-ea3eee58fff8",
      "Header": "Document: Part 4 - Services\nSection: 7.44 ViewDescription\n---\n",
      "Content": "The components of this parameter are defined in[Table 192](/\u00A7_Ref141201840).\nTable 192- ViewDescription\nName\nType\nDescription\nViewDescription\nstructure\nSpecifies a View.\nviewId\nNodeId\nNodeId of the View to Query. A null value indicates the entire AddressSpace.\ntimestamp\n\nUtcTime\nThe time date desired. The corresponding version is the one with the closest previous creation timestamp. Either the Timestamp or the viewVersion parameter may be set by a Client, but not both. If ViewVersion is set this parameter shall be null.\nviewVersion\nUInt32\nThe version number for the View desired. When Nodes are added to or removed from a View, the value of a View\u0027s ViewVersion Property is updated. Either the Timestamp or the viewVersion parameter may be set by a Client, but not both. The ViewVersion Property is defined in[OPC 10000-3](/\u00A7UAPart3). If timestamp is set this parameter shall be 0. The current view is used if timestamp is null and viewVersion is 0."
    },
    {
      "Id": "71c0cd3f-1376-4c65-8244-9ffdba5e7d87",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "Annex\u00A0A(informative)BNF definitions\nA.1 Overview over BNF"
    },
    {
      "Id": "dea984db-657c-4683-882e-0b92516c2c92",
      "Header": "Document: Part 4 - Services\nSection: A.1 Overview over BNF\n---\n",
      "Content": "The BNF (Backus-Naur form) used in this annex uses \u0060\u003C\u00B4 and \u0060\u003E\u00B4 to mark symbols, \u0060[\u00B4 and \u0060]\u00B4 to identify optional paths and \u0060|\u00B4 to identify alternatives. If the \u0027(\u0027 and \u0027)\u0027 symbols are used, it indicates sets."
    },
    {
      "Id": "ab152a66-5aae-45d2-9704-d648b11050cb",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "A.2 BNF of RelativePath"
    },
    {
      "Id": "23914d8b-154e-4967-b8b6-8f49367fd010",
      "Header": "Document: Part 4 - Services\nSection: A.2 BNF of RelativePath\n---\n",
      "Content": "A RelativePath is a structure that describes a sequence of References and Nodes to follow. This annex describes a text format for a RelativePath that can be used in documentation or in files used to store configuration information.\nThe components of a RelativePath text format are specified in[Table A.1](/\u00A7_Ref179408330).\nTable A. 1- RelativePath\nSymbol\nMeaning\n/\nThe forward slash character indicates that the Server is to follow any subtype of HierarchicalReferences.\n.\nThe period (dot) character indicates that the Server is to follow any subtype of a Aggregates ReferenceType.\n\u003C[#!ns:]ReferenceType\u003E\nA string delimited by the \u0027\u003C\u0027 and \u0027\u003E\u0027 symbols specifies the BrowseName of a ReferenceType to follow. By default, any References of the subtypes the ReferenceType are followed as well. A \u0027#\u0027 placed in front of the BrowseName indicates that subtypes should not be followed.\nA \u0027!\u0027 in front of the BrowseName is used to indicate that the inverse Reference should be followed.\nThe BrowseName may be qualified with a namespace index (indicated by a numeric prefix followed by a colon). This namespace index is used specify the namespace component of the BrowseName for the ReferenceType. If the namespace prefix is omitted then namespace index 0 is used.\n[ns:]BrowseName\nA string that follows a \u0027/\u0027, \u0027.\u0027 or \u0027\u003E\u0027 symbol specifies the BrowseName of a target Node to return or follow. This BrowseName may be prefixed by its namespace index. If the namespace prefix is omitted then namespace index 0 is used.\nOmitting the final BrowseName from a path is equivalent to a wildcard operation that matches all Nodes which are the target of the Reference specified by the path.\n\u0026"
    },
    {
      "Id": "b3393c54-6c5e-4dbe-926a-c4eacaff5335",
      "Header": "Document: Part 4 - Services\nSection: A.2 BNF of RelativePath\n---\n",
      "Content": "\u0026\nThe \u0026 sign character is the escape character. It is used to specify reserved characters that appear within a BrowseName. A reserved character is escaped by inserting the \u0027\u0026\u0027 in front of it. Examples of BrowseNames with escaped characters are:\nReceived browse path name Resolves to\n\u0022\u0026/Name_1\u0022\u0022/Name_1\u0022\n\u0022\u0026.Name_2\u0022\u0022.Name_2\u0022\n\u0022\u0026:Name_3\u0022\u0022:Name_3\u0022\n\u0022\u0026\u0026Name_4\u0022\u0022\u0026Name_4\u0022\n\n[Table A.2](/\u00A7_Ref179408349) provides RelativePaths examples in text format.\nTable A. 2- RelativePath Examples\nBrowse Path\nDescription\n\u0022/2:Block\u0026.Output\u0022\nFollows any forward hierarchical Reference with target BrowseName = \u00222:Block.Output\u0022.\n\u0022/3:Truck.0:NodeVersion\u0022\nFollows any forward hierarchical Reference with target BrowseName = \u00223:Truck\u0022 and from there a forward Aggregates Reference to a target with BrowseName\u00220:NodeVersion\u0022.\n\u0022\u003C1:ConnectedTo\u003E1:Boiler/1:HeatSensor\u0022\nFollows any forward Reference with a BrowseName = \u00271:ConnectedTo\u0027 and finds targets with BrowseName = \u00271:Boiler\u0027. From there follows any hierarchical Reference and find targets with BrowseName = \u00271:HeatSensor\u0027.\n\u0022\u003C1:ConnectedTo\u003E1:Boiler/\u0022\nFollows any forward Reference with a BrowseName = \u00271:ConnectedTo\u0027 and finds targets with BrowseName = \u00271:Boiler\u0027. From there it finds all targets of hierarchical References.\n\u0022\u003C0:HasChild\u003E2:Wheel\u0022\nFollows any forward Reference with a BrowseName = \u0027HasChild\u0027 and qualified with the default OPC UA namespace. Then find targets with"
    },
    {
      "Id": "cef8080c-f0c0-433a-9f34-cf70755b6fb2",
      "Header": "Document: Part 4 - Services\nSection: A.2 BNF of RelativePath\n---\n",
      "Content": "BrowseName = \u0027Wheel\u0027 qualified with namespace index \u00272\u0027.\n\u0022\u003C!HasChild\u003ETruck\u0022\nFollows any inverse Reference with a BrowseName = \u0027HasChild\u0027. Then find targets with BrowseName = \u0027Truck\u0027. In both cases, the namespace component of the BrowseName is assumed to be 0.\n\u0022\u003C0:HasChild\u003E\u0022\nFinds all targets of forward References with a BrowseName = \u0027HasChild\u0027 and qualified with the default OPC UA namespace.\n\nThe following BNF describes the syntax of the RelativePath text format.\n\u003Crelative-path\u003E::= \u003Creference-type\u003E \u003Cbrowse-name\u003E [relative-path]\n\n\u003Creference-type\u003E::= \u0027/\u0027 | \u0027.\u0027 | \u0027\u003C\u0027 [\u0027#\u0027] [\u0027!\u0027] \u003Cbrowse-name\u003E \u0027\u003E\u0027\n\n\u003Cbrowse-name\u003E::= [\u003Cnamespace-index\u003E \u0027:\u0027] \u003Cname\u003E\n\n\u003Cnamespace-index\u003E::= \u003Cdigit\u003E [\u003Cdigit\u003E]\n\n\u003Cdigit\u003E::= \u00270\u0027 | \u00271\u0027 | \u00272\u0027 | \u00273\u0027 | \u00274\u0027 | \u00275\u0027 | \u00276\u0027 | \u00277\u0027 | \u00278\u0027 | \u00279\u0027\n\n\u003Cname\u003E::= (\u003Cname-char\u003E | \u0027\u0026\u0027 \u003Creserved-char\u003E) [\u003Cname\u003E]\n\n\u003Creserved-char\u003E::= \u0027/\u0027 | \u0027.\u0027 | \u0027\u003C\u0027 | \u0027\u003E\u0027 | \u0027:\u0027 | \u0027#\u0027 | \u0027!\u0027 | \u0027\u0026\u0027\n\n\u003Cname-char\u003E::= All valid characters for a String (see[OPC 10000-3](/\u00A7UAPart3)) excluding reserved-chars."
    },
    {
      "Id": "3aec560b-c0a6-41c2-be7b-cf1b4e5c1c23",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "A.3 BNF of NumericRange"
    },
    {
      "Id": "ad0f7035-79e5-4ff9-a787-8e5316efd474",
      "Header": "Document: Part 4 - Services\nSection: A.3 BNF of NumericRange\n---\n",
      "Content": "The following BNF describes the syntax of the NumericRange parameter type.\n\u003Cnumeric-range\u003E::= \u003Cdimension\u003E | \u003Cdimension\u003E \u0027,\u0027 \u003Cnumeric-range\u003E\n\n\u003Cdimension\u003E::= \u003Cindex\u003E | \u003Cindex\u003E \u0027:\u0027 \u003Cdimension\u003E\n\n\u003Cindex\u003E::= \u003Cdigit\u003E | \u003Cdigit\u003E \u003Cindex\u003E\n\n\u003Cdigit\u003E::= \u00270\u0027 | \u00271\u0027 | \u00272\u0027 | \u00273\u0027 | \u00274\u0027 | \u00275\u0027 | \u00276\u0027 | \u00277\u0027 | \u00278\u0027 | \u00279\u0027"
    },
    {
      "Id": "cfebb941-2205-4443-8e09-c9b695a3823e",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "Annex\u00A0B(informative)ContentFilter and Query examples\nB.1 Simple ContentFilter examples"
    },
    {
      "Id": "22a1ad04-2a41-434a-bb5a-28299e8064ba",
      "Header": "Document: Part 4 - Services\nSection: B.1 Simple ContentFilter examples\n---\n",
      "Content": "B.1.1 Overview"
    },
    {
      "Id": "9bd37fc9-69be-4c49-87d8-e6113726811f",
      "Header": "Document: Part 4 - Services\nSection: B.1.1 Overview\n---\n",
      "Content": "These examples provide fairly simple ContentFilters. Filter similar to these examples may be used in processing events.\nThe following conventions apply to these examples with regard to how Attribute operands are used (for a definition of this operand see[7.7.4](/\u00A7_Ref132018533)):\nAttributeOperand: Refers to a Node, an Attribute of a Node or the Value Attribute of a Property associated with a Node. In the examples, the character names of NodeIds are used instead of an actual nodeId, this also applies to Attribute Ids.\nThe string representation of relative paths is used instead of the actual structure.\nThe NamespaceIndex used in all examples is 12 (it could just as easily have been 4 or 23 or any value). For more information about NamespaceIndex, see[OPC 10000-3](/\u00A7UAPart3). The use of the NamespaceIndex illustrates that the information model being used in the examples is not a model defined by this document, but one created for the examples."
    },
    {
      "Id": "0e88fb5d-c755-456c-bcb9-3d576d9cdd2c",
      "Header": "Document: Part 4 - Services\nSection: B.1 Simple ContentFilter examples\n---\n",
      "Content": "B.1.2 Example 1"
    },
    {
      "Id": "8e091991-1a38-4086-8263-ded4b07e5f7b",
      "Header": "Document: Part 4 - Services\nSection: B.1.2 Example 1\n---\n",
      "Content": "For example the logic describe by \u0027(((AType.A = 5) or InList(BType.B, 3,5,7)) and BaseObjectType.displayName LIKE \u0022Main%\u0022)\u0027 would result in a logic tree as shown in[Figure B.1](/\u00A7_Ref180476909) and a ContentFilter as shown in[Table B.1](/\u00A7_Ref180476910). For this example to return anything AType and BType both shall be subtypes of BaseObjectType, or the resulting \u0022And\u0022 operation would always be false."
    },
    {
      "Id": "efa54f8f-1d4b-4dd0-a241-97444a2b9374",
      "Header": "Document: Part 4 - Services\nSection: B.1.2 Example 1\nCaption: Figure B. 1 - Filter logic tree example\n---\n",
      "Content": "[image043.png](images/image043.png)"
    },
    {
      "Id": "7ebef8e6-9670-4195-8e7c-ac4f55d570cc",
      "Header": "Document: Part 4 - Services\nSection: B.1.2 Example 1\n---\n",
      "Content": "Figure B. 1 - Filter logic tree example\n[Table B.1](/\u00A7_Ref180476910) describes the elements, operators and operands used in the example.\nTable B. 1- ContentFilter example\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nAnd\nElementOperand = 1\nElement Operand = 4\n\n\n1\nOr\nElementOperand = 2\nElement Operand = 3\n\n\n2\nEquals\nAttributeOperand = NodeId: AType, BrowsePath: \u0022.12:A\u0022,\nAttribute:value\nLiteralOperand = \u00275\u0027\n\n\n3\nInList\nAttributeOperand = NodeId: BType, BrowsePath: \u0022.12:B\u0022,\nAttribute:value\nLiteralOperand = \u00273\u0027\nLiteralOperand = \u00275\u0027\nLiteralOperand = \u00277\u0027\n4\nLike\nAttributeOperand = NodeId: BaseObjectType, BrowsePath: \u0022.\u0022, Attribute: displayName\nLiteralOperand = \u0022Main%\u0022"
    },
    {
      "Id": "88f80c38-f566-42d6-ad8e-61213ffb2bc3",
      "Header": "Document: Part 4 - Services\nSection: B.1 Simple ContentFilter examples\n---\n",
      "Content": "B.1.3 Example 2"
    },
    {
      "Id": "ff571614-2789-41cb-b36f-b7902bdec456",
      "Header": "Document: Part 4 - Services\nSection: B.1.3 Example 2\n---\n",
      "Content": "As another example a filter to select all SystemEvents(including derived types) that are contained in the Area1 View or the Area2 View would result in a logic tree as shown in[Figure B.2](/\u00A7_Ref180476572) and a ContentFilter as shown in[Table B.2](/\u00A7_Ref180476811)."
    },
    {
      "Id": "bae42167-069a-4314-8ec7-a97b65a42183",
      "Header": "Document: Part 4 - Services\nSection: B.1.3 Example 2\nCaption: Figure B. 2 - Filter logic tree example\n---\n",
      "Content": "[image044.png](images/image044.png)"
    },
    {
      "Id": "2a0e36e5-2bc1-417c-87ef-846ab6ba5f5c",
      "Header": "Document: Part 4 - Services\nSection: B.1.3 Example 2\n---\n",
      "Content": "Figure B. 2 - Filter logic tree example\n[Table B.2](/\u00A7_Ref180476811) describes the elements, operators and operands used in the example.\nTable B. 2- ContentFilter example\nElement[]\nOperator\nOperand[0]\nOperand[1]\n0\nAnd\nElementOperand = 1\nElementOperand = 4\n1\nOr\nElementOperand = 2\nElementOperand = 3\n2\nInView\nAttributeOperand = NodeId: Area1, BrowsePath: \u0022.\u0022, Attribute: NodeId\n\n3\nInView\nAttributeOperand = NodeId: Area2, BrowsePath: \u0022.\u0022, Attribute: NodeId\n\n4\nOfType\nAttributeOperand = NodeId: SystemEventType, BrowsePath: \u0022.\u0022, Attribute: NodeId\u0022"
    },
    {
      "Id": "072617a9-a25f-43d9-8cdd-26c33c00666f",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "B.2 Query Service Set"
    },
    {
      "Id": "91a2c6d3-6fdd-4b0d-9ce5-c5b3b232d485",
      "Header": "Document: Part 4 - Services\nSection: B.2 Query Service Set\n---\n",
      "Content": "B.2.1 Overview"
    },
    {
      "Id": "589b37f5-b42c-4fe9-9d4b-1045019bde4e",
      "Header": "Document: Part 4 - Services\nSection: B.2.1 Overview\n---\n",
      "Content": "This deprecated Service Set is used to issue a Query to a Server. OPC UA Query is generic in that it provides an underlying storage mechanism independent Query capability that can be used to access a wide variety of OPC UA data stores and information management systems. OPC UA Query permits a Client to access data maintained by a Server without any knowledge of the logical schema used for internal storage of the data. Knowledge of the AddressSpace is sufficient.\nAn OPC UA Application is expected to use the OPC UA Query Services as part of an initialization process or an occasional information synchronization step. For example, OPC UA Query would be used for bulk data access of a persistent store to initialise an analysis application with the current state of a system configuration. A Query may also be used to initialise or populate data for a report.\nA Query defines what instances of one or more TypeDefinitionNodes in the AddressSpace should supply a set of Attributes. Results returned by a Server are in the form of an array of QueryDataSets. The selected Attribute values in each QueryDataSet come from the definition of the selected TypeDefinitionNodes or related TypeDefinitionNodes and appear in results in the same order as the Attributes that were passed into the Query. Query also supports Node filtering on the basis of Attribute values, as well as relationships between TypeDefinitionNodes."
    },
    {
      "Id": "3e43632a-a1dc-4e04-aabf-5c5b872bfe7a",
      "Header": "Document: Part 4 - Services\nSection: B.2 Query Service Set\n---\n",
      "Content": "B.2.2 Querying Views"
    },
    {
      "Id": "18f1dba8-a8df-459b-89bc-a2bbccfff420",
      "Header": "Document: Part 4 - Services\nSection: B.2.2 Querying Views\n---\n",
      "Content": "A View is a subset of the AddressSpace available in the Server. See[OPC 10000-5](/\u00A7UAPart5) for a description of the organization of Views in the AddressSpace.\nFor any existing View, a Query may be used to return a subset of data from the View. When an application issues a Query against a View, only data defined by the View is returned. Data not included in the View but included in the original AddressSpace is not returned.\nThe Query Services supports access to current and historical data. The Service supports a Client querying a past version of the AddressSpace. Clients may specify a ViewVersion or a Timestamp in a Query to access past versions of the AddressSpace. OPC UA Query is complementary to Historical Access in that the former is used to Query an AddressSpace that existed at a time and the latter is used to Query for the value of Attributes over time. In this way, a Query can be used to retrieve a portion of a past AddressSpace so that Attribute value history may be accessed using Historical Access even if the Node is no longer in the current AddressSpace.\nServers that support Query are expected to be able to access the AddressSpace that is associated with the local Server and any Views that are available on the local Server. If a View or the AddressSpace also references a remote Server, query may be able to access the AddressSpace of the remote Server, but it is not required. If a Server does access a remote Server the access is accomplished using the user identity of the Client as described in[5.6.1](/\u00A7_Ref151214290)."
    },
    {
      "Id": "db8b9550-3194-4fe7-b8d9-724d72e25bb1",
      "Header": "Document: Part 4 - Services\nSection: B.2 Query Service Set\n---\n",
      "Content": "B.2.3 QueryFirst"
    },
    {
      "Id": "a807c0a2-d288-4539-a5c2-eb17e201c5dc",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "This Service is used to issue a Query request to the Server. The complexity of the Query can range from very simple to highly sophisticated. The Query can simply request data from instances of a TypeDefinitionNode or TypeDefinitionNode subject to restrictions specified by the filter. On the other hand, the Query can request data from instances of related Node types by specifying a RelativePath from an originating TypeDefinitionNode. In the filter, a separate set of paths can be constructed for limiting the instances that supply data. A filtering path can include multiple RelatedTo operators to define a multi-hop path between source instances and target instances. For example, one could filter on students that attend a particular school, but return information about students and their families. In this case, the student school relationship is traversed for filtering, but the student family relationship is traversed to select data. For a complete description of ContentFilter see[7.7](/\u00A7_Ref132019059), also see Clause[B.1](/\u00A7_Ref188668154) for simple examples and Clause[B.2](/\u00A7_Ref188668219) for more complex examples of content filter and queries.\nThe Client provides an array of NodeTypeDescription which specify the NodeId of a TypeDefinitionNode and selects what Attributes are to be returned in the response. A Client can also provide a set of RelativePaths through the type system starting from an originating TypeDefinitionNode. Using these paths, the Client selects a set of Attributes from Nodes that are related to instances of the originating TypeDefinitionNode. Additionally, the Client can request the Server return instances of subtypes of TypeDefinitionNodes. If a selected Attribute does not exist in a TypeDefinitionNode but does exist in a subtype, it is assumed to have a null value in the TypeDefinitionNode"
    },
    {
      "Id": "b805dcfa-e4c8-496e-a5d5-3a2b01ab1100",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "TypeDefinitionNode in question. Therefore, this does not constitute an error condition and a null value is returned for the Attribute.\nThe Client can use the filter parameter to limit the result set by restricting Attributes and Properties to certain values. Another way the Client can use a filter to limit the result set is by specifying how instances should be related, using RelatedTo operators. In this case, if an instance at the top of the RelatedTo path cannot be followed to the bottom of the path via specified hops, no QueryDataSets are returned for the starting instance or any of the intermediate instances.\nWhen querying for related instances in the RelativePath, the Client can optionally ask for References. A Reference is requested via a RelativePath that only includes a ReferenceType. If all References are desired than the root ReferenceType is listed. These References are returned as part of the QueryDataSets.\nQuery Services allow a special handling of the targetName field in the RelativePath. In several Query use cases a type NodeId is necessary in the path instead of a QualifiedName. Therefore the Client is allowed to specify a NodeId in the QualifiedName. This is done by setting the namespaceIndex of the targetName to zero and the name part of the targetName to the XML representation of the NodeId. The XML representation is defined in[OPC 10000-6](/\u00A7UAPart6). When matching instances are returned as the target node, the target node should be an instance of the specified type or subtype of the specified type.\n[Table B.3](/\u00A7_Ref136942240) defines the request parameters and[Table B.4](/\u00A7_Ref136942241) the response parameters for the QueryFirst Service.\nTable B. 3- QueryFirst Request Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequestHeader"
    },
    {
      "Id": "34b21f18-7a50-48f2-84fc-e3d8cbc458e1",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "requestHeader\nRequestHeader\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nView\nViewDescription\nSpecifies a View and temporal context to a Server(see[7.44](/\u00A7_Ref141201863) for ViewDescription definition).\nnodeTypes []\nNodeTypeDescription\nThis is the Node type description. This structure is defined in-line with the following indented items.\ntypeDefinitionNode\nExpandedNodeId\nNodeId of the originating TypeDefinitionNode of the instances for which data is to be returned.\nincludeSubTypes\nBoolean\nA flag that indicates whether the Server should include instances of subtypes of the TypeDefinitionNode in the list of instances of the Node type.\ndataToReturn []\nQueryDataDescription\nSpecifies an Attribute or Reference from the originating typeDefinitionNode along a given relativePath for which to return data. This structure is defined in-line with the following indented items.\nrelativePath\nRelativePath\nBrowse path relative to the originating Node that identifies the Node which contains the data that is being requested, where the originating Node is an instance Node of the type defined by the type definition Node. The instance Nodes are further limited by the filter provided as part of this call. For a definition of relativePath see[7.30](/\u00A7_Ref139474657).\nThis relative path could end on a Reference, in which case the ReferenceDescription of the Reference would be returned as its value.\nThe targetName field of the relativePath may contain a type NodeId. This is done by setting the namespaceIndex of the targetName to zero and the name part of the targetName to the XML representation of the NodeId. The XML representation is defined in[OPC 10000-6](/\u00A7UAPart6)."
    },
    {
      "Id": "0dd209ae-812d-4c53-a3a2-04658401d2e5",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": ".\nWhen matching instances are returned as the target node, the target node should be an instance of the specified type or subtype of the specified type.\nattributeId\nIntegerId\nId of the Attribute. This should be a valid Attribute Id. The IntegerId is defined in[7.19](/\u00A7_Ref128929614). The IntegerId for Attributes are defined in[OPC 10000-6](/\u00A7UAPart6). If the RelativePath ended in a Reference then this parameter is 0 and ignored by the Server.\nindexRange\nNumericRange\nThis parameter is used to identify a single element of a structure or an array, or a single range of indexes for arrays. If a range of elements are specified, the values are returned as a composite. The first element is identified by index 0 (zero). The NumericRange type is defined in[7.27](/\u00A7_Ref129174867).\nThis parameter is null or empty if the specified Attribute is not an array or a structure. However, if the specified Attribute is an array or a structure, and this parameter is null or empty, then all elements are to be included in the range.\nFilter\nContentFilter\nResulting Nodes should be limited to the Nodes matching the criteria defined by the filter. ContentFilter is discussed in[7.7](/\u00A7_Ref132019059). If an empty filter is provided then the entire AddressSpace should be examined and all Nodes that contain a matching requested Attribute or Reference are returned.\nmaxDataSetsToReturn\nCounter\nThe number of QueryDataSets that the Client wants the Server to return in the response and on each subsequent continuation call response. The Server is allowed to further limit the response, but should not exceed this limit.\nA value of 0 indicates that the Client"
    },
    {
      "Id": "b030e254-245b-4d3c-b63e-653b91814b07",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "Client is imposing no limitation.\nmaxReferencesToReturn\nCounter\nThe number of References that the Client wants the Server to return in the response for each QueryDataSet and on each subsequent continuation call response. The Server is allowed to further limit the response, but should not exceed this limit.\nA value of 0 indicates that the Client is imposing no limitation.\nFor example a result where 4 Nodes are being returned, but each has 100 References, if this limit were set to 50 then only the first 50 References for each Node would be returned on the initial call and a continuation point would be set indicating additional data.\n\nTable B. 4- QueryFirst Response Parameters\nName\nType\nDescription\nResponse\n\n\nresponseHeader\nResponseHeader\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nqueryDataSets []\nQueryDataSet\nThe array of QueryDataSets. This array is empty if no Nodes or References met the nodeTypes criteria. In this case the continuationPoint parameter should be empty.\nThe QueryDataSet type is defined in[B.2.5](/\u00A7_Ref141617868).\ncontinuationPoint\nContinuationPoint\nServer-defined opaque value that identifies the continuation point.\nThe continuation point is used only when the Query results are too large to be returned in a single response. \u0022Too large\u0022 in this context means that the Server is not able to return a larger response or that the number of QueryDataSets to return exceeds the maximum number of QueryDataSets to return that was specified by the Client in the request.\nThe continuation point is used in the QueryNext Service. When not used, the value of this parameter is null or empty. If a continuation point is returned, the Client should call QueryNext to get the next set of"
    },
    {
      "Id": "21d8fbd1-3f72-4512-a48b-263b2f89ea83",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "QueryDataSets or to free the resources for the continuation point in the Server.\nA continuation point should remain active until the Client passes the continuation point to QueryNext or the session is closed. If the maximum continuation points have been reached the oldest continuation point should be reset.\nThe ContinuationPoint type is described in[7.9](/\u00A7_Ref183360083).\nparsingResults[]\nParsingResult\nList of parsing results for QueryFirst. The size and order of the list matches the size and order of the NodeTypes request parameter. This structure is defined in-line with the following indented items.\nThis list is populated with any status codes that are related to the processing of the node types that are part of the query. The array can be empty if no errors where encountered. If any node type encountered an error all node types should have an associated status code.\nstatusCode\nStatusCode\nParsing result for the requested NodeTypeDescription.\ndataStatusCodes []\nStatusCode\nList of results for dataToReturn. The size and order of the list matches the size and order of the dataToReturn request parameter. The array can be empty if no errors where encountered.\ndataDiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information dataToReturn(see[7.12](/\u00A7_Ref127334266) for DiagnosticInfo definition). The size and order of the list matches the size and order of the dataToReturn request parameter. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the query request.\ndiagnosticInfos []\nDiagnosticInfo\nList of diagnostic information for the requested NodeTypeDescription. This list is empty if diagnostics information was not requested in the request header or if no diagnostic information was encountered in processing of the query request.\nfilterResult\nContentFilter\nResult"
    },
    {
      "Id": "96ec9dcf-2df4-47f9-b526-2c0166344e44",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "ContentFilter\nResult\nA structure that contains any errors associated with the filter.\nThis structure should be empty if no errors occurred.\nThe ContentFilterResult type is defined in[7.7.2](/\u00A7_Ref180477313).\n\nIf the Query is invalid or cannot be processed, then QueryDataSets are not returned and only a Service result, filterResult, parsingResults and optional DiagnosticInfo is returned.[Table B.5](/\u00A7_Ref136942239) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable B. 5- QueryFirst Service Result Codes\nSymbolic Id\nDescription\nBad_NothingToDo\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_TooManyOperations\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ContentFilterInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_ViewIdUnknown\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewTimestampInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewParameterMismatchInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_ViewVersionInvalid\nSee[Table 176](/\u00A7_Ref90539276) for the description of this result code.\nBad_InvalidFilter\nThe provided filter is invalid, see the filterResult for specific errors\nBad_NodelistError"
    },
    {
      "Id": "e05c3964-43f1-4521-ad80-eb34a68c2113",
      "Header": "Document: Part 4 - Services\nSection: B.2.3 QueryFirst\n---\n",
      "Content": "Bad_NodelistError\nThe NodeTypes provided contain an error, see the parsingResults for specific errors\nBad_InvalidView\nThe provided ViewDescription is not a valid ViewDescription.\nGood_ResultsMayBeIncomplete\nThe Server should have followed a reference to a node in a remote Server but did not. The result set may be incomplete.\n\n[Table B.6](/\u00A7_Ref187578114) defines values for the parsingResults statusCode parameter that are specific to this Service. Common StatusCodes are defined in[Table 177](/\u00A7_Ref127606591).\nTable B. 6- QueryFirst Operation Level Result Codes\nSymbolic Id\nDescription\nBad_NodeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NodeIdUnknown\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_NotTypeDefinition\nThe provided NodeId was not a type definition NodeId.\nBad_AttributeIdInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code.\nBad_IndexRangeInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "c7aeac9a-48e6-4002-b24a-31519484dc2d",
      "Header": "Document: Part 4 - Services\nSection: B.2 Query Service Set\n---\n",
      "Content": "B.2.4 QueryNext"
    },
    {
      "Id": "651f601b-d281-427a-8572-2f7e2c210efa",
      "Header": "Document: Part 4 - Services\nSection: B.2.4 QueryNext\n---\n",
      "Content": "This Service is used to request the next set of QueryFirst or QueryNext response information that is too large to be sent in a single response. \u0022Too large\u0022 in this context means that the Server is not able to return a larger response or that the number of QueryDataSets to return exceeds the maximum number of QueryDataSets to return that was specified by the Client in the original request. The QueryNext should be submitted on the same session that was used to submit the QueryFirst or QueryNext that is being continued.\n[Table B.7](/\u00A7_Ref136942238) defines the parameters for the Service.\nTable B. 7- QueryNext Service Parameters\nName\nType\nDescription\nRequest\n\n\nrequestHeader\nRequest Header\nCommon request parameters (see[7.32](/\u00A7_Ref129000063) for RequestHeader definition).\nreleaseContinuationPoint\nBoolean\nA Boolean parameter with the following values:\nTRUE passed continuationPoint should be reset to free resources for the continuation point in the Server.\nFALSE passed continuationPoint should be used to get the next set of QueryDataSets.\nA Client should always use the continuation point returned by a QueryFirst or QueryNext response to free the resources for the continuation point in the Server. If the Client does not want to get the next set of Query information, QueryNext should be called with this parameter set to TRUE.\nIf the parameter is set to TRUE all array parameters in the response should contain empty arrays.\ncontinuationPoint\nContinuationPoint\nServer defined opaque value that represents the continuation point. The value of the continuation point was returned to the Client in a previous QueryFirst or QueryNext response. This value is used to identify the previously processed QueryFirst or QueryNext"
    },
    {
      "Id": "be5dbdac-d9d0-4767-b092-d77b14c17a38",
      "Header": "Document: Part 4 - Services\nSection: B.2.4 QueryNext\n---\n",
      "Content": "QueryFirst or QueryNext request that is being continued, and the point in the result set from which the browse response is to continue.\nThe ContinuationPoint type is described in[7.9](/\u00A7_Ref183360083).\n\n\n\nResponse\n\n\nresponseHeader\nResponse Header\nCommon response parameters (see[7.33](/\u00A7_Ref115239340) for ResponseHeader definition).\nqueryDataSets []\nQueryDataSet\nThe array of QueryDataSets.\nThe QueryDataSet type is defined in[B.2.5](/\u00A7_Ref141617868).\nrevisedContinuationPoint\nContinuationPoint\nServer-defined opaque value that represents the continuation point. It is used only if the information to be returned is too large to be contained in a single response. When not used or when releaseContinuationPoint is set, the value of this parameter is null or empty.\nThe ContinuationPoint type is described in[7.9](/\u00A7_Ref183360083).\n\n[Table B.8](/\u00A7_Ref136942237) defines the Service results specific to this Service. Common StatusCodes are defined in[Table 176](/\u00A7_Ref90539276).\nTable B. 8- QueryNext Service Result Codes\nSymbolic Id\nDescription\nBad_ContinuationPointInvalid\nSee[Table 177](/\u00A7_Ref127606591) for the description of this result code."
    },
    {
      "Id": "ca2ae338-d8bc-474f-b291-3c9505676985",
      "Header": "Document: Part 4 - Services\nSection: B.2 Query Service Set\n---\n",
      "Content": "B.2.5 QueryDataSet"
    },
    {
      "Id": "7371ef2f-f891-4043-b773-897ceed671fd",
      "Header": "Document: Part 4 - Services\nSection: B.2.5 QueryDataSet\n---\n",
      "Content": "The components of this parameter are defined in[Table B.9](/\u00A7_Ref139187117).\nTable B. 9- QueryDataSet\nName\nType\nDescription\nQueryDataSet\nstructure\nData related to a Node returned in a Query response.\nnodeId\nExpandedNodeId\nThe NodeId for this Node description.\ntypeDefinitionNode\nExpandedNodeId\nThe NodeId for the type definition for this Node description.\nvalues []\nBaseDataType\nValues for the selected Attributes. The order of returned items matches the order of the requested items. There is an entry for each requested item for the given TypeDefinitionNode that matches the selected instance, this includes any related nodes that were specified using a relative path from the selected instance\u0027s TypeDefinitionNode. If no values where found for a given requested item a null value is returned for that item. If a value has a bad status, the StatusCode is returned instead of the value. If multiple values exist for a requested item then an array of values is returned. If the requested item is a reference then a ReferenceDescription or array of ReferenceDescription is returned for that item.\nIf the QueryDataSet is returned in a QueryNext to continue a list of ReferenceDescription, the values array will have the same size but the other values already returned are null."
    },
    {
      "Id": "660c762b-d8c3-4075-a745-cf91dcc4dc4b",
      "Header": "Document: Part 4 - Services\n---\n",
      "Content": "B.3 Complex Examples of Query Filters"
    },
    {
      "Id": "16f41ab5-97ad-424c-b81b-c8c3eba98663",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.1 Overview"
    },
    {
      "Id": "e8110ada-b5bf-4c4e-85a4-beaae5d17183",
      "Header": "Document: Part 4 - Services\nSection: B.3.1 Overview\n---\n",
      "Content": "These query examples illustrate complex filters. The following conventions apply to these examples with regard to Attribute operands (for a definition of these operands, see[7.7.4](/\u00A7_Ref132018533)).\nAttributeOperand: Refers to a Node, an Attribute of a Node or the Value Attribute of a Property associated with a Node. In the examples character names of ExpandedNodeId are used instead of an actual ExpandedNodeId, this also applies to Attribute Ids.\nThe string representation of relative paths is used instead of the actual structure.\nThe NamespaceIndex used in all examples is 12 (it could just as easily have been 4 or 23 or any value). For more information about NamespaceIndex, see[OPC 10000-3](/\u00A7UAPart3). The use of the NamespaceIndex illustrates that the information model being used in the examples is not a model defined by this document, but one created for the examples."
    },
    {
      "Id": "9d603cb4-ab42-46d4-b0c3-60f2f1efa8c3",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.2 Used type model"
    },
    {
      "Id": "d2fa14b7-25f8-41f3-b847-0f53f745cd1b",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\n---\n",
      "Content": "The following examples use the type model described below. All Property values are assumed to be string unless otherwise noted\nNew Reference types:\n\u0022HasChild\u0022 derived from HierarchicalReference.\n\u0022HasAnimal\u0022 derived from HierarchicalReference.\n\u0022HasPet\u0022 derived from HasAnimal.\n\u0022HasFarmAnimal\u0022 derived from HasAnimal.\n\u0022HasSchedule\u0022 derived from HierarchicalReference.\n\nPersonType derived from BaseObjectType adds:\nHasProperty \u0022LastName\u0022.\nHasProperty \u0022FirstName\u0022.\nHasProperty \u0022StreetAddress\u0022.\nHasProperty \u0022City\u0022.\nHasProperty \u0022ZipCode\u0022.\nMay have HasChild reference to a node of type PersonType.\nMay have HasAnimal reference to a node of type AnimalType (or a subtype of this Reference type).\n\nAnimalType derived from BaseObjectType adds:\nMay have HasSchedule reference to a node of type FeedingScheduleType.\nHasProperty \u0022Name\u0022.\n\nDogType derived from AnimalType adds:\nHasProperty \u0022NickName\u0022.\nHasProperty \u0022DogBreed\u0022.\nHasProperty \u0022License\u0022.\n\nCatType derived from AnimalType adds:\nHasProperty \u0022NickName\u0022.\nHasProperty \u0022CatBreed\u0022.\n\nPigType derived from AnimalType adds:\nHasProperty \u0022PigBreed\u0022.\n\nScheduleType derived from BaseObjectType adds:\nHasProperty \u0022Period\u0022.\n\nFeedingScheduleType derived from ScheduleType adds:\nHasProperty \u0022Food\u0022.\nHasProperty \u0022Amount\u0022 (Stored as an Int32).\n\nAreaType derived from BaseObjectType is just a simple Folder and contains no Properties.\nThis example type system is shown in[Figure B.3](/\u00A7_Ref141116106). In this Figure, the OPC UA notation is used for all References to ObjectTypes, Variables, Properties and subtypes."
    },
    {
      "Id": "64ff3abb-cc16-4c24-ac76-22efd4e36ac7",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\n---\n",
      "Content": "Properties and subtypes. Additionally, supported References are contained in an inner box. The actual references only exist in the instances, thus, no connections to other Objects are shown in the Figure and they are subtypes of the listed Reference."
    },
    {
      "Id": "66e0b275-6961-46a9-9445-3164bc59f37e",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\nCaption: Figure B. 3 - Example Type Nodes\n---\n",
      "Content": "[image045.png](images/image045.png)"
    },
    {
      "Id": "a828b5a7-f359-415a-9f0c-87dceb342c3b",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\n---\n",
      "Content": "Figure B. 3 - Example Type Nodes\nA corresponding example set of instances is shown in[Figure B.4](/\u00A7_Ref205280545). These instances include a type Reference for Objects. Properties also have type References, but the References are omitted for simplicity. The name of the Object is provided in the box and a numeric instance NodeId in brackets. Standard ReferenceTypes use the OPC UA notation, custom ReferenceTypes are listed as a named Reference. For Properties, the BrowseName, NodeId, and Value are shown. The Nodes that are included in a View(View1) are enclosed in the coloured box. Two Area nodes are included for grouping of the existing person nodes. All custom nodes are defined in namespace 12 which is not included in[Figure B.4](/\u00A7_Ref205280545)."
    },
    {
      "Id": "4d78bae1-82bc-416f-8393-bfe2581d0d62",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\nCaption: Figure B. 4 - Example Instance Nodes\n---\n",
      "Content": "[image046.png](images/image046.png)"
    },
    {
      "Id": "b488ae23-d81d-4771-870d-9a7f372586c1",
      "Header": "Document: Part 4 - Services\nSection: B.3.2 Used type model\n---\n",
      "Content": "Figure B. 4 - Example Instance Nodes"
    },
    {
      "Id": "e4dbe125-e305-416b-8521-dacbd42d45d6",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.3 Example Notes"
    },
    {
      "Id": "58106d63-405e-4ac5-933b-f6a307ca9875",
      "Header": "Document: Part 4 - Services\nSection: B.3.3 Example Notes\n---\n",
      "Content": "For all of the examples in[7.7.4](/\u00A7_Ref154225552), the type definition Node is listed in its symbolic form, in the actual call it would be the ExpandedNodeId assigned to the Node. The Attribute is the symbolic name of the Attribute, in the actual call they would be translated to the IntegerId of the Attribute. Also in all of the examples the BrowseName is included in the result table for clarity; normally this would not be returned.\nAll of the examples include the following items:\nan English description of the object of the query;\nan SQL like description of the query;\na table that has a NodeTypeDescription of the items that are to be returned;\na figure illustrating the query filter;\na table describing the content filter;\na table describing the resulting dataset.\nThe examples assume namespace 12 is the namespace for all of the custom definitions described for the examples."
    },
    {
      "Id": "001cd631-cbd6-442d-b516-aba33d831e69",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.4 Example 1"
    },
    {
      "Id": "bf127f20-564b-4e8d-8eba-a663a05fdfb4",
      "Header": "Document: Part 4 - Services\nSection: B.3.4 Example 1\n---\n",
      "Content": "This example requests a simple layered filter, a person has a pet and the pet has a schedule.\nExample 1: Get PersonType.LastName, AnimalType.Name, ScheduleType.Period where the Person Has a Pet and that Pet Has a Schedule.\nThe NodeTypeDescription parameters used in the example are described in[Table B.10](/\u00A7_Ref140595981).\nTable B. 10- Example 1 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.12:LastName\u0022\nvalue\nN/A\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType. 12:Name\u0022\nvalue\nN/A\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E 12:Schedule. 12:Period\u0022\nvalue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.5](/\u00A7_Ref140917034)."
    },
    {
      "Id": "ee046d15-d596-4d59-98c6-da0270076e7e",
      "Header": "Document: Part 4 - Services\nSection: B.3.4 Example 1\nCaption: Figure B. 5 - Example 1 Filter\n---\n",
      "Content": "[image047.png](images/image047.png)"
    },
    {
      "Id": "d21fce61-ea18-458e-94aa-a44b45da4872",
      "Header": "Document: Part 4 - Services\nSection: B.3.4 Example 1\n---\n",
      "Content": "Figure B. 5 - Example 1 Filter\n[Table B.11](/\u00A7_Ref141118851) describes the ContentFilter elements, operators and operands used in the example.\nTable B. 11- Example 1 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n1\nRelatedTo\nAttributeOperand = NodeId: PersonType,\nBrowsePath \u0022.\u0022, Attribute: NodeId\nElementOperand = 2\nAttributeOperand = NodeId: HasPet, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n2\nRelatedTo\nAttributeOperand = NodeId: AnimalType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: ScheduleType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: HasSchedule, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand= \u00271\u0027\n\n[Table B.12](/\u00A7_Ref140601076) describes the QueryDataSet that results from this query if it were executed against the instances described in[Figure B.4](/\u00A7_Ref205280545)\nTable B. 12- Example 1 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:30 (JFamily1)\nPersonType\n\u0022.12:LastName\u0022\nJones\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType. 12:Name\u0022\nRosemary\n\n\n\nBasil\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E 12:Schedule.12:Period\u0022\nHourly\n\n\n\nDaily\n12:42(HFamily1)\nPersonType\n\u0022.12:LastName\u0022\nHervey"
    },
    {
      "Id": "56124f53-dee6-4b49-863c-034cfe169ded",
      "Header": "Document: Part 4 - Services\nSection: B.3.4 Example 1\n---\n",
      "Content": "Hervey\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType. 12:Name\u0022\nOliver\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E 12:Schedule.12:Period\u0022\nDaily\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table.\nThe Value column is returned as an array for each Node description, where the order of the items in the array would correspond to the order of the items that were requested for the given Node Type. In Addition, if a single Attribute has multiple values then it would be returned as an array within the larger array, for example in this table Rosemary and Basil would be returned in a array for the .\u003CHasPet\u003E.AnimalType.Name item. They are show as separate rows for ease of viewing. The actual value array for JFamily1 would be (\u0022Jones\u0022, {\u0022RoseMary\u0022, \u0022Basil\u0022}, {\u0022Hourly\u0022, \u0022Daily\u0022})"
    },
    {
      "Id": "2035e12f-4bf9-4440-a0e4-c275b17c9461",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.5 Example 2"
    },
    {
      "Id": "387900b4-7554-4f9f-b5cd-12b8ebe9403f",
      "Header": "Document: Part 4 - Services\nSection: B.3.5 Example 2\n---\n",
      "Content": "The second example illustrates receiving a list of disjoint Nodes and also illustrates that an array of results can be received.\nExample 2: Get PersonType.LastName, AnimalType.Name where a person has a child or (a pet is of type cat and has a feeding schedule).\nThe NodeTypeDescription parameters used in the example are described in[Table B.13](/\u00A7_Ref140909908).\nTable B. 13- Example 2 NodeTypeDescription\n\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.12:LastName\u0022\nValue\nN/A\nAnimalType\nTRUE\n\u0022.12:Name\u0022\nValue\nN/A\n\nThe corresponding ContentFilter is illustrated in\nFigure B.6."
    },
    {
      "Id": "bc7a3a55-dccd-4252-afb2-ec3c8ddaf2cb",
      "Header": "Document: Part 4 - Services\nSection: B.3.5 Example 2\nCaption: Figure B. 6 - Example 2 filter logic tree\n---\n",
      "Content": "[image048.png](images/image048.png)"
    },
    {
      "Id": "e091f036-ad1a-4865-846b-4582d02f0ea2",
      "Header": "Document: Part 4 - Services\nSection: B.3.5 Example 2\n---\n",
      "Content": "Figure B. 6 - Example 2 filter logic tree\n[Table B.14](/\u00A7_Ref140914695) describes the elements, operators and operands used in the example. It is worth noting that a CatType is a subtype of AnimalType.\nTable B. 14- Example 2 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nOr\nElementOperand=1\nElementOperand = 2\n\n\n1\nRelatedTo\nAttributeOperand = NodeId: PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: HasChild, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n2\nRelatedTo\nAttributeOperand = NodeId: CatType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: FeedingScheduleType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: HasSchedule, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n\nThe results from this query would contain the QueryDataSets shown in[Table B.15](/\u00A7_Ref140917208).\nTable B. 15- Example 2 QueryDataSets\nNodeId\nTypeDefinition NodeId\nRelativePath\nValue\n12:30 (Jfamily1)\nPersonType\n. 12:LastName\nJones\n12:42 (HFamily1)\nPersonType\n. 12:LastName\nHervey\n12:48 (HFamily2)\nPersonType\n. 12:LastName\nHervey\n12:70 (Cat1)\nCatType\n. 12:Name\nRosemary\n12:74 (Cat2)"
    },
    {
      "Id": "44d533dd-890b-4797-9742-93decd90f465",
      "Header": "Document: Part 4 - Services\nSection: B.3.5 Example 2\n---\n",
      "Content": "CatType\n. 12:Name\nBasil\n\nNOTE The relative path column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be a NodeId not the symbolic name that is included in the table."
    },
    {
      "Id": "b2d1ce25-0796-470c-b464-e23a4f0806c3",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.6 Example 3"
    },
    {
      "Id": "a02095a5-930d-42e9-a4c4-148f3bbf95be",
      "Header": "Document: Part 4 - Services\nSection: B.3.6 Example 3\n---\n",
      "Content": "The third example provides a more complex Query in which the results are filtered on multiple criteria.\nExample 3: Get PersonType.LastName, AnimalType.Name, ScheduleType.Period where a person has a pet and the animal has a feeding schedule and the person has a Zipcode = \u002702138\u0027 and (the Schedule.Period is Daily or Hourly) and Amount to feed is \u003E 10.\n[Table B.16](/\u00A7_Ref140917265) describes the NodeTypeDescription parameters used in the example.\nTable B. 16- Example 3 - NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelativePath\nAttribute\nIndex Range\nPersonType\nFALSE\n\u002212:LastName\u0022\nValue\nN/A\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType. 12:Name\u0022\nValue\nN/A\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E 12:FeedingSchedule.Period\u0022\nValue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.7](/\u00A7_Ref140917300)."
    },
    {
      "Id": "6670853a-be04-48d0-9c4b-457510b9f4d8",
      "Header": "Document: Part 4 - Services\nSection: B.3.6 Example 3\nCaption: Figure B. 7 - Example 3 filter logic tree\n---\n",
      "Content": "[image049.png](images/image049.png)"
    },
    {
      "Id": "49c3f66e-1e03-4b17-b248-f010b324aa0b",
      "Header": "Document: Part 4 - Services\nSection: B.3.6 Example 3\n---\n",
      "Content": "Figure B. 7 - Example 3 filter logic tree\n[Table B.17](/\u00A7_Ref140917350) describes the elements, operators and operands used in the example.\nTable B. 17- Example 3 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nAnd\nElement Operand= 1\nElementOperand = 2\n\n\n1\nAnd\nElementOperand = 4\nElementOperand = 6\n\n\n2\nAnd\nElementOperand = 3\nElementOperand = 9\n\n\n3\nOr\nElementOperand = 7\nElementOperand = 8\n\n\n4\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nElementOperand = 5\nAttributeOperand = NodeId: 12:HasPet, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n5\nRelatedTo\nAttributeOperand = Node: 12:AnilmalType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAlias:  AT\nAttributeOperand = NodeId: 12:FeedingScheduleType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAlias: FST\nAttributeOperand = NodeId: 12:HasSchedule, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n6\nEquals\nAttributeOperand = NodeId: 12:PersonType BrowsePath 12:Zipcode \u0022.\u0022, Attribute: Value\nLiteralOperand = \u002702138\u0027\n\n\n7\nEquals\nAttributeOperand = NodeId: 12:PersonType\nBrowsePath \u002212:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E12: FeedingSchedule/12:Period\u0022, Attribute: Value"
    },
    {
      "Id": "717bda33-e255-43a0-bbd5-9e98e6b66f83",
      "Header": "Document: Part 4 - Services\nSection: B.3.6 Example 3\n---\n",
      "Content": "Alias: FST\nLiteralOperand = \u0027Daily\u0027\n\n\n8\nEquals\nAttributeOperand = NodeId: 12:PersonType\nBrowsePath \u002212:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E12: FeedingSchedule/12:Period\u0022, Attribute: Value\nAlias: FST\nLiteralOperand = \u0027Hourly\u0027\n\n\n9\nGreater Than\nAttributeOperand = NodeId: 12:PersonType\nBrowsePath \u002212:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E12: FeedingSchedule/12:Amount\u0022, Attribute: Value\nAlias: FST\nElementOperand = 10\n\n\n10\nCast\nLiteralOperand = 10\nAttributeOperand = NodeId: Int32, BrowsePath \u0022.\u0022, Attribute: NodeId\n\n\n\nThe results from this query would contain the QueryDataSets shown in[Table B.18](/\u00A7_Ref140917404).\nTable B. 18- Example 3 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:30 (JFamily1)\nPersonType\n\u0022.12:LastName\u0022\nJones\n\n\n\u0022\u003C12:HasPet\u003E12:PersonType. 12:Name\u0022\nRosemary\n\n\n\nBasil\n\n\n\u0022\u003C12:HasPet\u003E12:AnimalType\u003C12:HasSchedule\u003E12:FeedingSchedule. 12:Period\u0022\nHourly\n\n\n\nDaily\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table."
    },
    {
      "Id": "a63a88f0-1d67-450e-b669-d96ad70dd57e",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.7 Example 4"
    },
    {
      "Id": "7726471f-260e-467e-a0e9-c14abebf3cdc",
      "Header": "Document: Part 4 - Services\nSection: B.3.7 Example 4\n---\n",
      "Content": "The fourth example provides an illustration of the Hop parameter that is part of the RelatedTo Operator.\nExample 4: Get PersonType.LastName where a person has a child who has a child who has a pet.\n[Table B.19](/\u00A7_Ref140950083) describes the NodeTypeDescription parameters used in the example.\nTable B. 19- Example 4 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.12:LastName\u0022\nvalue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.8](/\u00A7_Ref141118854)."
    },
    {
      "Id": "41e1046c-ef19-493a-b458-23cb44be07ee",
      "Header": "Document: Part 4 - Services\nSection: B.3.7 Example 4\nCaption: Figure B. 8 - Example 4 filter logic tree\n---\n",
      "Content": "[image050.png](images/image050.png)"
    },
    {
      "Id": "ba9be95d-9af4-4f5d-b30f-bb91dabca13e",
      "Header": "Document: Part 4 - Services\nSection: B.3.7 Example 4\n---\n",
      "Content": "Figure B. 8 - Example 4 filter logic tree\n[Table B.20](/\u00A7_Ref141118852) describes the elements, operators and operands used in the example.\nTable B. 20- Example 4 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022,\nAttribute: NodeId\nElement Operand = 1\nAttributeOperand = NodeId: 12:HasChild, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00272\u0027\n1\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022,\nAttribute: NodeId\nAttributeOperand = NodeId: 12:AnimalType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:HasPet, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n\nThe results from this query would contain the QueryDataSets shown in[Table B.21](/\u00A7_Ref141008187). It is worth noting that the pig \u0022Pig1\u0022 is referenced as a pet by Sara, but is referenced as a farm animal by Sara\u0027s parent Paul.\nTable B. 21- Example 4 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:42 (HFamily1)\nPersonType\n\u0022.12:LastName\u0022\nHervey\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table."
    },
    {
      "Id": "5ee0cf5e-5efb-4858-af27-92ab8f2932bf",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.8 Example 5"
    },
    {
      "Id": "9c523ac0-bed7-4aba-8714-d1f18e185d7b",
      "Header": "Document: Part 4 - Services\nSection: B.3.8 Example 5\n---\n",
      "Content": "The fifth example provides an illustration of the use of alias.\nExample 5: Get the last names of children that have the same first name as a parent of theirs\n[Table B.22](/\u00A7_Ref140950826) describes the NodeTypeDescription parameters used in the example.\n\nTable B. 22- Example 5 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022\u003C12:HasChild\u003E12:PersonType. 12:LastName\u0022\nValue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.9](/\u00A7_Ref140951107)."
    },
    {
      "Id": "e3cf92c7-9cac-48bd-a079-f9dcdcf4de4f",
      "Header": "Document: Part 4 - Services\nSection: B.3.8 Example 5\nCaption: Figure B. 9 - Example 5 filter logic tree\n---\n",
      "Content": "[image051.png](images/image051.png)"
    },
    {
      "Id": "90078f77-1134-4502-b37b-658934db434f",
      "Header": "Document: Part 4 - Services\nSection: B.3.8 Example 5\n---\n",
      "Content": "Figure B. 9 - Example 5 filter logic tree\nIn this example, one Reference to PersonType is aliased to \u0022Parent\u0022 and another Reference to PersonType is aliased to \u0022Child\u0022. The value of Parent.firstName and Child.firstName are then compared.[Table B.23](/\u00A7_Ref140950924) describes the elements, operators and operands used in the example.\nTable B. 23- Example 5 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3}\n0\nAnd\nElementOperand = 1\nElementOperand = 2\n\n\n1\nRelatedTo\nAttributeOperand =  NodeId: 12:PersonType, BrowsePath \u0022.\u0022,\nAttribute: NodeId,\nAlias: \u0022Parent\u0022\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId,\nAlias: \u0022Child\u0022\nAttributeOperand = NodeId: 12:HasChild, Attribute: NodeId\nLiteralOperand = \u00221\u0022\n2\nEquals\nAttributeOperand =\nNodeId: 12:PersonType, BrowsePath \u0022\u0022/12:FirstName\u0022, Attribute: Value, Alias: \u0022Parent\u0022\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022\u0022/12:FirstName\u0022, Attribute: Value, Alias: \u0022Child\u0022\n\n\n\nThe results from this query would contain the QueryDataSets shown in[Table B.24](/\u00A7_Ref141008454).\nTable B. 24- Example 5 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:42 (HFamily1)\nPersonType\n\u0022\u003C12:HasChild\u003E12:PersonType.12:LastName\u0022\nHervey"
    },
    {
      "Id": "4575569c-4e85-4273-8cc0-c538fa68c55e",
      "Header": "Document: Part 4 - Services\nSection: B.3.8 Example 5\n---\n",
      "Content": "Hervey\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table."
    },
    {
      "Id": "cfe1ce4e-860d-49e6-ab6c-4c5c10cac77a",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.9 Example 6"
    },
    {
      "Id": "3e0c6124-01eb-4623-a84c-87fb61f19aad",
      "Header": "Document: Part 4 - Services\nSection: B.3.9 Example 6\n---\n",
      "Content": "The sixth example provides an illustration a different type of request, one in which the Client is interested in displaying part of the AddressSpace of the Server. This request includes listing a Reference as something that is to be returned.\nExample 6: Get PersonType.NodeId, AnimalType.NodeId, PersonType.HasChild Reference, PersonType.HasAnimal Reference where a person has a child who has a Animal.\n[Table B.25](/\u00A7_Ref141009577) describes the NodeTypeDescription parameters used in the example.\nTable B. 25- Example 6 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.12:NodeId\u0022\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E12:AnimalType.NodeId\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E\nvalue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.10](/\u00A7_Ref141009621)."
    },
    {
      "Id": "33e623a0-2886-4e7a-a4d4-d7d5028d537e",
      "Header": "Document: Part 4 - Services\nSection: B.3.9 Example 6\nCaption: Figure B. 10 - Example 6 filter logic tree\n---\n",
      "Content": "[image052.png](images/image052.png)"
    },
    {
      "Id": "2b9c5c62-baf7-4bb3-97e1-899e71824dab",
      "Header": "Document: Part 4 - Services\nSection: B.3.9 Example 6\n---\n",
      "Content": "Figure B. 10 - Example 6 filter logic tree\n[Table B.26](/\u00A7_Ref141009703) describes the elements, operators and operands used in the example.\nTable B. 26- Example 6 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nElementOperand = 1\nAttributeOperand = Node: 12:HasChild, BrowsePath \u0022.\u0022,Attribute:NodeId\nLiteralOperand = \u00271\u0027\n1\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:AnimalType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:HasAnimal, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n\nThe results from this query would contain the QueryDataSets shown in[Table B.27](/\u00A7_Ref141009804).\nTable B. 27- Example 6 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:42 (HFamily1)\nPersonType\n\u0022.NodeId\u0022\n12:42 (HFamily1)\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E\n12:AnimalType.NodeId\n12:91 (Pig1)\n\n\n\u003C12:HasChild\u003E\nHasChild\nReferenceDescription\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E\nHasFarmAnimal\nReferenceDescription\n12:48 (HFamily2)\nPersonType\n\u0022.NodeId\u0022"
    },
    {
      "Id": "61dd9686-f3a4-4dff-aa66-19b2db35bd66",
      "Header": "Document: Part 4 - Services\nSection: B.3.9 Example 6\n---\n",
      "Content": "\u0022.NodeId\u0022\n12:48 (HFamily2)\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E\n12:AnimalType.NodeId\n12:91 (Pig1)\n\n\n\u003C12:HasChild\u003E\nHasChild\nReferenceDescription\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E\nHasPet\nReferenceDescription\n\nNOTE The RelativePath and browse name (in parentheses) is not in the QueryDataSet and is only shown here for clarity and the TypeDefinition NodeId would be an integer, not the symbolic name that is included in the table. The value field would in this case be the NodeId where it was requested, but for the example the browse name is provided in parentheses and in the case of Reference types on the browse name is provided. For the References listed in[Table B.27](/\u00A7_Ref141009804), the value would be a ReferenceDescription which are described in[7.29](/\u00A7_Ref129166653).\n[Table B.28](/\u00A7_Ref141675192) provides an example of the same QueryDataSet as shown in[Table B.27](/\u00A7_Ref141009804) without any additional fields and minimal symbolic Ids. There is an entry for each requested Attribute, in the cases where an Attribute would return multiple entries the entries are separated by comas. If a structure is being returned then the structure is enclosed in square brackets. In the case of a ReferenceDescription the structure contains a structure and DisplayName and BrowseName are assumed to be the same and defined in[Figure B.4](/\u00A7_Ref205280545).\nTable B. 28- Example 6 QueryDataSets without additional information\nNodeId\nTypeDefinition\nNodeId\nValue"
    },
    {
      "Id": "3e0dc427-2daf-4e25-a74f-699eddffa7e5",
      "Header": "Document: Part 4 - Services\nSection: B.3.9 Example 6\n---\n",
      "Content": "NodeId\nValue\n12:42\nPersonType\n12:42\n\n\n12:91\n\n\n[HasChild,TRUE,[48,HFamily2,HFamily2,PersonType]],\n\n\n[HasFarmAnimal,TRUE[91,Pig1,Pig1,PigType]\n12:48\nPersonType\n12:54\n\n\n12:91\n\n\n[HasChild,TRUE,[ 54,HFamily3,HFamily3,PersonType]]\n\n\n[HasPet, TRUE,[ 91,Pig1,Pig1,PigType]]\n\nThe PersonType, HasChild, PigType, HasPet, HasFarmAnimal identifiers used in the above table would be translated to actual ExpandedNodeId."
    },
    {
      "Id": "45c5819b-81c1-4742-b802-be7f73bf7d8f",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.10 Example 7"
    },
    {
      "Id": "7ace812b-dd90-4f92-ba33-fca1b782f439",
      "Header": "Document: Part 4 - Services\nSection: B.3.10 Example 7\n---\n",
      "Content": "The seventh example provides an illustration a request in which a Client wants to display part of the AddressSpace based on a starting point that was obtained via browsing. This request includes listing References as something that is to be returned. In this case the Person Browsed to Area2 and wanted to Query for information below this starting point.\nExample 7: Get PersonType.NodeId, AnimalType.NodeId, PersonType.HasChild Reference, PersonType.HasAnimal Reference where the person is in Area2 (Cleveland nodes) and the person has a child.\n[Table B.29](/\u00A7_Ref153089063) describes the NodeTypeDescription parameters used in the example.\nTable B. 29- Example 7 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.NodeId\u0022\nValue\nN/A\n\n\n\u003C12:HasChild\u003E\nValue\nN/A\n\n\n\u003C12:HasAnimal\u003ENodeId\nValue\nN/A\n\n\n\u003C12:HasAnimal\u003E\nValue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.11](/\u00A7_Ref177928513). Note that the Browse call would typically return a NodeId, thus the first filter is for the BaseObjectType with a NodeId of 95 where 95 is the NodeId associated with the Area2 node, all Nodes descend from BaseObjectType, and NodeId is a base Property so this filter will work for all Queries of this nature."
    },
    {
      "Id": "8b29a599-5f03-4278-8a72-9b8d3567c0b6",
      "Header": "Document: Part 4 - Services\nSection: B.3.10 Example 7\nCaption: Figure B. 11 - Example 7 filter logic tree\n---\n",
      "Content": "[image053.png](images/image053.png)"
    },
    {
      "Id": "e51183c8-0ba8-4ea4-b832-ffdbac83d6d8",
      "Header": "Document: Part 4 - Services\nSection: B.3.10 Example 7\n---\n",
      "Content": "Figure B. 11 - Example 7 filter logic tree\n[Table B.30](/\u00A7_Ref153096054) describes the elements, operators and operands used in the example.\nTable B. 30- Example 7 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nRelatedTo\nElementOperand = 2\nElementOperand = 1\nAttributeOperand = Node:HierachicalReference, BrowsePath \u0022.\u0022, Attribute:NodeId\nLiteralOperand = \u00271\u0027\n1\nRelatedTo\nAttributeOperand =\nNodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand =\nNodeId: 12:HasChild, BrowsePath \u0022.\u0022,\nAttribute: NodeId\nLiteralOperand = \u00271\u0027\n2\nEquals\nAttributeOperand =\nNodeId: BaseObjectType, BrowsePath \u0022.\u0022,\nAttribute: NodeId,\nLiteralOperand = \u002795\n\n\n\nThe results from this Query would contain the QueryDataSets shown in[Table B.31](/\u00A7_Ref153096506).\nTable B. 31- Example 7 QueryDataSets\nNodeId\nTypeDefinition\nNodeId\nRelativePath\nValue\n12:42 (HFamily1)\nPersonType\n\u0022.NodeId\u0022\n12:42 (HFamily1)\n\n\n\u003C12:HasChild\u003E\nHasChild ReferenceDescription\n\n\n\u003C12:HasAnimal\u003E12:AnimalType.NodeId\nNULL\n\n\n\u003C12:HasAnimal\u003E\nHasFarmAnimal ReferenceDescription\n12:48 (HFamily2)\nPersonType\n\u0022.NodeId\u0022\n12:48 (HFamily2)\n\n\n\u003C12:HasChild\u003E"
    },
    {
      "Id": "d10ad9bc-8e45-4b96-ae52-b937931e1394",
      "Header": "Document: Part 4 - Services\nSection: B.3.10 Example 7\n---\n",
      "Content": "HasChild ReferenceDescription\n\n\n\u003C12:HasAnimal\u003E12:AnimalType.NodeId\n12:91 (Pig1)\n\n\n\u003C12:HasAnimal\u003E\nHasFarmAnimal ReferenceDescription\n\nNOTE The RelativePath and browse name (in parentheses) is not in the QueryDataSet and is only shown here for clarity and the TypeDefinition NodeId would be an integer not the symbolic name that is included in the table. The value field would in this case be the NodeId where it was requested, but for the example the browse name is provided in parentheses and in the case of Reference types on the browse name is provided. For the References listed in[Table B.31](/\u00A7_Ref153096506), the value would be a ReferenceDescription which are described in[7.29](/\u00A7_Ref129166653)."
    },
    {
      "Id": "089f7d27-00d6-4df6-acfc-c9c5293b2591",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.11 Example 8"
    },
    {
      "Id": "b2796944-2100-42fa-8411-d5439f1f3606",
      "Header": "Document: Part 4 - Services\nSection: B.3.11 Example 8\n---\n",
      "Content": "The eighth example provides an illustration of a request in which the AddressSpace is restricted by a Server defined View. This request is the same as in the second example which illustrates receiving a list of disjoint Nodes and also illustrates that an array of results can be received. It is important ContentFilter are the same, only the View description would be specified as \u0022View1\u0022.\nExample 8: Get PersonType.LastName, AnimalType.Name where a person has a child or (a pet is of type cat and has a feeding schedule) limited by the AddressSpace in View1.\nThe NodeTypeDescription parameters used in the example are described in[Table B.32](/\u00A7_Ref153097930)\nTable B. 32- Example 8 NodeTypeDescription\n\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.12:LastName\u0022\nvalue\nN/A\nAnimalType\nTRUE\n\u002212.Name\u0022\nvalue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.12](/\u00A7_Ref154228733)."
    },
    {
      "Id": "bbe872df-b13d-48ca-a64d-5c2fabbc284a",
      "Header": "Document: Part 4 - Services\nSection: B.3.11 Example 8\nCaption: Figure B. 12 - Example 8 filter logic tree\n---\n",
      "Content": "[image054.png](images/image054.png)"
    },
    {
      "Id": "5cc3ce96-dd29-4f14-baa4-e807d39ed907",
      "Header": "Document: Part 4 - Services\nSection: B.3.11 Example 8\n---\n",
      "Content": "Figure B. 12 - Example 8 filter logic tree\n[Table B.33](/\u00A7_Ref153097962) describes the elements, operators and operands used in the example. It is worth noting that a CatType is a subtype of AnimalType.\nTable B. 33- Example 8 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nOr\nElementOperand=1\nElementOperand = 2\n\n\n1\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022,\nAttribute: NodeId\nAttributeOperand = NodeId: 12:HasChild, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n2\nRelatedTo\nAttributeOperand = NodeId: 12:CatType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:FeedingScheduleType, BrowsePath \u0022.\u0022,\nAttribute: NodeId\nAttributeOperand = NodeId: 12:HasSchedule, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n\nThe results from this query would contain the QueryDataSets shown in[Table B.34](/\u00A7_Ref153098374). If this is compared to the result set from example 2, the only difference is the omission of the Cat Nodes. These Nodes are not in the View and thus are not included in the result set.\nTable B. 34- Example 8 QueryDataSets\nNodeId\nTypeDefinition NodeId\nRelativePath\nValue\n12:30 (Jfamily1)\nPersontype\n.12:LastName\nJones"
    },
    {
      "Id": "d681dd82-4de0-4150-892c-2c522aa60e58",
      "Header": "Document: Part 4 - Services\nSection: B.3.11 Example 8\n---\n",
      "Content": "Jones\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table."
    },
    {
      "Id": "3342aa87-6372-4cf6-a46b-31acbc4cf74f",
      "Header": "Document: Part 4 - Services\nSection: B.3 Complex Examples of Query Filters\n---\n",
      "Content": "B.3.12 Example 9"
    },
    {
      "Id": "d46d0630-31e5-40c5-ad1a-5c5960e642b3",
      "Header": "Document: Part 4 - Services\nSection: B.3.12 Example 9\n---\n",
      "Content": "The ninth example provides a further illustration for a request in which the AddressSpace is restricted by a Server defined View. This request is similar to the second example except that some of the requested nodes are expressed in terms of a relative path. It is important ContentFilter is the same, only the View description would be specified as \u0022View1\u0022.\nExample 9: Get PersonType.LastName, AnimalType.Name where a person has a child or (a pet is of type cat and has a feeding schedule) limited by the AddressSpace in View1.\n[Table B.35](/\u00A7_Ref153099601) describes the NodeTypeDescription parameters used in the example.\nTable B. 35- Example 9 NodeTypeDescription\nType Definition Node\nInclude\nSubtypes\nQueryDataDescription\n\n\nRelative Path\nAttribute\nIndex Range\nPersonType\nFALSE\n\u0022.NodeId\u0022\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E12:PersonType\u003C12:HasAnimal\u003E12:AnimalType.NodeId\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E\nvalue\nN/A\n\n\n\u003C12:HasChild\u003E12:PersonType\n\u003C12:HasAnimal\u003E\nvalue\nN/A\nPersonType\nFALSE\n\u0022.12:LastName\u0022\nvalue\nN/A\n\n\n\u003C12:HasAnimal\u003E12:AnimalType. 12:Name\nvalue\nN/A\nAnimalType\nTRUE\n\u0022.12:name\u0022\nvalue\nN/A\n\nThe corresponding ContentFilter is illustrated in[Figure B.13](/\u00A7_Ref177928599)"
    },
    {
      "Id": "6b588baf-7232-433e-886c-59e60445d5be",
      "Header": "Document: Part 4 - Services\nSection: B.3.12 Example 9\nCaption: Figure B. 13 - Example 9 filter logic tree\n---\n",
      "Content": "[image055.png](images/image055.png)"
    },
    {
      "Id": "87fae0c3-583f-4340-a8f5-bc035aa32090",
      "Header": "Document: Part 4 - Services\nSection: B.3.12 Example 9\n---\n",
      "Content": "Figure B. 13 - Example 9 filter logic tree\n[Table B.36](/\u00A7_Ref153100053) describes the elements, operators and operands used in the example.\nTable B. 36- Example 9 ContentFilter\nElement[]\nOperator\nOperand[0]\nOperand[1]\nOperand[2]\nOperand[3]\n0\nOr\nElementOperand=1\nElementOperand = 2\n\n\n1\nRelatedTo\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:PersonType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:HasChild, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n2\nRelatedTo\nAttributeOperand = NodeId: 12:CatType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:FeedingScheduleType, BrowsePath \u0022.\u0022, Attribute: NodeId\nAttributeOperand = NodeId: 12:HasSchedule, BrowsePath \u0022.\u0022, Attribute: NodeId\nLiteralOperand = \u00271\u0027\n\nThe results from this Query would contain the QueryDataSets shown in[Table B.37](/\u00A7_Ref153100351). If this is compared to the result set from example 2, the Pet Nodes are included in the list, even though they are outside of the View. This is possible since the name referenced via the relative path and the root Node is in the View.\nTable B. 37- Example 9 QueryDataSets\nNodeId\nTypeDefinition NodeId\nRelativePath\nValue\n12:30 (Jfamily1)\nPersonType\n. 12:LastName\nJones"
    },
    {
      "Id": "e69c4dcc-3510-48d0-96cf-e9dac016b8c3",
      "Header": "Document: Part 4 - Services\nSection: B.3.12 Example 9\n---\n",
      "Content": "Jones\n\n\n\u003C12:HasAnimal\u003E12:AnimalType. 12:Name\nRosemary\n\n\n\u003C12:HasAnimal\u003E12:AnimalType. 12:Name\nBasil\n\nNOTE The RelativePath column and browse name (in parentheses in the NodeId column) are not in the QueryDataSet and are only shown here for clarity. The TypeDefinition NodeId would be an integer not the symbolic name that is included in the table.\n\n______________"
    }
  ]
}
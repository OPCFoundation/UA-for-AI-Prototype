{
  "Title": "Part 16 - State Machines",
  "Chunks": [
    {
      "Id": "09744e85-db07-4cf8-8038-7c7478edf936",
      "Header": "Document: Part 16 - State Machines\n---\n",
      "Content": "1 Scope"
    },
    {
      "Id": "e4c81828-586f-4ca3-acf4-e25a07564e54",
      "Header": "Document: Part 16 - State Machines\nSection: 1 Scope\n---\n",
      "Content": "This part of the OPC Unified Architecture defines an Information Model. The Information Model describes the basic infrastructure to model state machines."
    },
    {
      "Id": "79c9b905-0f1d-4986-84e5-260f554081db",
      "Header": "Document: Part 16 - State Machines\n---\n",
      "Content": "2 Normative references"
    },
    {
      "Id": "57532559-8848-4ac2-93ab-42c03089ac69",
      "Header": "Document: Part 16 - State Machines\nSection: 2 Normative references\n---\n",
      "Content": "The following documents, in whole or in part, are normatively referenced in this document and are indispensable for its application. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments and errata) applies.\nOPC 10000-1, OPC Unified Architecture - Part 1: Concepts\n[http://www.opcfoundation.org/UA/Part1/](http://www.opcfoundation.org/UA/Part1/)\nOPC 10000-3, OPC Unified Architecture - Part 3: Address Space Model\n[http://www.opcfoundation.org/UA/Part3/](http://www.opcfoundation.org/UA/Part3/)\nOPC 10000-4, OPC Unified Architecture - Part 4: Services\n[http://www.opcfoundation.org/UA/Part4/](http://www.opcfoundation.org/UA/Part4/)\nOPC 10000-5, OPC Unified Architecture - Part 5: Information Model\n[http://www.opcfoundation.org/UA/Part5/](http://www.opcfoundation.org/UA/Part5/)\nOPC 10000-6, OPC Unified Architecture - Part 6: Mappings\n[http://www.opcfoundation.org/UA/Part6/](http://www.opcfoundation.org/UA/Part6/)\nOPC 10000-7, OPC Unified Architecture - Part 7: Profiles\n[http://www.opcfoundation.org/UA/Part7/](http://www.opcfoundation.org/UA/Part7/)\nOPC 10000-9, OPC Unified Architecture - Part 9: Alarms and conditions"
    },
    {
      "Id": "c854b59f-220e-4221-8715-4bf24a222b28",
      "Header": "Document: Part 16 - State Machines\nSection: 2 Normative references\n---\n",
      "Content": "[http://www.opcfoundation.org/UA/Part9/](http://www.opcfoundation.org/UA/Part9/)\nOPC 10000-10, OPC Unified Architecture - Part 10: Programs\n[http://www.opcfoundation.org/UA/Part10/](http://www.opcfoundation.org/UA/Part10/)"
    },
    {
      "Id": "150ac62e-4129-415c-a65a-2e98430541fe",
      "Header": "Document: Part 16 - State Machines\n---\n",
      "Content": "3 Terms, definitions, abbreviated terms and conventions"
    },
    {
      "Id": "89094ad5-106a-458c-9d61-88037821b52b",
      "Header": "Document: Part 16 - State Machines\nSection: 3 Terms, definitions, abbreviated terms and conventions\n---\n",
      "Content": "3.1 Terms and definitions"
    },
    {
      "Id": "ea3ec13c-dae5-424e-a35f-0a6ce24648e9",
      "Header": "Document: Part 16 - State Machines\nSection: 3.1 Terms and definitions\n---\n",
      "Content": "For the purposes of this document, the terms and definitions given in[OPC 10000-1](/\u00A7UAPart1),[OPC 10000-3](/\u00A7UAPart3), and[OPC 10000-5](/\u00A7UAPart5) apply."
    },
    {
      "Id": "f752b490-8b59-4753-a3c7-ecd229be56ec",
      "Header": "Document: Part 16 - State Machines\n---\n",
      "Content": "4 State Machine Model"
    },
    {
      "Id": "539cbdd7-19f1-407c-aaaa-4c37b8d1d2f6",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.1 General"
    },
    {
      "Id": "a80961ce-a6b6-40f6-ae18-2cd599c164fa",
      "Header": "Document: Part 16 - State Machines\nSection: 4.1 General\n---\n",
      "Content": "This document describes the basic infrastructure to model state machines. It defines ObjectTypes, VariableTypes and ReferenceTypes and explains how they should be used.\nThis document is an integral part of this standard, that is, the types defined in this document shall be used as defined. However, it is not required but strongly recommended that a Server uses these types to expose its state machines. The defined types may be subtyped to refine their behaviour.\nWhen a Server exposes its state machine using the types defined in this document, it might only provide a simplified view on its internal state machine, hiding for example substates or putting several internal states into one exposed state.\nThe scope of the state machines described in this document is to provide an appropriate foundation for state machines needed for[OPC 10000-9](/\u00A7UAPart9) and[OPC 10000-10](/\u00A7UAPart10). It does not provide more complex functionality of a state machine like parallel states, forks and joins, history states, choices and junctions, etc. However, the base state machine defined in this document can be extended to support such concepts.\nThe following clauses describe examples of state machines, define state machines in the context of this document and define the representation of state machines in OPC UA. Finally, some examples of state machines, represented in OPC UA, are given."
    },
    {
      "Id": "5d9d96bf-e3ea-4ea0-85e8-a2b87bf4f64c",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.2 Examples of finite state machines"
    },
    {
      "Id": "65001889-2b93-4dc1-98ae-b6df11ece632",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2 Examples of finite state machines\n---\n",
      "Content": "4.2.1 Simple state machine"
    },
    {
      "Id": "d0a07ef9-d137-4d21-ba9a-af9f495ec10d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.1 Simple state machine\n---\n",
      "Content": "The following example provides an overview of the base features that the state machines defined in this specification will support. In the following, a more complex example is given, that also supports sub-state machines.\n[Figure 1](/\u00A7_Ref114466674) gives an overview over a simple state machine. It contains the three states \u0022State1\u0022, \u0022State2\u0022 and \u0022State3\u0022. There are transitions from \u0022State1\u0022 to \u0022State2\u0022, \u0022State2\u0022 to \u0022State2\u0022, etc. Some of the transitions provide additional information with regard to what causes (or triggers) the transition, for example the call of \u0022Method1\u0022 for the transition from \u0022State1\u0022 to \u0022State2\u0022. The effect (or action) of the transition can also be specified, for example the generation of an Event of the \u0022EventType1\u0022 in the same transition. The notation used to identify the cause is simply listing it on the transition, the effect is prefixed with a \u0022/\u0022. More than one cause or effect are separated by a \u0022,\u0022. Not every transition has to have a cause or effect, for example the transition between \u0022State2\u0022 and \u0022State3\u0022."
    },
    {
      "Id": "a903130f-2f03-49f8-aed5-4a85887d4df1",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.1 Simple state machine\nCaption: Figure 1 - Example of a simple state machine\n---\n",
      "Content": "[image002.png](images/image002.png)"
    },
    {
      "Id": "08a59615-72d3-45b7-9aca-22a0afd3a65b",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.1 Simple state machine\n---\n",
      "Content": "Figure 1 - Example of a simple state machine\nFor simplicity, the state machines described in this specification will only support causes in form of specifying Methods that have to be called and effects in form of EventTypes of Events that are generated. However, the defined infrastructure allows extending this to support additional different causes and effects."
    },
    {
      "Id": "81a6383d-a32b-40da-985a-b7e804fd47b6",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2 Examples of finite state machines\n---\n",
      "Content": "4.2.2 State machine containing substates"
    },
    {
      "Id": "389ef604-e83e-4984-b8f1-b99694faf0d3",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.2 State machine containing substates\n---\n",
      "Content": "[Figure 2](/\u00A7_Ref33077681) shows an example of a state machine where \u0022State6\u0022 is a sub-state-machine. This means, that when the overall state machine is in State6, this state can be distinguished to be in the sub-states \u0022State7\u0022 or \u0022State8\u0022. Sub-state-machines can be nested, that is, \u0022State7\u0022 could be another sub-state-machine."
    },
    {
      "Id": "33908fed-feae-47bc-8a02-69db5fbe9f14",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.2 State machine containing substates\nCaption: Figure 2 - Example of a state machine having a sub-machine\n---\n",
      "Content": "[image003.png](images/image003.png)"
    },
    {
      "Id": "fa0dbb9d-54f6-482b-a88a-71f39c4578cc",
      "Header": "Document: Part 16 - State Machines\nSection: 4.2.2 State machine containing substates\n---\n",
      "Content": "Figure 2 - Example of a state machine having a sub-machine"
    },
    {
      "Id": "dcee8a04-1abb-4114-b25b-f7ecead1d8cd",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.3 Definition of state machine"
    },
    {
      "Id": "a91d77a7-2ca5-4f94-b63d-466a724653fc",
      "Header": "Document: Part 16 - State Machines\nSection: 4.3 Definition of state machine\n---\n",
      "Content": "The infrastructure of state machines defined in this specification only deals with the basics of state machines needed to support[OPC 10000-9](/\u00A7UAPart9) and[OPC 10000-10](/\u00A7UAPart10). The intention is to keep the base simple but extensible.\nFor the state machines defined in this specification we assume that state machines are typed and instances of a type have their states and semantics specified by the type. For some types, this means that the states and transitions are fixed. For other types the states and transitions may be dynamic or unknown. A state machine where all the states are specified explicitly by the type is called a finite state machine.\nTherefore, we distinguish between StateMachineType and StateMachine and their subtypes like FiniteStateMachineType. The StateMachineType specifies a description of the state machine, that is, its states, transitions, etc., whereas the StateMachine is an instance of the StateMachineType and only contains the current state.\nEach StateMachine contains information about the current state. If the StateMachineType has SubStateMachines, the StateMachine also contains information about the current state of the SubStateMachines. StateMachines which have their states completely defined by the type are instances of a FiniteStateMachineType.\nEach FiniteStateMachineType has one or more States. For simplicity, we do not distinguish between different States like the start or the end states.\nEach State can have one or more SubStateMachines.\nEach FiniteStateMachineType may have one or more Transitions. A Transition is directed and points from one State to another State.\nEach Transition can have one or more Causes. A Cause leads a FiniteStateMachine to change its current State from the source of the Transition to its target. In this specification we only specify Method calls to be Causes of Transitions. Transitions"
    },
    {
      "Id": "b2f176c7-65e8-4086-bd4e-4d119b732a8d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.3 Definition of state machine\n---\n",
      "Content": "Transitions. Transitions do not have to have a Cause. A Transition can always be caused by some server-internal logic that is not exposed in the AddressSpace.\nEach Transition can have one or more Effects. An Effect occurs if the Transition is used to change the State of a StateMachine. In this specification we only specify the generation of Events to be Effects of a Transition. A Transition is not required to expose any Effects in the AddressSpace.\nAlthough this specification only specifies simple concepts for state machines, the provided infrastructure is extensible. If needed, special States can be defined as well as additional Causes or Effects."
    },
    {
      "Id": "9d86dd08-a2f6-40d8-a7fd-6344e5cd8885",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.4 Representation of state machines in the AddressSpace"
    },
    {
      "Id": "4314c77c-7cbd-4b7c-8979-e7a7891ddc01",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.1 Overview"
    },
    {
      "Id": "4e972f6c-892b-4380-b2b2-1a5d757dfedb",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.1 Overview\n---\n",
      "Content": "The types defined in this specification are illustrated in[Figure 3](/\u00A7_Ref33077716). The MyFiniteStateMachineType is a minimal example which illustrates how these Types can be used to describe a StateMachine. See[OPC 10000-9](/\u00A7UAPart9) and[OPC 10000-10](/\u00A7UAPart10) for additional examples of StateMachines."
    },
    {
      "Id": "49fc112e-74a7-4a6c-bcc1-af308d24931e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.1 Overview\nCaption: Figure 3 - The StateMachine Information Model\n---\n",
      "Content": "[image004.png](images/image004.png)"
    },
    {
      "Id": "f046e4e1-8858-4f43-942d-f1896464cc74",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.1 Overview\n---\n",
      "Content": "Figure 3 - The StateMachine Information Model"
    },
    {
      "Id": "ee34f8fc-086a-4c90-a001-5e440fa74d91",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.2 StateMachineType"
    },
    {
      "Id": "9e5f5771-687e-4e21-89d7-7503cc2c7f1d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.2 StateMachineType\n---\n",
      "Content": "The StateMachineType is the base ObjectType for all StateMachineTypes. It defines a single Variable which represents the current state of the machine. An instance of this ObjectType shall generate an Event whenever a significant state change occurs. The Server decides which state changes are significant. Servers shall use the GeneratesEvent ReferenceType to indicate which Event(s) could be produced by the StateMachine.\nSubtypes may add Methods which affect the state of the machine. The Executable Attribute is used to indicate whether the Method is valid given the current state of the machine. The generation of AuditEvents for Methods is defined in[OPC 10000-4](/\u00A7UAPart4). A StateMachine may not be active. In this case, the CurrentState and LastTransition Variables shall have a status equal to Bad_StateNotActive(see[Table 19](/\u00A7_Ref33078422)).\nSubtypes may add components which are instances of StateMachineTypes. These components are considered to be sub-states of the StateMachine. SubStateMachines are only active when the parent machine is in an appropriate state.\nEvents produced by SubStateMachines may be suppressed by the parent machine. In some cases, the parent machine will produce a single Event that reflects changes in multiple SubStateMachines.\nFiniteStateMachineType is a subtype of StateMachineType that provides a mechanism to explicitly define the states and transitions. A Server should use this mechanism if it knows what the possible states are and the state machine is not trivial. The FiniteStateMachineType is defined in[4.4.6](/\u00A7_Ref33078720).\nThe StateMachineType is formally defined in[Table 1](/\u00A7_Ref17727931).\nTable 1 - StateMachineType definition"
    },
    {
      "Id": "dc64835e-0deb-48c0-af6c-b81c00932be9",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.2 StateMachineType\nCaption: Table 1 - StateMachineType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nStateMachineType\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseObjectType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasSubtype\nObjectType\nFiniteStateMachineType\nDefined in[4.4.6](/\u00A7_Ref33078906)\nHasComponent\nVariable\nCurrentState\nLocalizedText\nStateVariableType\nMandatory\nHasComponent\nVariable\nLastTransition\nLocalizedText\nTransitionVariableType\nOptional\nConformance Units\nBase Info State Machine Instance"
    },
    {
      "Id": "18ece438-9e53-4773-915e-6137f1fbd6ed",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.2 StateMachineType\n---\n",
      "Content": "CurrentState stores the current state of an instance of the StateMachineType. CurrentState provides a human readable name for the current state which may not be suitable for use in application control logic. Applications should use the Id Property of CurrentState if they need a unique identifier for the state.\nLastTransition stores the last transition which occurred in an instance of the StateMachineType. LastTransition provides a human readable name for the last transition which may not be suitable for use in application control logic. Applications should use the Id Property of LastTransition if they need a unique identifier for the transition."
    },
    {
      "Id": "c1518efc-c8fb-4ae4-ba4c-76b50e6a1790",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.3 StateVariableType"
    },
    {
      "Id": "3c66c700-27d6-4080-93d1-db51e9bc7bce",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.3 StateVariableType\n---\n",
      "Content": "The StateVariableType is the base VariableType for Variables that store the current state of a StateMachine as a human readable name.\nThe StateVariableType is formally defined in[Table 2](/\u00A7_Ref33077859).\nTable 2 - StateVariableType definition"
    },
    {
      "Id": "95fa09f9-05b7-4f1d-970b-73e923d56961",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.3 StateVariableType\nCaption: Table 2 - StateVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nStateVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseDataVariableType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasSubtype\nVariableType\nFiniteStateVariableType\nDefined in[4.4.7](/\u00A7_Ref33078936)\nHasProperty\nVariable\nId\nBaseDataType\nPropertyType\nMandatory\nHasProperty\nVariable\nName\nQualifiedName\nPropertyType\nOptional\nHasProperty\nVariable\nNumber\nUInt32\nPropertyType\nOptional\nHasProperty\nVariable\nEffectiveDisplayName\nLocalizedText\nPropertyType\nOptional\nHasProperty\nVariable\nContinuationOptions\nDescriptionNodeIdDataType[]\nPropertyType\nOptional\nHasProperty\nVariable\nExtendedInformation\nLocalizedText\nPropertyType\nOptional\nHasProperty\nVariable\nVendorCode\nString\nPropertyType\nOptional\nConformance Units\nBase Info State Machine Instance"
    },
    {
      "Id": "7842a110-4709-4ec4-bde1-f1cdc5524282",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.3 StateVariableType\n---\n",
      "Content": "Id is a name which uniquely identifies the current state within the StateMachineType. A subtype may restrict the DataType.\nName is a QualifiedName which uniquely identifies the current state within the StateMachineType.\nNumber is an integer which uniquely identifies the current state within the StateMachineType.\nEffectiveDisplayName contains a human readable name for the current state of the state machine after taking the state of any SubStateMachines in account. There is no rule specified for which state or sub-state should be used. It is up to the Server and will depend on the semantics of the StateMachineType.\nContinuationOptions is an array of options that indicate possible next steps or actions that can be taken from the current state. Each option is represented as a description and a NodeId. The description is a human-readable description of the action, and the optional NodeId represents a Node that is involved in the continuation (e.g., a Method that can be invoked to transition to a new state).\nExtendedInformation provides additional, more detailed information about the current state or the available continuation options. The exact nature of this information depends on the specific implementation and use case.\nVendorCode is an additional, vendor-specific identifier. It can be used to provide vendor-specific information about the current state or the available continuation options.\nStateMachines produce Events which may include the current state of a StateMachine. In that case Servers shall provide the Name, Number and EffectiveDisplayName of the StateVariableType in the Event, even if they are not provided on the instances in the AddressSpace."
    },
    {
      "Id": "40f9d024-9f41-41fc-9717-a20e908b81cc",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.4 DescriptionNodeIdDataType"
    },
    {
      "Id": "11b77e3e-18d4-44ff-8ecd-9e1cbe26cce6",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.4 DescriptionNodeIdDataType\n---\n",
      "Content": "This structure contains the description and optionally a NodeId. It is used to provide a human-readable description of something plus optionally the NodeId in case the something is represented in the AddressSpace. The structure is defined in[Table 3](/\u00A7_Ref169162623).\nTable 3 - DescriptionNodeIdDataType Structure"
    },
    {
      "Id": "d163c7f2-a70f-4b06-a601-3ae5b597aa6d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.4 DescriptionNodeIdDataType\nCaption: Table 3 - DescriptionNodeIdDataType Structure\n---\n",
      "Content": "Name\nType\nDescription\nDescriptionNodeIdDataType\nstructure\n\nDescription\n0:LocalizedText\nThe human-readable description of something.\nNodeId\n0:NodeId\nOptionally provided NodeId, in case the referenced something is represented as Node in the AddressSpace."
    },
    {
      "Id": "0eb72b14-0c32-408f-987a-dfdf2f5cfaa1",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.4 DescriptionNodeIdDataType\n---\n",
      "Content": "Its representation in the AddressSpace is defined in[Table 4](/\u00A7_Ref76309315).\nTable 4 - DescriptionNodeIdDataType Definition"
    },
    {
      "Id": "b8e2897e-912a-4160-9ad1-ec8dd93ca1a6",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.4 DescriptionNodeIdDataType\nCaption: Table 4 - DescriptionNodeIdDataType Definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nDescriptionNodeIdDataType\nIsAbstract\nFalse\nDescription\nA human-readable description of something plus optionally the NodeId in case the something is represented in the AddressSpace\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nOther\nSubtype of Structure defined in[OPC 10000-5](/\u00A7UAPart5)\nConformance Units\nBase Info State Machine DescriptionNodeIdDataType"
    },
    {
      "Id": "3c3d6530-bead-413c-9b64-a6b3bd9db316",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.4 DescriptionNodeIdDataType\n---\n",
      "Content": ""
    },
    {
      "Id": "f9920b8f-c60a-4b9e-8e31-bc5a36f3b218",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.5 TransitionVariableType"
    },
    {
      "Id": "91bc8742-9af5-4e32-8ec6-a0aa68f12ca4",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.5 TransitionVariableType\n---\n",
      "Content": "The TransitionVariableType is the base VariableType for Variables that store a Transition that occurred within a StateMachine as a human readable name.\nThe SourceTimestamp for the value specifies when the Transition occurred. This value may also be exposed with the TransitionTime Property.\nThe TransitionVariableType is formally defined in[Table 5](/\u00A7_Ref33077888).\nTable 5 - TransitionVariableType definition"
    },
    {
      "Id": "93a6289d-8264-4058-abde-c3b7851cdd70",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.5 TransitionVariableType\nCaption: Table 5 - TransitionVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nTransitionVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseDataVariableType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasSubtype\nVariableType\nFiniteTransitionVariableType\nDefined in[4.4.8](/\u00A7_Ref33078981)\nHasProperty\nVariable\nId\nBaseDataType\nPropertyType\nMandatory\nHasProperty\nVariable\nName\nQualifiedName\nPropertyType\nOptional\nHasProperty\nVariable\nNumber\nUInt32\nPropertyType\nOptional\nHasProperty\nVariable\nTransitionTime\nUtcTime\nPropertyType\nOptional\nHasProperty\nVariable\nEffectiveTransitionTime\nUtcTime\nPropertyType\nOptional\nConformance Units\nBase Info State Machine Instance"
    },
    {
      "Id": "afa9b7d4-5032-4ab5-8d42-c75b882375f5",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.5 TransitionVariableType\n---\n",
      "Content": "Id is a name which uniquely identifies a Transition within the StateMachineType. A subtype may restrict the DataType.\nName is a QualifiedName which uniquely identifies a transition within the StateMachineType.\nNumber is an integer which uniquely identifies a transition within the StateMachineType.\nTransitionTime specifies when the transition occurred.\nEffectiveTransitionTime specifies the time when the current state or one of its substates was entered. If, for example, a StateA is active and - while active - switches several times between its substates SubA and SubB, then the TransitionTime stays at the point in time where StateA became active whereas the EffectiveTransitionTime changes with each change of a substate."
    },
    {
      "Id": "53360545-ce2b-47dc-9bf6-80a6fe51007a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.6 FiniteStateMachineType"
    },
    {
      "Id": "c71fe60f-2daa-43b6-bc7c-27a1269aed52",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\n---\n",
      "Content": "The FiniteStateMachineType is the base ObjectType for StateMachines that explicitly define the possible States and Transitions. Once the States and Transitions are defined subtypes shall not add new States and Transitions(see[4.4.19](/\u00A7_Ref33081822)). Subtypes may add causes or effects.\nThe States of the machine are represented with instances of the StateType ObjectType. Each State shall have a BrowseName which is unique within the StateMachine and shall have a StateNumber which shall also be unique across all States defined in the StateMachine. Be aware that States in a SubStateMachine may have the same StateNumber or BrowseName as States in the parent machine. A concrete subtype of FiniteStateMachineType shall define at least one State.\nA StateMachine may define one State which is an instance of the InitialStateType. This State is the State that the machine goes into when it is activated.\nThe Transitions that may occur are represented with instances of the TransitionType. Each Transition shall have a BrowseName which is unique within the StateMachine and may have a TransitionNumber which shall also be unique across all Transitions defined in the StateMachine.\nThe initial State for a Transition is a StateType Object which is the target of a FromState Reference. The final State for a Transition is a StateType Object which is the target of a ToState Reference. The FromState and ToState References shall always be specified.\nA Transition may produce an Event. The Event is indicated by a HasEffect Reference to a subtype of BaseEventType. The StateMachineType shall have GeneratesEvent References to the targets of a HasEffect Reference for each of its Transitions.\nA FiniteStateMachineType may define Methods that cause a transition to occur. These Methods are targets of HasCause References for each of the Transitions that may be triggered by the Method. The Executable Attribute for a Method"
    },
    {
      "Id": "8c69af4b-f65e-4300-83d4-2f4e23c84bc7",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\n---\n",
      "Content": "Executable Attribute for a Method is used to indicate whether the current State of the machine allows the Method to be called.\nA FiniteStateMachineType may have sub-state-machines which are represented as instances of StateMachineType ObjectTypes. Each State shall have a HasSubStateMachine Reference to the StateMachineType Object which represents the child States. The SubStateMachine is not active if the parent State is not active. In this case the CurrentState and LastTransition Variables of the SubStateMachine shall have a status equal to Bad_StateNotActive(see[Table 19](/\u00A7_Ref33078422)).\nThe FiniteStateMachineType is formally defined in[Table 6](/\u00A7_Ref33077969).\nTable 6 - FiniteStateMachineType definition"
    },
    {
      "Id": "354511f9-5c2e-484e-96da-29a22de27520",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\nCaption: Table 6 - FiniteStateMachineType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nFiniteStateMachineType\nIsAbstract\nTrue\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the StateMachineType defined in[4.4.2](/\u00A7_Ref33079031)\nHasComponent\nVariable\nCurrentState\nLocalizedText\nFiniteStateVariableType\nMandatory\nHasComponent\nVariable\nLastTransition\nLocalizedText\nFiniteTransitionVariableType\nOptional\nHasComponent\nVariable\nAvailableStates\nNodeId[]\nBaseDataVariableType\nOptional\nHasComponent\nVariable\nAvailableTransitions\nNodeId[]\nBaseDataVariableType\nOptional\nConformance Units\nBase Info Finite State Machine Instance\nBase Info Available States and Transitions"
    },
    {
      "Id": "2cb59a36-137f-4f47-b264-e8dfeb05fc17",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\n---\n",
      "Content": "In some Servers an instance of a StateMachine may restrict the States and / or Transitions that are available. These restrictions may result from the internal design of the instance. For example, the StateMachine for an instrument\u0027s limit alarm which only supports Hi and HiHi and can not produce a Low or LowLow. An instance of a StateMachine may also dynamically change the available States and/or Transitions based on its operating mode. For example, when a piece of equipment is in a maintenance mode the available States may be limited to some subset of the States available during normal operation.\nThe AvailableStates Variable provides a NodeId list of the States that are present in the StateMachine instance. The list may change during operation of the Server.\nThe AvailableTransitions Variable provides a NodeId list of the Transitions that are present in the StateMachine instance. The list may change during operation of the Server.\nAn example of a FiniteStateMachine type is shown in[Figure 4](/\u00A7_Ref33079069)."
    },
    {
      "Id": "f236dd2f-da74-4861-9606-eff6341e9ba3",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\nCaption: Figure 4 - Example of a FiniteStateMachine type\n---\n",
      "Content": "[image005.png](images/image005.png)"
    },
    {
      "Id": "98bc2f6d-a305-4942-80fb-ed5351ac0b0a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\n---\n",
      "Content": "Figure 4 - Example of a FiniteStateMachine type\nAn example instance of the type is shown in[Figure 5](/\u00A7_Ref33078004). In this example the States{7,8,9} and the Transitions{G,H,I,J} are not available in this instance."
    },
    {
      "Id": "271d39b8-7d9b-4f38-8e58-1b7c6bef7dd8",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\nCaption: Figure 5 - Example of a FiniteStateMachine instance\n---\n",
      "Content": "[image006.png](images/image006.png)"
    },
    {
      "Id": "b8409db5-79bd-4fa8-8150-998ec8383277",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.6 FiniteStateMachineType\n---\n",
      "Content": "Figure 5 - Example of a FiniteStateMachine instance"
    },
    {
      "Id": "d38ec484-3c7a-4e3b-8efb-03ba3e40e83b",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.7 FiniteStateVariableType"
    },
    {
      "Id": "86f80605-4365-49f2-a8e5-5fe13465ce4f",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.7 FiniteStateVariableType\n---\n",
      "Content": "The FiniteStateVariableType is a subtype of StateVariableType and is used to store the current state of a Finite StateMachine as a human readable name.\nThe FiniteStateVariableType is formally defined in[Table 7](/\u00A7_Ref33078097).\nTable 7 - FiniteStateVariableType definition"
    },
    {
      "Id": "07170d02-0d4c-4717-92ce-0facb132e18a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.7 FiniteStateVariableType\nCaption: Table 7 - FiniteStateVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nFiniteStateVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the StateVariableType defined[4.4.3](/\u00A7_Ref33079118)\nHasProperty\nVariable\nId\nNodeId\nPropertyType\nMandatory\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "0704c7a6-d0d0-4cdd-bf23-8ca1f71c4250",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.7 FiniteStateVariableType\n---\n",
      "Content": "Id is inherited from the StateVariableType and overridden to reflect the required DataType. This value shall be the NodeId of one of the State Objects of the FiniteStateMachineType. If the FiniteStateMachine is subtyped, it shall be the NodeId of the State defined on the supertype, i.e., where the State is defined the first time in the type hierarchy.\nThe Name Property is inherited from StateVariableType. Its Value shall be the BrowseName of one of the State Objects of the FiniteStateMachineType.\nThe Number Property is inherited from StateVariableType. Its Value shall be the StateNumber for one of the State Objects of the FiniteStateMachineType."
    },
    {
      "Id": "81e99d32-8aaf-4641-8aaa-a8ac0590144d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.8 FiniteTransitionVariableType"
    },
    {
      "Id": "194363e2-ac65-4a14-9aab-24b63af847c2",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.8 FiniteTransitionVariableType\n---\n",
      "Content": "The FiniteTransitionVariableType is a subtype of TransitionVariableType and is used to store a Transition that occurred within a FiniteStateMachine as a human readable name.\nThe FiniteTransitionVariableType is formally defined in[Table 8](/\u00A7_Ref33078134).\nTable 8 - FiniteTransitionVariableType definition"
    },
    {
      "Id": "d1529315-c89d-4a94-8544-fcf6f1144dc9",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.8 FiniteTransitionVariableType\nCaption: Table 8 - FiniteTransitionVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nFiniteTransitionVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the TransitionVariableType defined in[4.4.5](/\u00A7_Ref33079141)\nHasProperty\nVariable\nId\nNodeId\nPropertyType\nMandatory\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "307a5a47-a0b8-49b7-9a23-5c3c66db0e33",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.8 FiniteTransitionVariableType\n---\n",
      "Content": "Id is inherited from the TransitionVariableType and overridden to reflect the required DataType. This value shall be the NodeId of one of the Transition Objects of the FiniteStateMachineType. If the FiniteStateMachine is subtyped, it shall be the NodeId of the Transition defined on the supertype, i.e., where the Transition is defined the first time in the type hierarchy.\nThe Name Property is inherited from the TransitionVariableType. Its Value shall be the BrowseName of one of the Transition Objects of the FiniteStateMachineType.\nThe Number Property is inherited from the TransitionVariableType. Its Value shall be the TransitionNumber for one of the Transition Objects of the FiniteStateMachineType."
    },
    {
      "Id": "bf7f4e6c-6d1d-4717-8c4a-a9150129e3eb",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.9 StateType"
    },
    {
      "Id": "d18210eb-0498-48b7-9163-5d4254b56850",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.9 StateType\n---\n",
      "Content": "States of a FiniteStateMachine are represented as Objects of the StateType. Each Object of the StateType or one of its subtypes shall be referenced from the ObjectType FiniteStateMachineType or one of its subtypes using a HasComponent Reference or a subtype of HasComponent and shall not have a ModellingRule as they are not applied on the instances.\nThe StateType is formally defined in[Table 9](/\u00A7_Ref33078163).\nTable 9 - StateType definition"
    },
    {
      "Id": "1b4ef77e-4ed8-436b-b06c-8f89fc9a58e7",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.9 StateType\nCaption: Table 9 - StateType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nStateType\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseObjectType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasProperty\nVariable\nStateNumber\nUInt32\nPropertyType\nMandatory\nHasSubtype\nObjectType\nInitialStateType\nDefined in[4.4.10](/\u00A7_Ref33079186)\nHasSubtype\nObjectType\nChoiceStateType\nDefined in[4.6.2](/\u00A7_Ref33079242)\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "9ac18052-711d-40d4-a31d-2868a03ad7ef",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.9 StateType\n---\n",
      "Content": ""
    },
    {
      "Id": "7ac0f253-c38e-4194-b11f-96e1128259fb",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.10 InitialStateType"
    },
    {
      "Id": "7ae220b8-9e57-46d2-9689-ef51c52bc19d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.10 InitialStateType\n---\n",
      "Content": "The InitialStateType is a subtype of the StateType and is formally defined in[Table 10](/\u00A7_Ref33079318). An Object of the InitialStateType represents the State that a FiniteStateMachine enters when it is activated. Each FiniteStateMachine can have at most one State of type InitialStateType, but a FiniteStateMachine does not have to have a State of this type.\nA SubStateMachine goes into its initial state whenever the parent state is entered. However, a state machine may define a transition that goes directly to a state of the SubStateMachine. In this case the SubStateMachine goes into that State instead of the initial State. The two scenarios are illustrated in[Figure 6](/\u00A7_Ref33079550). The transition from \u0022State5\u0022 to \u0022State6\u0022 causes the SubStateMachine to go into the initial State(\u0022State7\u0022), however, the transition from \u0022State4\u0022 to \u0022State8\u0022 causes the parent machine to go to \u0022State6\u0022 and the SubStateMachine will go to \u0022State8\u0022."
    },
    {
      "Id": "072b79dd-9671-44bf-9d0c-0d829fa5613b",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.10 InitialStateType\nCaption: Figure 6 - Example of an initial State in a sub-machine\n---\n",
      "Content": "[image007.png](images/image007.png)"
    },
    {
      "Id": "dfb3f516-4c6a-466f-b85e-eb094affbba5",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.10 InitialStateType\n---\n",
      "Content": "Figure 6 - Example of an initial State in a sub-machine\nIf no initial state for a SubStateMachine exists and the State having the SubStateMachine is entered directly, then the State of the SubStateMachine is server-specific.\nTable 10 - InitialStateType definition"
    },
    {
      "Id": "5259ad0b-8a30-4beb-9cdd-a03e3f33f810",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.10 InitialStateType\nCaption: Table 10 - InitialStateType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nInitialStateType\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the StateType defined in[4.4.9](/\u00A7_Ref33076422)\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "c6448d64-da7d-4c4f-ac77-56acda4b159b",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.10 InitialStateType\n---\n",
      "Content": ""
    },
    {
      "Id": "97656591-5ff3-4285-966a-1f0ae41aed5e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.11 TransitionType"
    },
    {
      "Id": "9082b22d-57f6-4166-9a7a-a092ef390577",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.11 TransitionType\n---\n",
      "Content": "Transitions of a FiniteStateMachine are represented as Objects of the ObjectType TransitionType formally defined in[Table 11](/\u00A7_Ref98238438). Each Object of the TransitionType or one of its subtypes shall be referenced from the ObjectType FiniteStateMachineType or one of its subtypes using a HasComponent Reference or a subtype of HasComponent and shall not have a ModellingRule as they are not applied on the instances.\nEach valid Transition shall have exactly one FromState Reference and exactly one ToState Reference, each pointing to an Object of the ObjectType StateType.\nEach Transition can have one or more HasCause References pointing to the cause that triggers the Transition.\nEach Transition can have one or more HasEffect References pointing to the effects that occur when the Transition was triggered.\nTable 11 - TransitionType definition"
    },
    {
      "Id": "baaca720-24b5-455c-8f88-481aee207217",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.11 TransitionType\nCaption: Table 11 - TransitionType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nTransitionType\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseObjectType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasProperty\nVariable\nTransitionNumber\nUInt32\nPropertyType\nMandatory\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "1d230c71-f644-42ab-9f41-6e8ac4d81d80",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.11 TransitionType\n---\n",
      "Content": ""
    },
    {
      "Id": "92c5b20a-2b6c-44ed-a023-8d4034e3d2e9",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.12 FromState"
    },
    {
      "Id": "5aafa7df-d371-4d1c-b1cc-8eacb1ccfd7c",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.12 FromState\n---\n",
      "Content": "The FromState ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of NonHierarchicalReferences.\nThe semantic of this ReferenceType is to point from a Transition to the starting State the Transition connects.\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType TransitionType or one of its subtypes. The TargetNode of this ReferenceType shall be an Object of the ObjectType StateType or one of its subtypes.\nThe representation of the FromState ReferenceType in the AddressSpace is specified in[Table 12](/\u00A7_Ref33078212).\nTable 12 - FromState ReferenceType"
    },
    {
      "Id": "de266798-3e94-4468-892f-404d99e219ca",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.12 FromState\nCaption: Table 12 - FromState ReferenceType\n---\n",
      "Content": "Attributes\nValue\nBrowseName\nFromState\nInverseName\nToTransition\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nComment\n\n\n\n\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "149821fe-438e-4fba-94fc-2cf167cc2925",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.12 FromState\n---\n",
      "Content": ""
    },
    {
      "Id": "de5bb6e8-ca3d-4ea7-b830-c640e3661703",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.13 ToState"
    },
    {
      "Id": "d8a8b342-4cac-46a9-953d-18c8431f63a8",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.13 ToState\n---\n",
      "Content": "The ToState ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of NonHierarchicalReferences.\nThe semantic of this ReferenceType is to point from a Transition to the ending State the Transition connects.\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType TransitionType or one of its subtypes. The TargetNode of this ReferenceType shall be an Object of the ObjectType StateType or one of its subtypes.\nReferences of this ReferenceType may be only exposed uni-directional. Sometimes this is required, for example, if a Transition points to a State of a sub-machine.\nThe representation of the ToState ReferenceType in the AddressSpace is specified in[Table 13](/\u00A7_Ref33078236).\nTable 13 - ToState ReferenceType"
    },
    {
      "Id": "f68b4183-6519-4165-bfe1-a995b3c5f64c",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.13 ToState\nCaption: Table 13 - ToState ReferenceType\n---\n",
      "Content": "Attributes\nValue\nBrowseName\nToState\nInverseName\nFromTransition\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nComment\n\n\n\n\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "2a6375d0-cd88-4e93-b859-1838c2c4e995",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.13 ToState\n---\n",
      "Content": ""
    },
    {
      "Id": "5ecbc1a6-c262-4da7-b6ea-893c8134f5e6",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.14 HasCause"
    },
    {
      "Id": "1d0d6efe-0fdf-4d37-b86d-0dd2f99bcd5f",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.14 HasCause\n---\n",
      "Content": "The HasCause ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of NonHierarchicalReferences.\nThe semantic of this ReferenceType is to point from a Transition to something that causes the Transition. In this specification we only define Methods as Causes. However, the ReferenceType is not restricted to point to Methods. The referenced Methods can, but do not have to point to a Method of the StateMachineType. For example, it is allowed to point to a server-wide restart Method leading the state machine to go into its initial state.\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType TransitionType or one of its subtypes. The TargetNode can be of any NodeClass.\nThe representation of the HasCause ReferenceType in the AddressSpace is specified in[Table 14](/\u00A7_Ref33078257).\nTable 14 - HasCause ReferenceType"
    },
    {
      "Id": "f40fa679-ffb6-4b4a-9bd7-3fde0dea3035",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.14 HasCause\nCaption: Table 14 - HasCause ReferenceType\n---\n",
      "Content": "Attributes\nValue\nBrowseName\nHasCause\nInverseName\nMayBeCausedBy\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nComment\n\n\n\n\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "b3d40525-4db2-4ea6-ab8c-f14709ca0ae5",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.14 HasCause\n---\n",
      "Content": ""
    },
    {
      "Id": "d1d9c9ea-069e-498c-ae6a-93bfd0089e8a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.15 HasEffect"
    },
    {
      "Id": "2afc46a5-38d6-4e53-88ec-ace1f5e99cf7",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.15 HasEffect\n---\n",
      "Content": "The HasEffect ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of NonHierarchicalReferences.\nThe semantic of this ReferenceType is to point from a Transition to something that will be effected when the Transition is triggered. In this specification we only define EventTypes as Effects. However, the ReferenceType is not restricted to point to EventTypes.\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType TransitionType or one of its subtypes. The TargetNode can be of any NodeClass.\nIf the TargetNode is an EventType, each time the Transition is triggered (either by a Client or internally in the Server) an Event of that EventType or a subtype shall be generated.\nThe representation of the HasEffect ReferenceType in the AddressSpace is specified in[Table 15](/\u00A7_Ref33078273).\nTable 15 - HasEffect ReferenceType"
    },
    {
      "Id": "bf0d8fae-b4f5-4361-9652-6913b9515327",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.15 HasEffect\nCaption: Table 15 - HasEffect ReferenceType\n---\n",
      "Content": "Attributes\nValue\nBrowseName\nHasEffect\nInverseName\nMayBeEffectedBy\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nComment\n\n\n\n\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "e2d85e23-f940-4216-a8fa-8026ee0d0378",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.15 HasEffect\n---\n",
      "Content": ""
    },
    {
      "Id": "71c415c1-6445-41ed-8289-a32eb94730a7",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.16 HasSubStateMachine"
    },
    {
      "Id": "1f9ae856-11c6-492b-af51-5b605cfdc934",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.16 HasSubStateMachine\n---\n",
      "Content": "The HasSubStateMachine ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of NonHierarchicalReferences.\nThe semantic of this ReferenceType is to point from a State to an instance of a StateMachineType which represents the sub-states for the State.\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType StateType. The TargetNode shall be an Object of the ObjectType StateMachineType or one of its subtypes. Each Object can be the TargetNode of at most one HasSubStateMachine Reference.\nThe SourceNode(the state) and the TargetNode(the SubStateMachine) shall belong to the same StateMachine. Therefore, the SourceNode shall be referenced from the ObjectType FiniteStateMachineType or one of its subtypes and the TargetNode shall be referenced from the same ObjectType, both using a HasComponent Reference or a subtype of HasComponent.\nThe representation of the HasSubStateMachine ReferenceType in the AddressSpace is specified in[Table 16](/\u00A7_Ref33078293).\nTable 16 - HasSubStateMachine ReferenceType"
    },
    {
      "Id": "8a99c76a-fcba-47df-86ff-cda256f823f9",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.16 HasSubStateMachine\nCaption: Table 16 - HasSubStateMachine ReferenceType\n---\n",
      "Content": "Attributes\nValue\nBrowseName\nHasSubStateMachine\nInverseName\nSubStateMachineOf\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nComment\n\n\n\n\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "dddbf280-96e1-4f09-b29c-9bc8730a7eba",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.16 HasSubStateMachine\n---\n",
      "Content": ""
    },
    {
      "Id": "9ef97444-8b49-4b37-8d40-4201f7eb4c43",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.17 TransitionEventType"
    },
    {
      "Id": "a6e87d52-859b-4f36-9c3f-d24cf5db01a4",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.17 TransitionEventType\n---\n",
      "Content": "The TransitionEventType is a subtype of the BaseEventType. It can be used to generate an Event identifying that a Transition of a StateMachine was triggered. It is formally defined in[Table 17](/\u00A7_Ref33078308).\nTable 17 - TransitionEventType"
    },
    {
      "Id": "4d852f5b-0429-4a78-9578-85f2d7069984",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.17 TransitionEventType\nCaption: Table 17 - TransitionEventType\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nTransitionEventType\nIsAbstract\nTrue\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the base BaseEventType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasComponent\nVariable\nTransition\nLocalizedText\nTransitionVariableType\nMandatory\nHasComponent\nVariable\nFromState\nLocalizedText\nStateVariableType\nMandatory\nHasComponent\nVariable\nToState\nLocalizedText\nStateVariableType\nMandatory\nConformance Units\nBase Info Finite State Machine Instance"
    },
    {
      "Id": "b8047543-126c-4f2c-a208-6fb4477bfd60",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.17 TransitionEventType\n---\n",
      "Content": "The TransitionEventType inherits the Properties of the BaseEventType.\nThe inherited Property SourceNode shall be filled with the NodeId of the StateMachine instance where the Transition occurs. If the Transition occurs in a SubStateMachine, then the NodeId of the SubStateMachine has to be used. If the Transition occurs between a StateMachine and a SubStateMachine, then the NodeId of the StateMachine has to be used, independent of the direction of the Transition.\nTransition identifies the Transition that triggered the Event.\nFromState identifies the State before the Transition.\nToState identifies the State after the Transition."
    },
    {
      "Id": "e5696ee3-3eeb-47ad-8a87-cde5d24c7bdf",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.18 AuditUpdateStateEventType"
    },
    {
      "Id": "b51f6a6e-0b79-4ded-88eb-bed81bb2143e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.18 AuditUpdateStateEventType\n---\n",
      "Content": "The AuditUpdateStateEventType is a subtype of the AuditUpdateMethodEventType. It can be used to generate an Event identifying that a Transition of a StateMachine was triggered. It is formally defined in[Table 18](/\u00A7_Ref33078332).\nTable 18 - AuditUpdateStateEventType"
    },
    {
      "Id": "c8e213e2-5239-4368-ba40-3be45773688a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.18 AuditUpdateStateEventType\nCaption: Table 18 - AuditUpdateStateEventType\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nAuditUpdateStateEventType\nIsAbstract\nTrue\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the AuditUpdateMethodEventType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasProperty\nVariable\nOldStateId\nBaseDataType\nPropertyType\nMandatory\nHasProperty\nVariable\nNewStateId\nBaseDataType\nPropertyType\nMandatory\nConformance Units\nAuditing UpdateStates"
    },
    {
      "Id": "57a9fe77-99b7-4f2d-b012-12841160c6ed",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.18 AuditUpdateStateEventType\n---\n",
      "Content": "The AuditUpdateStateEventType inherits the Properties of the AuditUpdateMethodEventType.\nThe inherited Property SourceNode shall be filled with the NodeId of the StateMachine instance where the State changed. If the State changed in a SubStateMachine, then the NodeId of the SubStateMachine has to be used.\nThe SourceName for Events of this type should be the effect that generated the event (e.g. the name of a Method). If the effect was generated by a Method call, the SourceName should be the name of the Method prefixed with \u0022Method/\u0022.\nOldStateId reflects the Id of the state prior the change.\nNewStateId reflects the new Id of the state after the change."
    },
    {
      "Id": "e2852b3e-7c37-4d3b-b7ad-122c02ec6b06",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.19 Special Restrictions on subtyping StateMachines"
    },
    {
      "Id": "1c8ff85a-1c9b-487e-b6e7-0696ee908a2e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.19 Special Restrictions on subtyping StateMachines\n---\n",
      "Content": "In general, all rules on subtyping apply for StateMachine types as well. Some additional rules apply for StateMachine types.\nStates and Transitions are not instantiated, this information is only provided on the ObjectType. They have no ModellingRule, and thus, also the inheritance of States and Transitions is not defined. Therefore, the following rules apply for subtyping StateMachines. Each State and Transition defined on the supertype shall be available on the subtype as well. That is, for each State defined on the supertype another Node of the same ObjectType having the same BrowseName and the same StateNumber shall be defined on the subtype. For each Transition defined on the supertype another Node of the same ObjectType having the same BrowseName and the same TransitionNumber shall be defined on the subtype. All references defining the StateMachine( HasCause, HasEffect, FromState, ToState, HasSubStateMachine, HasGuard) shall be replicated in the subtype as well. If InstanceDeclarations are referenced (e.g., Methods used to trigger Transitions) either the InstanceDeclaration of the supertype is referenced or the InstanceDeclaration is overridden, and in the latter case the overridden InstanceDeclaration of the subtype shall be referenced.\nIf a StateMachine type is not abstract, subtypes of it shall not change the behaviour of it. That means, that in this case a subtype shall not add States and it shall not add Transitions between its States. However, a subtype may add SubStateMachines, it may add Transitions from the States to the States of the SubStateMachine, and it may add Causes and Effects to a Transition. In addition, a subtype of a StateMachine type shall not remove States or Transitions."
    },
    {
      "Id": "926fb097-a765-47dd-b66a-65f3f65df64b",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4 Representation of state machines in the AddressSpace\n---\n",
      "Content": "4.4.20 Specific StatusCodes for StateMachines"
    },
    {
      "Id": "22b261fd-511d-42e8-9e4a-2ae080a16de0",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.20 Specific StatusCodes for StateMachines\n---\n",
      "Content": "In[Table 19](/\u00A7_Ref33078422) specific StatusCodes used for StateMachines are defined.\nTable 19 - Specific StatusCodes for StateMachines"
    },
    {
      "Id": "3b08aacf-1af9-4225-9e70-cd04aec11436",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.20 Specific StatusCodes for StateMachines\nCaption: Table 19 - Specific StatusCodes for StateMachines\n---\n",
      "Content": "Symbolic Id\nDescription\nBad_ StateNotActive\nThe accessed state is not active."
    },
    {
      "Id": "76e1ce55-3ff7-4e02-9fb4-e326c9de3c6a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.4.20 Specific StatusCodes for StateMachines\n---\n",
      "Content": ""
    },
    {
      "Id": "cfc944f1-49ed-4a4d-9bab-1ca5cc32d209",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.5 Examples of StateMachines in the AddressSpace"
    },
    {
      "Id": "67dca9e0-38b3-4718-a29c-f1553d58c600",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5 Examples of StateMachines in the AddressSpace\n---\n",
      "Content": "4.5.1 StateMachineType using inheritance"
    },
    {
      "Id": "6fb15d81-b329-4ec7-9293-fbeac07d7113",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.1 StateMachineType using inheritance\nCaption: Figure 7 - Example of a StateMachineType using inheritance\n---\n",
      "Content": "[image008.png](images/image008.png)"
    },
    {
      "Id": "044f58c9-e4c2-4112-a661-4208cb94b2f2",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.1 StateMachineType using inheritance\n---\n",
      "Content": "Figure 7 - Example of a StateMachineType using inheritance\nIn[Figure 7](/\u00A7_Ref33079898) an example of a StateMachine is given using the Notation defined in[OPC 10000-3](/\u00A7UAPart3). First, a new StateMachineType is defined, called \u0022MyStateMachineType\u0022, inheriting from the base FiniteStateMachineType. It contains two States, \u0022State1\u0022 and \u0022State2\u0022 and a Transition\u0022Transition1\u0022 between them. The Transition points to a Method\u0022MyMethod\u0022 as the Cause of the Transition and an EventType\u0022EventType1\u0022 as the Effect of the Transition.\nInstances of \u0022MyStateMachineType\u0022 can be created, for example \u0022MyStateMachine\u0022. It has a Variable\u0022CurrentState\u0022 representing the current State. The \u0022MyStateMachine\u0022 Object only includes the Nodes which expose information specific to the instance."
    },
    {
      "Id": "1a62db14-5a24-47a5-9cb4-0add49148cae",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5 Examples of StateMachines in the AddressSpace\n---\n",
      "Content": "4.5.2 StateMachineType with a SubStateMachine using inheritance"
    },
    {
      "Id": "8a9277e5-8434-4308-881c-601feba2fca3",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.2 StateMachineType with a SubStateMachine using inheritance\nCaption: Figure 8 - Example of a StateMachineType with a SubStateMachine using inheritance\n---\n",
      "Content": "[image009.png](images/image009.png)"
    },
    {
      "Id": "e0eb8fd3-9582-4478-8878-93e4497c677f",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.2 StateMachineType with a SubStateMachine using inheritance\n---\n",
      "Content": "Figure 8 - Example of a StateMachineType with a SubStateMachine using inheritance\n[Figure 8](/\u00A7_Ref33079935) gives an example of a StateMachineType having a SubStateMachine for its \u0022State1\u0022. For simplicity no effects and causes are shown, as well as type information for the States or ModellingRules.\nThe \u0022MyStateMachineType\u0022 contains an Object\u0022MySubMachine\u0022 of type \u0022AnotherStateMachineType\u0022 representing a SubStateMachine. The \u0022State1\u0022 references this Object with a HasSubStateMachine Reference, thus it is a SubStateMachine of \u0022State1\u0022. Since \u0022MySubMachine\u0022 is an Object of type \u0022AnotherStateMachineType\u0022 it has a Variable representing the current State. Since it is used as an InstanceDeclaration, no value is assigned to this Variable.\nAn Object of \u0022MyStateMachineType\u0022, called \u0022MyStateMachine\u0022 has Variables for the current State, but also has an Object\u0022MySubMachine\u0022 and a Variable representing the current state of the SubStateMachine. Since the SubStateMachine is only used when \u0022MyStateMachine\u0022 is in \u0022State1\u0022, a client would receive a Bad_StateNotActive StatusCode when reading the SubStateMachine CurrentState Variable if \u0022MyStateMachine\u0022 is in a different State."
    },
    {
      "Id": "af156277-2145-43b2-a63f-9aacb0ee4e79",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5 Examples of StateMachines in the AddressSpace\n---\n",
      "Content": "4.5.3 StateMachineType using containment"
    },
    {
      "Id": "be19a34f-3eb4-4dde-892f-7618e4dfbd6a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.3 StateMachineType using containment\nCaption: Figure 9 - Example of a StateMachineType using containment\n---\n",
      "Content": "[image010.png](images/image010.png)"
    },
    {
      "Id": "5cb7048d-dda1-4528-b73d-ea54183424c1",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.3 StateMachineType using containment\n---\n",
      "Content": "Figure 9 - Example of a StateMachineType using containment\n[Figure 9](/\u00A7_Ref33079965) gives an example of an ObjectType not only representing a StateMachine but also having some other functionality. The ObjectType\u0022MyObjectType\u0022 has an Object\u0022MyComponent\u0022 representing this other functionality. But it also contains a StateMachine\u0022MyStateMachine\u0022 of the type \u0022MyStateMachineType\u0022. Objects of \u0022MyObjectType\u0022 also contain such an Object representing the StateMachine and a Variable containing the current state of the StateMachine, as shown in the Figure."
    },
    {
      "Id": "70472137-23d3-469d-aa87-bec879c01475",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5 Examples of StateMachines in the AddressSpace\n---\n",
      "Content": "4.5.4 Example of a StateMachine having Transition to SubStateMachine"
    },
    {
      "Id": "24e7688f-43ad-4c44-8df3-ac03896814da",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.4 Example of a StateMachine having Transition to SubStateMachine\n---\n",
      "Content": "The StateMachines shown so far only had Transitions between States on the same level, that is, on the same StateMachine. Of cause, it is possible and often required to have Transitions between States of the StateMachine and States of its SubStateMachine.\nBecause a SubStateMachine can be defined by another StateMachineType and this type can be used in several places, it is not possible to add a bi-directional Reference from one of the shared States of the SubStateMachine to another StateMachine. In this case it is suitable to expose the FromState or ToState References uni-directional, that is, only pointing from the Transition to the State and not being able to browse to the other direction. If a Transition points from a State of a SubStateMachine to a State of another sub-machine, both, the FromState and the ToState Reference, are handled uni-directional.\nA Client shall be able to handle the information of a StateMachine if the ToState and FromState References are only exposed as forward References and the inverse References are omitted.\n[Figure 10](/\u00A7_Ref33079995) gives an example of a state machine having a transition from a sub-state to a state."
    },
    {
      "Id": "b77b39e9-ac70-4719-a384-e393f8ade129",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.4 Example of a StateMachine having Transition to SubStateMachine\nCaption: Figure 10 - Example of a StateMachine with Transitions from sub-states\n---\n",
      "Content": "[image011.png](images/image011.png)"
    },
    {
      "Id": "daa3ccbe-bc55-4e0a-81db-a4967ef6f6a1",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.4 Example of a StateMachine having Transition to SubStateMachine\n---\n",
      "Content": "Figure 10 - Example of a StateMachine with Transitions from sub-states\nIn[Figure 11](/\u00A7_Ref33080060) the representation of this example as StateMachineType in the AddressSpace is given. The \u0022Transition1\u0022, part of the definition of \u0022MyStateMachineType\u0022, points to the \u0022StateX\u0022 of the StateMachineType\u0022AnotherStateMachineType\u0022. The Reference is only exposed as forward Reference and the inverse Reference is omitted. Thus, there is no Reference from the \u0022StateX\u0022 of \u0022AnotherStateMachineType\u0022 to any part of \u0022MyStateMachineType\u0022 and \u0022AnotherStateMachineType\u0022 can be used in other places as well."
    },
    {
      "Id": "e19d14f3-d536-47e6-b24e-02463f769f77",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.4 Example of a StateMachine having Transition to SubStateMachine\nCaption: Figure 11 - Example of a StateMachineType having Transition to SubStateMachine\n---\n",
      "Content": "[image012.png](images/image012.png)"
    },
    {
      "Id": "00abeb16-075e-469f-a5c6-e862c5734bbd",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.4 Example of a StateMachine having Transition to SubStateMachine\n---\n",
      "Content": "Figure 11 - Example of a StateMachineType having Transition to SubStateMachine"
    },
    {
      "Id": "5d7ba5c9-5044-4e8d-9e97-f1bbb4ee9bab",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5 Examples of StateMachines in the AddressSpace\n---\n",
      "Content": "4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype"
    },
    {
      "Id": "3f3220e4-baa1-4838-b056-50fa085e15ba",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\n---\n",
      "Content": "When a subtype of FiniteStateMachineType having States extends the StateMachine, it is not allowed to add additional States, but instead SubStateMachines can be added to existing States.\nThe example in[Figure 12](/\u00A7_Ref57733924) shows a very simple StateMachine with two States."
    },
    {
      "Id": "9e1d4f2d-0b49-4e50-8e1a-897ff9a207f2",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\nCaption: Figure 12 - Example of a StateMachine with two States\n---\n",
      "Content": "[image013.png](images/image013.png)"
    },
    {
      "Id": "872dada9-b302-41a0-bc92-750b6fde0caf",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\n---\n",
      "Content": "Figure 12 - Example of a StateMachine with two States\nIn[Figure 13](/\u00A7_Ref57733993) the StateMachine of[Figure 12](/\u00A7_Ref57733924) is extended by adding two substates to \u0022State1\u0022."
    },
    {
      "Id": "132d781e-2fc3-45b9-94c4-b1cc77ec4ef0",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\nCaption: Figure 13 - Example of a StateMachine extended with two Substates\n---\n",
      "Content": "[image014.png](images/image014.png)"
    },
    {
      "Id": "48e2ffba-1e46-41df-a56e-0c63b63bcf58",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\n---\n",
      "Content": "Figure 13 - Example of a StateMachine extended with two Substates\nIn[Figure 14](/\u00A7_Ref60828021) the StateMachine of[Figure 13](/\u00A7_Ref57733993) is extended by adding two substates to \u0022State2\u0022, and an effect on the Transition between \u0022State1\u0022 and \u0022State2\u0022."
    },
    {
      "Id": "708391e6-7600-406e-bf02-1f85c2988435",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\nCaption: Figure 14 - Example of a StateMachine extended with another two Substates\n---\n",
      "Content": "[image015.png](images/image015.png)"
    },
    {
      "Id": "754ed630-dcff-4a3d-a900-73a8993af92f",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\n---\n",
      "Content": "Figure 14 - Example of a StateMachine extended with another two Substates\nIn[Figure 15](/\u00A7_Ref57811973) the representation of this example as StateMachineType in the AddressSpace is given. The \u0022MyStateMachineType\u0022 defines the StateMachine of[Figure 12](/\u00A7_Ref57733924), and the \u0022MySubStateMachineType\u0022 is a subtype and extends the StateMachine with a SubStateMachine as defined in[Figure 13](/\u00A7_Ref57733993). The \u0022MySubSubStateMachineType\u0022 is another subtype as defined in[Figure 14](/\u00A7_Ref60828021).\nThe States and Transitions of \u0022MyStateMachineType\u0022 are replicated to \u0022MySubStateMachineType\u0022 and \u0022MySubSubStateMachineType\u0022. Since \u0022Method1\u0022 is not overridden, the \u0022Transition1\u0022 of all three types is referencing the Method of \u0022MyStateMachineType\u0022. In \u0022MySubStateMachineType\u0022, a SubStateMachine for \u0022State1\u0022 was added, and in \u0022MySubSubStateMachineType\u0022 a SubStateMachine for \u0022State2\u0022. In addition, \u0022MySubSubStateMachineType\u0022 adds an effect to \u0022Transition1\u0022."
    },
    {
      "Id": "0c06dbc3-d613-494f-86c8-db68fd584302",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\nCaption: Figure 15 - Example of a StateMachineType adding SubStateMachines in Subtypes\n---\n",
      "Content": "[image016.png](images/image016.png)"
    },
    {
      "Id": "394c1a84-5105-47f3-a05c-4f7bef327349",
      "Header": "Document: Part 16 - State Machines\nSection: 4.5.5 Example of a StateMachine adding a SubStateMachine on a Subtype\n---\n",
      "Content": "Figure 15 - Example of a StateMachineType adding SubStateMachines in Subtypes"
    },
    {
      "Id": "1410418f-e300-4481-81d6-e3b901740137",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.6 StateMachine Extensions for ChoiceStates and Guards"
    },
    {
      "Id": "dfb25e69-2879-43b7-8c31-324c81e14c71",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.1 Overview"
    },
    {
      "Id": "b75a5bc2-f5a7-4200-b0fb-20ecfc98c8b5",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.1 Overview\n---\n",
      "Content": "This section describes extensions to the StateMachine model allowing choices and guards on StateMachines."
    },
    {
      "Id": "436dcc24-12a5-4fd5-a294-1edf2d554e83",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.2 ChoiceStateType"
    },
    {
      "Id": "80d8f562-bf05-488e-a33a-3a0efee76539",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.2 ChoiceStateType\n---\n",
      "Content": "The ChoiceStateType is a subtype of the StateType and is formally defined in[Table 20](/\u00A7_Ref51189834). An Object of the ChoiceStateType represents a pseudo state that is directly exited when it is entered. The Guards defined on the Transitions from the ChoiceState determine which Transition is used. The Guards shall be defined in a way that at least one Guard is true and a Transition can be determined. If this is not the case, the StateMachine is non-well formed. To avoid this, the specific ElseGuardVariableType can be used, which is only \u0022true\u0022 if all other Guards on a ChoiceState are \u0022false\u0022. If several Guards are \u0022true\u0022, only one of those Transitions is used. The algorithm to determine the Transition is server-specific.\nA sample StateMachine using a ChoiceState is given in[Figure 16](/\u00A7_Ref33080668). It provides a simplified representation of a robot. When the StateMachine is in the S1_Initial state, calling the Load() Method loads a program to the robot and triggers the Transition into the ChoiceState(CS). In the ChoiceState the Guards are validated and in case the robot is on the correct position for the loaded program (validated by the guard OnPath = True) the State S3_Ready is entered. In case the robot is not in the correct position (Else) the S2_Loaded State is entered. In that State, the Prepare() Method puts the robot in the correct position, and triggers the Transition to S3_Ready. If the robot is ready, it can be started. While it is running, it can be stopped. If the program is finished, the robot goes back to either the loaded or ready state, depending on its position, using the ChoiceState, again."
    },
    {
      "Id": "557b59be-4205-4e2a-a248-90f1b918d1e3",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.2 ChoiceStateType\nCaption: Figure 16 - Example of a ChoiceState\n---\n",
      "Content": "[image017.png](images/image017.png)"
    },
    {
      "Id": "f963e5c7-4000-4879-876e-8c043df85145",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.2 ChoiceStateType\n---\n",
      "Content": "Figure 16 - Example of a ChoiceState\nAs the ChoiceState is directly exited after it is entered there shall be no trigger (using the HasCause ReferenceType or a subtype) defined on any leaving Transition( Transitions referencing the ChoiceState with the FromState Reference or a subtype).\nTable 20 - ChoiceStateType"
    },
    {
      "Id": "aadac90e-136b-45c4-97a9-9651a5caeff6",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.2 ChoiceStateType\nCaption: Table 20 - ChoiceStateType\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nChoiceStateType\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the State Type defined in[4.4.9](/\u00A7_Ref33076422)\nConformance Units\nBase Info Choice States"
    },
    {
      "Id": "9d31633e-3358-4dd6-bd02-0cc222087757",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.2 ChoiceStateType\n---\n",
      "Content": ""
    },
    {
      "Id": "ff28a2c7-ee55-41e6-8136-d607d6fe75aa",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.3 HasGuard"
    },
    {
      "Id": "480e8096-53c5-4a66-9bce-c102f0332ae8",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.3 HasGuard\n---\n",
      "Content": "The HasGuard ReferenceType is a concrete ReferenceType and can be used directly. It is a subtype of HasComponent.\nThe semantic of this ReferenceType is to point from a Transition to a Guard. The Guard indicates if the Transition can be used or not (see GuardVariableType). A Transition can only be used, if the Guard is \u0022True\u0022. A Transition can point to several Guards. In that case, all Guards need to be \u0022True\u0022 before the Transition can be used. If there is no Guard, the Transition can always be used (considered as if all Guards are \u0022True\u0022).\nThe SourceNode of this ReferenceType shall be an Object of the ObjectType TransitionType or one of its subtypes. The TargetNode shall be a Variable of the VariableType GuardVariableType or one of its subtypes.\nThe representation of the HasGuard ReferenceType in the AddressSpace is specified in[Table 21](/\u00A7_Ref33078513).\nTable 21 - HasGuard ReferenceType"
    },
    {
      "Id": "0030d584-ec3b-4430-bf9e-ceb95a67eed5",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.3 HasGuard\nCaption: Table 21 - HasGuard ReferenceType\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nHasGuard\nInverseName\nGuardOf\nSymmetric\nFalse\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the HasComponent ReferenceType defined in\nConformance Units\nBase Info Choice States"
    },
    {
      "Id": "5c471d2f-eee8-4f50-bb89-72a42793d65f",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.3 HasGuard\n---\n",
      "Content": ""
    },
    {
      "Id": "d91a1292-bad5-4858-a32e-86683ed8de4a",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.4 GuardVariableType"
    },
    {
      "Id": "75fc70e7-6bc7-4e5d-ba6d-6623524ab461",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.4 GuardVariableType\n---\n",
      "Content": "The GuardVariableType provides the information of a Guard of a Transition in a StateMachine. A Guard indicates, if the Transition can be used or not. The Guard defines a semantic that can be evaluated to \u0022True\u0022 or \u0022False\u0022. Only if the semantic is \u0022True\u0022, the Transition connected via a HasGuard Reference can be used. The value of the GuardVariableType provides the semantic of the Guard in a human-readable way, that can be used to display the StateMachine.\nThis base GuardVariableType does not define a machine-readable semantic of the Guard. The calculation, if the Guard is \u0022True\u0022 or \u0022False\u0022 is server-specific. Subtypes of this VariableType do define concrete machine-readable semantics.\nThe GuardVariableType is formally defined in[Table 22](/\u00A7_Ref33078526).\nTable 22 - GuardVariableType definition"
    },
    {
      "Id": "7a08e325-73cc-4c21-b56e-4db00e82f628",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.4 GuardVariableType\nCaption: Table 22 - GuardVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nGuardVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the BaseDataVariableType defined in[OPC 10000-5](/\u00A7UAPart5)\nHasSubtype\nVariableType\nElseGuardVariableType\nDefined in[4.6.6](/\u00A7_Ref535594246)\nHasSubtype\nVariableType\nExpressionGuardVariableType\nDefined in[4.6.5](/\u00A7_Ref535594261)\nConformance Units\nBase Info Choice States"
    },
    {
      "Id": "6c7cbe7b-7657-4385-b90e-0098e5be41ae",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.4 GuardVariableType\n---\n",
      "Content": ""
    },
    {
      "Id": "7a183444-4e9e-4428-92d4-a88c45188870",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.5 ExpressionGuardVariableType"
    },
    {
      "Id": "0e4c81cc-f833-4c81-859a-e6b62a05e2c3",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.5 ExpressionGuardVariableType\n---\n",
      "Content": "The ExpressionGuardVariableType provides, in addition to the human-readable semantic from its GuardVariableType, a machine interpretable representation on the semantic.\nThe ExpressionGuardVariableType is formally defined in[Table 23](/\u00A7_Ref33078561).\nTable 23 - ExpressionGuardVariableType definition"
    },
    {
      "Id": "0688d848-f616-47fa-b706-41a0d951fd04",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.5 ExpressionGuardVariableType\nCaption: Table 23 - ExpressionGuardVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nExpressionGuardVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the GuardVariableType defined in[4.6.4](/\u00A7_Ref535591767)\nHasProperty\nVariable\nExpression\nContentFilter\nPropertyType\nMandatory\nConformance Units\nBase Info Choice States"
    },
    {
      "Id": "df479668-7c31-4de9-a656-1e0533b03f2e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.5 ExpressionGuardVariableType\n---\n",
      "Content": "The mandatory Property Expression provides a ContentFilter, that shall be evaluated on the Object the StateMachine belongs to. This is a machine-readable semantic of the Guard. If the ContentFilter evaluates to \u0022True\u0022, the Guard is \u0022True\u0022, otherwise the Guard is \u0022False\u0022.\nThe ContentFilter for ExpressionGuardVariableType is restricted to basic operators (see[OPC 10000-4](/\u00A7UAPart4) for details).\nThe ContentFilter can reference any Variables defined on the StateMachineType and are validated on the instance of the StateMachine. If the definition of the Variable is not owned directly by the StateMachine but for example some other type, the StateMachine instance shall reference that Variable."
    },
    {
      "Id": "d35f3e36-5dfc-4f24-8f2a-ea7a6054f5d0",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6 StateMachine Extensions for ChoiceStates and Guards\n---\n",
      "Content": "4.6.6 ElseGuardVariableType"
    },
    {
      "Id": "17697658-1007-41c6-882c-aa6ad7541d2e",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.6 ElseGuardVariableType\n---\n",
      "Content": "The ElseGuardVariableType is a specialization of the GuardVariableType defining a concrete semantic for the Guard. The value of the Guard should always be {\u0022en\u0022, \u0022Else\u0022} or a translation of this. The ElseGuardVariableType shall only be used on pseudo states like the ChoiceStateType. That means, that it shall only be referenced from Transitions having such a StateType as SourceNode. The ElseGuardVariableType shall only be used once for each State. That means, that each State shall at most have one Transition(referenced as SourceNode) referencing an ElseGuardVariableType. The ElseGuardVariableType shall be the only Guard of a Transition. That means, if a Transition references an instance of an ElseGuardVariableType, it shall not reference any other Guards.\nThe semantic of the ElseGuardVariableType is, that if a pseudo state is reached and no other Transition exists on the State where all its Guards are validated to \u0022True\u0022, this Guards validates to \u0022True\u0022 and thus its Transition is used.\nThe ElseGuardVariableType is formally defined in[Table 24](/\u00A7_Ref33078599).\nTable 24 - ElseGuardVariableType definition"
    },
    {
      "Id": "55232a17-73b9-4172-957c-cde80fdf0fae",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.6 ElseGuardVariableType\nCaption: Table 24 - ElseGuardVariableType definition\n---\n",
      "Content": "Attribute\nValue\nBrowseName\nElseGuardVariableType\nDataType\nLocalizedText\nValueRank\n\u22121 (\u22121 = Scalar)\nIsAbstract\nFalse\nReferences\nNodeClass\nBrowseName\nDataType\nTypeDefinition\nModellingRule\nSubtype of the GuardVariableType defined in[4.6.4](/\u00A7_Ref535591767)\nConformance Units\nBase Info Choice States"
    },
    {
      "Id": "b7741102-094d-449b-b1ba-b60b48cdbb50",
      "Header": "Document: Part 16 - State Machines\nSection: 4.6.6 ElseGuardVariableType\n---\n",
      "Content": ""
    },
    {
      "Id": "4a22dcbe-53d3-4dd0-8b59-78e9b0965f02",
      "Header": "Document: Part 16 - State Machines\nSection: 4 State Machine Model\n---\n",
      "Content": "4.7 Example of a StateMachine using a ChoiceState and Guards"
    },
    {
      "Id": "431082c2-67d8-4c5a-9905-b392fc8b6069",
      "Header": "Document: Part 16 - State Machines\nSection: 4.7 Example of a StateMachine using a ChoiceState and Guards\n---\n",
      "Content": "Taking the sample StateMachine of[Figure 16](/\u00A7_Ref33080668) its representation in the OPC UA AddressSpace is shown in[Figure 17](/\u00A7_Ref33080537) as RobotStateMachineType. The Transition T2 between the ChoiceState and S2_Loaded has the Guard \u0022Else\u0022 of ElseGuardVariableType and the Transition T3 between the ChoiceState and S3_Ready has the Guard\u0022OnPathTrue\u0022 having an \u0022Expression\u0022 Property(not shown in the figure). The ContentFilter of the Expression references to the ProgramLoaded Variable of the RobotStateMachineType. When the ChoiceState is entered on an instance of the RobotStateMachineType like MyStateMachine in[Figure 17](/\u00A7_Ref33080537), the concrete Variable of the instance is used to evaluate the ContentFilter. The value of the Expression is in the sample an array with one entry, using the FilterOperator Equal_0 and the filterOperands are the SimpleOperand OnPath and the Literal value \u0022True\u0022."
    },
    {
      "Id": "8a866250-03c3-480d-b0fa-e5241c52ac2d",
      "Header": "Document: Part 16 - State Machines\nSection: 4.7 Example of a StateMachine using a ChoiceState and Guards\nCaption: Figure 17 - Example of a StateMachine using ChoiceState and Guards\n---\n",
      "Content": "[image018.png](images/image018.png)"
    },
    {
      "Id": "3172ddb7-459c-4f28-a5f7-45edd14909bd",
      "Header": "Document: Part 16 - State Machines\nSection: 4.7 Example of a StateMachine using a ChoiceState and Guards\n---\n",
      "Content": "Figure 17 - Example of a StateMachine using ChoiceState and Guards\n__________"
    }
  ]
}